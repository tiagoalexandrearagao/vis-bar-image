!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.charts=n():t.charts=n()}(window,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=10)}([,,function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",r=t[3];if(!r)return e;if(n&&"function"==typeof btoa){var i=(u=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(u)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[e].concat(o).concat([i]).join("\n")}var u,a,c;return[e].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var u=this[o][0];null!=u&&(i[u]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&i[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),n.push(c))}},n}},,,,,function(t,n,e){var r=e(8),i=e(9);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,n,e){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),u=[];function a(t){for(var n=-1,e=0;e<u.length;e++)if(u[e].identifier===t){n=e;break}return n}function c(t,n){for(var e={},r=[],i=0;i<t.length;i++){var o=t[i],c=n.base?o[0]+n.base:o[0],f=e[c]||0,s="".concat(c," ").concat(f);e[c]=f+1;var l=a(s),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==l?(u[l].references++,u[l].updater(h)):u.push({identifier:s,updater:v(h,n),references:1}),r.push(s)}return r}function f(t){var n=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=e.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){n.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(n);else{var u=o(t.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(n)}return n}var s,l=(s=[],function(t,n){return s[t]=n,s.filter(Boolean).join("\n")});function h(t,n,e,r){var i=e?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(n,i);else{var o=document.createTextNode(i),u=t.childNodes;u[n]&&t.removeChild(u[n]),u.length?t.insertBefore(o,u[n]):t.appendChild(o)}}function d(t,n,e){var r=e.css,i=e.media,o=e.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,g=0;function v(t,n){var e,r,i;if(n.singleton){var o=g++;e=p||(p=f(n)),r=h.bind(null,e,o,!1),i=h.bind(null,e,o,!0)}else e=f(n),r=d.bind(null,e,n),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else i()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=i());var e=c(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<e.length;r++){var i=a(e[r]);u[i].references--}for(var o=c(t,n),f=0;f<e.length;f++){var s=a(e[f]);0===u[s].references&&(u[s].updater(),u.splice(s,1))}e=o}}}},function(t,n,e){"use strict";e.r(n);var r=e(2),i=e.n(r)()(!1);i.push([t.i,"#vg-tooltip-element.vg-tooltip.custom-theme {\r\n  background-color: rgba(0, 0, 0, 0.75);\r\n  border-color: rgba(0, 0, 0, 0.7);\r\n  border-radius: 5px;\r\n  width: auto;\r\n}\r\n\r\n#vg-tooltip-element > table tr td.key {\r\n  text-align: left;\r\n  color: #ffffff;\r\n}\r\n\r\n#vg-tooltip-element > table tr td.value {\r\n  text-align: right;\r\n  color: #ffffff;\r\n}\r\n",""]),n.default=i},function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"bisect",(function(){return p})),e.d(r,"bisectRight",(function(){return l})),e.d(r,"bisectLeft",(function(){return h})),e.d(r,"bisectCenter",(function(){return d})),e.d(r,"ascending",(function(){return i})),e.d(r,"bisector",(function(){return u})),e.d(r,"blur",(function(){return g})),e.d(r,"blur2",(function(){return v})),e.d(r,"blurImage",(function(){return y})),e.d(r,"count",(function(){return w})),e.d(r,"cross",(function(){return S})),e.d(r,"cumsum",(function(){return E})),e.d(r,"descending",(function(){return o})),e.d(r,"deviation",(function(){return k})),e.d(r,"extent",(function(){return C})),e.d(r,"Adder",(function(){return P})),e.d(r,"fsum",(function(){return z})),e.d(r,"fcumsum",(function(){return I})),e.d(r,"group",(function(){return L})),e.d(r,"flatGroup",(function(){return Y})),e.d(r,"flatRollup",(function(){return H})),e.d(r,"groups",(function(){return U})),e.d(r,"index",(function(){return G})),e.d(r,"indexes",(function(){return W})),e.d(r,"rollup",(function(){return V})),e.d(r,"rollups",(function(){return X})),e.d(r,"groupSort",(function(){return et})),e.d(r,"bin",(function(){return gt})),e.d(r,"histogram",(function(){return gt})),e.d(r,"thresholdFreedmanDiaconis",(function(){return St})),e.d(r,"thresholdScott",(function(){return Et})),e.d(r,"thresholdSturges",(function(){return pt})),e.d(r,"max",(function(){return vt})),e.d(r,"maxIndex",(function(){return yt})),e.d(r,"mean",(function(){return Nt})),e.d(r,"median",(function(){return kt})),e.d(r,"medianIndex",(function(){return Ct})),e.d(r,"merge",(function(){return Pt})),e.d(r,"min",(function(){return _t})),e.d(r,"minIndex",(function(){return mt})),e.d(r,"mode",(function(){return zt})),e.d(r,"nice",(function(){return dt})),e.d(r,"pairs",(function(){return It})),e.d(r,"permute",(function(){return K})),e.d(r,"quantile",(function(){return Mt})),e.d(r,"quantileIndex",(function(){return Tt})),e.d(r,"quantileSorted",(function(){return At})),e.d(r,"quickselect",(function(){return bt})),e.d(r,"range",(function(){return $t})),e.d(r,"rank",(function(){return Dt})),e.d(r,"least",(function(){return Bt})),e.d(r,"leastIndex",(function(){return Ft})),e.d(r,"greatest",(function(){return wt})),e.d(r,"greatestIndex",(function(){return qt})),e.d(r,"scan",(function(){return Ot})),e.d(r,"shuffle",(function(){return Lt})),e.d(r,"shuffler",(function(){return Ut})),e.d(r,"sum",(function(){return jt})),e.d(r,"ticks",(function(){return st})),e.d(r,"tickIncrement",(function(){return lt})),e.d(r,"tickStep",(function(){return ht})),e.d(r,"transpose",(function(){return Yt})),e.d(r,"variance",(function(){return N})),e.d(r,"zip",(function(){return Vt})),e.d(r,"every",(function(){return Xt})),e.d(r,"some",(function(){return Gt})),e.d(r,"filter",(function(){return Wt})),e.d(r,"map",(function(){return Zt})),e.d(r,"reduce",(function(){return Qt})),e.d(r,"reverse",(function(){return Kt})),e.d(r,"sort",(function(){return J})),e.d(r,"difference",(function(){return Jt})),e.d(r,"disjoint",(function(){return tn})),e.d(r,"intersection",(function(){return nn})),e.d(r,"subset",(function(){return un})),e.d(r,"superset",(function(){return rn})),e.d(r,"union",(function(){return an})),e.d(r,"InternMap",(function(){return R})),e.d(r,"InternSet",(function(){return $})),e.d(r,"axisTop",(function(){return gn})),e.d(r,"axisRight",(function(){return vn})),e.d(r,"axisBottom",(function(){return yn})),e.d(r,"axisLeft",(function(){return _n})),e.d(r,"brush",(function(){return na})),e.d(r,"brushX",(function(){return Ju})),e.d(r,"brushY",(function(){return ta})),e.d(r,"brushSelection",(function(){return Ku})),e.d(r,"chord",(function(){return ha})),e.d(r,"chordTranspose",(function(){return da})),e.d(r,"chordDirected",(function(){return pa})),e.d(r,"ribbon",(function(){return Ia})),e.d(r,"ribbonArrow",(function(){return Ra})),e.d(r,"color",(function(){return ar})),e.d(r,"rgb",(function(){return lr})),e.d(r,"hsl",(function(){return br})),e.d(r,"lab",(function(){return qa})),e.d(r,"hcl",(function(){return Xa})),e.d(r,"lch",(function(){return Va})),e.d(r,"gray",(function(){return Fa})),e.d(r,"cubehelix",(function(){return nc})),e.d(r,"contours",(function(){return lc})),e.d(r,"contourDensity",(function(){return mc})),e.d(r,"Delaunay",(function(){return Gc})),e.d(r,"Voronoi",(function(){return Uc})),e.d(r,"dispatch",(function(){return Tn})),e.d(r,"drag",(function(){return ef})),e.d(r,"dragDisable",(function(){return je})),e.d(r,"dragEnable",(function(){return Ye})),e.d(r,"dsvFormat",(function(){return sf})),e.d(r,"csvParse",(function(){return hf})),e.d(r,"csvParseRows",(function(){return df})),e.d(r,"csvFormat",(function(){return pf})),e.d(r,"csvFormatBody",(function(){return gf})),e.d(r,"csvFormatRows",(function(){return vf})),e.d(r,"csvFormatRow",(function(){return yf})),e.d(r,"csvFormatValue",(function(){return _f})),e.d(r,"tsvParse",(function(){return bf})),e.d(r,"tsvParseRows",(function(){return xf})),e.d(r,"tsvFormat",(function(){return wf})),e.d(r,"tsvFormatBody",(function(){return Mf})),e.d(r,"tsvFormatRows",(function(){return Af})),e.d(r,"tsvFormatRow",(function(){return Tf})),e.d(r,"tsvFormatValue",(function(){return Sf})),e.d(r,"autoType",(function(){return Ef})),e.d(r,"easeLinear",(function(){return kf})),e.d(r,"easeQuad",(function(){return zf})),e.d(r,"easeQuadIn",(function(){return Cf})),e.d(r,"easeQuadOut",(function(){return Pf})),e.d(r,"easeQuadInOut",(function(){return zf})),e.d(r,"easeCubic",(function(){return wu})),e.d(r,"easeCubicIn",(function(){return bu})),e.d(r,"easeCubicOut",(function(){return xu})),e.d(r,"easeCubicInOut",(function(){return wu})),e.d(r,"easePoly",(function(){return $f})),e.d(r,"easePolyIn",(function(){return If})),e.d(r,"easePolyOut",(function(){return Rf})),e.d(r,"easePolyInOut",(function(){return $f})),e.d(r,"easeSin",(function(){return Of})),e.d(r,"easeSinIn",(function(){return Ff})),e.d(r,"easeSinOut",(function(){return qf})),e.d(r,"easeSinInOut",(function(){return Of})),e.d(r,"easeExp",(function(){return Yf})),e.d(r,"easeExpIn",(function(){return Uf})),e.d(r,"easeExpOut",(function(){return jf})),e.d(r,"easeExpInOut",(function(){return Yf})),e.d(r,"easeCircle",(function(){return Xf})),e.d(r,"easeCircleIn",(function(){return Hf})),e.d(r,"easeCircleOut",(function(){return Vf})),e.d(r,"easeCircleInOut",(function(){return Xf})),e.d(r,"easeBounce",(function(){return Wf})),e.d(r,"easeBounceIn",(function(){return Gf})),e.d(r,"easeBounceOut",(function(){return Wf})),e.d(r,"easeBounceInOut",(function(){return Zf})),e.d(r,"easeBack",(function(){return Jf})),e.d(r,"easeBackIn",(function(){return Qf})),e.d(r,"easeBackOut",(function(){return Kf})),e.d(r,"easeBackInOut",(function(){return Jf})),e.d(r,"easeElastic",(function(){return es})),e.d(r,"easeElasticIn",(function(){return ns})),e.d(r,"easeElasticOut",(function(){return es})),e.d(r,"easeElasticInOut",(function(){return rs})),e.d(r,"blob",(function(){return os})),e.d(r,"buffer",(function(){return as})),e.d(r,"dsv",(function(){return ls})),e.d(r,"csv",(function(){return hs})),e.d(r,"tsv",(function(){return ds})),e.d(r,"image",(function(){return ps})),e.d(r,"json",(function(){return vs})),e.d(r,"text",(function(){return fs})),e.d(r,"xml",(function(){return _s})),e.d(r,"html",(function(){return ms})),e.d(r,"svg",(function(){return bs})),e.d(r,"forceCenter",(function(){return xs})),e.d(r,"forceCollide",(function(){return Rs})),e.d(r,"forceLink",(function(){return Bs})),e.d(r,"forceManyBody",(function(){return Us})),e.d(r,"forceRadial",(function(){return js})),e.d(r,"forceSimulation",(function(){return Ls})),e.d(r,"forceX",(function(){return Ys})),e.d(r,"forceY",(function(){return Hs})),e.d(r,"formatDefaultLocale",(function(){return al})),e.d(r,"format",(function(){return Js})),e.d(r,"formatPrefix",(function(){return tl})),e.d(r,"formatLocale",(function(){return ul})),e.d(r,"formatSpecifier",(function(){return Ws})),e.d(r,"FormatSpecifier",(function(){return Zs})),e.d(r,"precisionFixed",(function(){return cl})),e.d(r,"precisionPrefix",(function(){return fl})),e.d(r,"precisionRound",(function(){return sl})),e.d(r,"geoArea",(function(){return fh})),e.d(r,"geoBounds",(function(){return Yh})),e.d(r,"geoCentroid",(function(){return ed})),e.d(r,"geoCircle",(function(){return dd})),e.d(r,"geoClipAntimeridian",(function(){return Ad})),e.d(r,"geoClipCircle",(function(){return Td})),e.d(r,"geoClipExtent",(function(){return Pd})),e.d(r,"geoClipRectangle",(function(){return Sd})),e.d(r,"geoContains",(function(){return Gd})),e.d(r,"geoDistance",(function(){return qd})),e.d(r,"geoGraticule",(function(){return Qd})),e.d(r,"geoGraticule10",(function(){return Kd})),e.d(r,"geoInterpolate",(function(){return rp})),e.d(r,"geoLength",(function(){return Dd})),e.d(r,"geoPath",(function(){return og})),e.d(r,"geoAlbers",(function(){return Mg})),e.d(r,"geoAlbersUsa",(function(){return Ag})),e.d(r,"geoAzimuthalEqualArea",(function(){return Ng})),e.d(r,"geoAzimuthalEqualAreaRaw",(function(){return Eg})),e.d(r,"geoAzimuthalEquidistant",(function(){return Cg})),e.d(r,"geoAzimuthalEquidistantRaw",(function(){return kg})),e.d(r,"geoConicConformal",(function(){return Dg})),e.d(r,"geoConicConformalRaw",(function(){return $g})),e.d(r,"geoConicEqualArea",(function(){return wg})),e.d(r,"geoConicEqualAreaRaw",(function(){return xg})),e.d(r,"geoConicEquidistant",(function(){return Og})),e.d(r,"geoConicEquidistantRaw",(function(){return qg})),e.d(r,"geoEqualEarth",(function(){return Xg})),e.d(r,"geoEqualEarthRaw",(function(){return Vg})),e.d(r,"geoEquirectangular",(function(){return Fg})),e.d(r,"geoEquirectangularRaw",(function(){return Bg})),e.d(r,"geoGnomonic",(function(){return Wg})),e.d(r,"geoGnomonicRaw",(function(){return Gg})),e.d(r,"geoIdentity",(function(){return Zg})),e.d(r,"geoProjection",(function(){return _g})),e.d(r,"geoProjectionMutator",(function(){return mg})),e.d(r,"geoMercator",(function(){return zg})),e.d(r,"geoMercatorRaw",(function(){return Pg})),e.d(r,"geoNaturalEarth1",(function(){return Kg})),e.d(r,"geoNaturalEarth1Raw",(function(){return Qg})),e.d(r,"geoOrthographic",(function(){return tv})),e.d(r,"geoOrthographicRaw",(function(){return Jg})),e.d(r,"geoStereographic",(function(){return ev})),e.d(r,"geoStereographicRaw",(function(){return nv})),e.d(r,"geoTransverseMercator",(function(){return iv})),e.d(r,"geoTransverseMercatorRaw",(function(){return rv})),e.d(r,"geoRotation",(function(){return sd})),e.d(r,"geoStream",(function(){return Yl})),e.d(r,"geoTransform",(function(){return ug})),e.d(r,"cluster",(function(){return cv})),e.d(r,"hierarchy",(function(){return sv})),e.d(r,"Node",(function(){return gv})),e.d(r,"pack",(function(){return Bv})),e.d(r,"packSiblings",(function(){return $v})),e.d(r,"packEnclose",(function(){return xv})),e.d(r,"partition",(function(){return jv})),e.d(r,"stratify",(function(){return Wv})),e.d(r,"tree",(function(){return iy})),e.d(r,"treemap",(function(){return fy})),e.d(r,"treemapBinary",(function(){return sy})),e.d(r,"treemapDice",(function(){return Uv})),e.d(r,"treemapSlice",(function(){return oy})),e.d(r,"treemapSliceDice",(function(){return ly})),e.d(r,"treemapSquarify",(function(){return cy})),e.d(r,"treemapResquarify",(function(){return hy})),e.d(r,"interpolate",(function(){return Xr})),e.d(r,"interpolateArray",(function(){return qr})),e.d(r,"interpolateBasis",(function(){return Sr})),e.d(r,"interpolateBasisClosed",(function(){return Er})),e.d(r,"interpolateDate",(function(){return Lr})),e.d(r,"interpolateDiscrete",(function(){return dy})),e.d(r,"interpolateHue",(function(){return py})),e.d(r,"interpolateNumber",(function(){return Ur})),e.d(r,"interpolateNumberArray",(function(){return Br})),e.d(r,"interpolateObject",(function(){return jr})),e.d(r,"interpolateRound",(function(){return gy})),e.d(r,"interpolateString",(function(){return Vr})),e.d(r,"interpolateTransformCss",(function(){return Uo})),e.d(r,"interpolateTransformSvg",(function(){return jo})),e.d(r,"interpolateZoom",(function(){return yy})),e.d(r,"interpolateRgb",(function(){return Ir})),e.d(r,"interpolateRgbBasis",(function(){return $r})),e.d(r,"interpolateRgbBasisClosed",(function(){return Dr})),e.d(r,"interpolateHsl",(function(){return my})),e.d(r,"interpolateHslLong",(function(){return by})),e.d(r,"interpolateLab",(function(){return xy})),e.d(r,"interpolateHcl",(function(){return My})),e.d(r,"interpolateHclLong",(function(){return Ay})),e.d(r,"interpolateCubehelix",(function(){return Sy})),e.d(r,"interpolateCubehelixLong",(function(){return Ey})),e.d(r,"piecewise",(function(){return Ny})),e.d(r,"quantize",(function(){return ky})),e.d(r,"Path",(function(){return ba})),e.d(r,"path",(function(){return xa})),e.d(r,"pathRound",(function(){return wa})),e.d(r,"polygonArea",(function(){return Cy})),e.d(r,"polygonCentroid",(function(){return Py})),e.d(r,"polygonHull",(function(){return Ry})),e.d(r,"polygonContains",(function(){return $y})),e.d(r,"polygonLength",(function(){return Dy})),e.d(r,"quadtree",(function(){return Ss})),e.d(r,"randomUniform",(function(){return Fy})),e.d(r,"randomInt",(function(){return qy})),e.d(r,"randomNormal",(function(){return Oy})),e.d(r,"randomLogNormal",(function(){return Ly})),e.d(r,"randomBates",(function(){return jy})),e.d(r,"randomIrwinHall",(function(){return Uy})),e.d(r,"randomExponential",(function(){return Yy})),e.d(r,"randomPareto",(function(){return Hy})),e.d(r,"randomBernoulli",(function(){return Vy})),e.d(r,"randomGeometric",(function(){return Xy})),e.d(r,"randomBinomial",(function(){return Zy})),e.d(r,"randomGamma",(function(){return Gy})),e.d(r,"randomBeta",(function(){return Wy})),e.d(r,"randomWeibull",(function(){return Qy})),e.d(r,"randomCauchy",(function(){return Ky})),e.d(r,"randomLogistic",(function(){return Jy})),e.d(r,"randomPoisson",(function(){return t_})),e.d(r,"randomLcg",(function(){return e_})),e.d(r,"scaleBand",(function(){return a_})),e.d(r,"scalePoint",(function(){return f_})),e.d(r,"scaleIdentity",(function(){return D_})),e.d(r,"scaleLinear",(function(){return $_})),e.d(r,"scaleLog",(function(){return H_})),e.d(r,"scaleSymlog",(function(){return W_})),e.d(r,"scaleOrdinal",(function(){return u_})),e.d(r,"scaleImplicit",(function(){return o_})),e.d(r,"scalePow",(function(){return tm})),e.d(r,"scaleSqrt",(function(){return nm})),e.d(r,"scaleRadial",(function(){return im})),e.d(r,"scaleQuantile",(function(){return om})),e.d(r,"scaleQuantize",(function(){return um})),e.d(r,"scaleThreshold",(function(){return am})),e.d(r,"scaleTime",(function(){return Gx})),e.d(r,"scaleUtc",(function(){return Wx})),e.d(r,"scaleSequential",(function(){return Kx})),e.d(r,"scaleSequentialLog",(function(){return Jx})),e.d(r,"scaleSequentialPow",(function(){return nw})),e.d(r,"scaleSequentialSqrt",(function(){return ew})),e.d(r,"scaleSequentialSymlog",(function(){return tw})),e.d(r,"scaleSequentialQuantile",(function(){return rw})),e.d(r,"scaleDiverging",(function(){return ow})),e.d(r,"scaleDivergingLog",(function(){return uw})),e.d(r,"scaleDivergingPow",(function(){return cw})),e.d(r,"scaleDivergingSqrt",(function(){return fw})),e.d(r,"scaleDivergingSymlog",(function(){return aw})),e.d(r,"tickFormat",(function(){return I_})),e.d(r,"schemeCategory10",(function(){return lw})),e.d(r,"schemeAccent",(function(){return hw})),e.d(r,"schemeDark2",(function(){return dw})),e.d(r,"schemePaired",(function(){return pw})),e.d(r,"schemePastel1",(function(){return gw})),e.d(r,"schemePastel2",(function(){return vw})),e.d(r,"schemeSet1",(function(){return yw})),e.d(r,"schemeSet2",(function(){return _w})),e.d(r,"schemeSet3",(function(){return mw})),e.d(r,"schemeTableau10",(function(){return bw})),e.d(r,"interpolateBrBG",(function(){return Mw})),e.d(r,"schemeBrBG",(function(){return ww})),e.d(r,"interpolatePRGn",(function(){return Tw})),e.d(r,"schemePRGn",(function(){return Aw})),e.d(r,"interpolatePiYG",(function(){return Ew})),e.d(r,"schemePiYG",(function(){return Sw})),e.d(r,"interpolatePuOr",(function(){return kw})),e.d(r,"schemePuOr",(function(){return Nw})),e.d(r,"interpolateRdBu",(function(){return Pw})),e.d(r,"schemeRdBu",(function(){return Cw})),e.d(r,"interpolateRdGy",(function(){return Iw})),e.d(r,"schemeRdGy",(function(){return zw})),e.d(r,"interpolateRdYlBu",(function(){return $w})),e.d(r,"schemeRdYlBu",(function(){return Rw})),e.d(r,"interpolateRdYlGn",(function(){return Bw})),e.d(r,"schemeRdYlGn",(function(){return Dw})),e.d(r,"interpolateSpectral",(function(){return qw})),e.d(r,"schemeSpectral",(function(){return Fw})),e.d(r,"interpolateBuGn",(function(){return Lw})),e.d(r,"schemeBuGn",(function(){return Ow})),e.d(r,"interpolateBuPu",(function(){return jw})),e.d(r,"schemeBuPu",(function(){return Uw})),e.d(r,"interpolateGnBu",(function(){return Hw})),e.d(r,"schemeGnBu",(function(){return Yw})),e.d(r,"interpolateOrRd",(function(){return Xw})),e.d(r,"schemeOrRd",(function(){return Vw})),e.d(r,"interpolatePuBuGn",(function(){return Ww})),e.d(r,"schemePuBuGn",(function(){return Gw})),e.d(r,"interpolatePuBu",(function(){return Qw})),e.d(r,"schemePuBu",(function(){return Zw})),e.d(r,"interpolatePuRd",(function(){return Jw})),e.d(r,"schemePuRd",(function(){return Kw})),e.d(r,"interpolateRdPu",(function(){return nM})),e.d(r,"schemeRdPu",(function(){return tM})),e.d(r,"interpolateYlGnBu",(function(){return rM})),e.d(r,"schemeYlGnBu",(function(){return eM})),e.d(r,"interpolateYlGn",(function(){return oM})),e.d(r,"schemeYlGn",(function(){return iM})),e.d(r,"interpolateYlOrBr",(function(){return aM})),e.d(r,"schemeYlOrBr",(function(){return uM})),e.d(r,"interpolateYlOrRd",(function(){return fM})),e.d(r,"schemeYlOrRd",(function(){return cM})),e.d(r,"interpolateBlues",(function(){return lM})),e.d(r,"schemeBlues",(function(){return sM})),e.d(r,"interpolateGreens",(function(){return dM})),e.d(r,"schemeGreens",(function(){return hM})),e.d(r,"interpolateGreys",(function(){return gM})),e.d(r,"schemeGreys",(function(){return pM})),e.d(r,"interpolatePurples",(function(){return yM})),e.d(r,"schemePurples",(function(){return vM})),e.d(r,"interpolateReds",(function(){return mM})),e.d(r,"schemeReds",(function(){return _M})),e.d(r,"interpolateOranges",(function(){return xM})),e.d(r,"schemeOranges",(function(){return bM})),e.d(r,"interpolateCividis",(function(){return wM})),e.d(r,"interpolateCubehelixDefault",(function(){return MM})),e.d(r,"interpolateRainbow",(function(){return EM})),e.d(r,"interpolateWarm",(function(){return AM})),e.d(r,"interpolateCool",(function(){return TM})),e.d(r,"interpolateSinebow",(function(){return PM})),e.d(r,"interpolateTurbo",(function(){return zM})),e.d(r,"interpolateViridis",(function(){return RM})),e.d(r,"interpolateMagma",(function(){return $M})),e.d(r,"interpolateInferno",(function(){return DM})),e.d(r,"interpolatePlasma",(function(){return BM})),e.d(r,"create",(function(){return JA})),e.d(r,"creator",(function(){return UM})),e.d(r,"local",(function(){return nT})),e.d(r,"matcher",(function(){return GM})),e.d(r,"namespace",(function(){return qM})),e.d(r,"namespaces",(function(){return FM})),e.d(r,"pointer",(function(){return iT})),e.d(r,"pointers",(function(){return oT})),e.d(r,"select",(function(){return KA})),e.d(r,"selectAll",(function(){return uT})),e.d(r,"selection",(function(){return QA})),e.d(r,"selector",(function(){return YM})),e.d(r,"selectorAll",(function(){return XM})),e.d(r,"style",(function(){return _A})),e.d(r,"window",(function(){return pA})),e.d(r,"arc",(function(){return NT})),e.d(r,"area",(function(){return DT})),e.d(r,"line",(function(){return $T})),e.d(r,"pie",(function(){return qT})),e.d(r,"areaRadial",(function(){return HT})),e.d(r,"radialArea",(function(){return HT})),e.d(r,"lineRadial",(function(){return YT})),e.d(r,"radialLine",(function(){return YT})),e.d(r,"pointRadial",(function(){return VT})),e.d(r,"link",(function(){return tS})),e.d(r,"linkHorizontal",(function(){return nS})),e.d(r,"linkVertical",(function(){return eS})),e.d(r,"linkRadial",(function(){return rS})),e.d(r,"symbol",(function(){return CS})),e.d(r,"symbolsStroke",(function(){return kS})),e.d(r,"symbolsFill",(function(){return NS})),e.d(r,"symbols",(function(){return NS})),e.d(r,"symbolAsterisk",(function(){return oS})),e.d(r,"symbolCircle",(function(){return uS})),e.d(r,"symbolCross",(function(){return aS})),e.d(r,"symbolDiamond",(function(){return sS})),e.d(r,"symbolDiamond2",(function(){return lS})),e.d(r,"symbolPlus",(function(){return hS})),e.d(r,"symbolSquare",(function(){return dS})),e.d(r,"symbolSquare2",(function(){return pS})),e.d(r,"symbolStar",(function(){return _S})),e.d(r,"symbolTriangle",(function(){return bS})),e.d(r,"symbolTriangle2",(function(){return wS})),e.d(r,"symbolWye",(function(){return SS})),e.d(r,"symbolTimes",(function(){return ES})),e.d(r,"symbolX",(function(){return ES})),e.d(r,"curveBasisClosed",(function(){return DS})),e.d(r,"curveBasisOpen",(function(){return FS})),e.d(r,"curveBasis",(function(){return RS})),e.d(r,"curveBumpX",(function(){return WT})),e.d(r,"curveBumpY",(function(){return ZT})),e.d(r,"curveBundle",(function(){return OS})),e.d(r,"curveCardinalClosed",(function(){return HS})),e.d(r,"curveCardinalOpen",(function(){return XS})),e.d(r,"curveCardinal",(function(){return jS})),e.d(r,"curveCatmullRomClosed",(function(){return KS})),e.d(r,"curveCatmullRomOpen",(function(){return tE})),e.d(r,"curveCatmullRom",(function(){return ZS})),e.d(r,"curveLinearClosed",(function(){return eE})),e.d(r,"curveLinear",(function(){return zT})),e.d(r,"curveMonotoneX",(function(){return sE})),e.d(r,"curveMonotoneY",(function(){return lE})),e.d(r,"curveNatural",(function(){return pE})),e.d(r,"curveStep",(function(){return vE})),e.d(r,"curveStepAfter",(function(){return _E})),e.d(r,"curveStepBefore",(function(){return yE})),e.d(r,"stack",(function(){return ME})),e.d(r,"stackOffsetExpand",(function(){return AE})),e.d(r,"stackOffsetDiverging",(function(){return TE})),e.d(r,"stackOffsetNone",(function(){return mE})),e.d(r,"stackOffsetSilhouette",(function(){return SE})),e.d(r,"stackOffsetWiggle",(function(){return EE})),e.d(r,"stackOrderAppearance",(function(){return NE})),e.d(r,"stackOrderAscending",(function(){return CE})),e.d(r,"stackOrderDescending",(function(){return zE})),e.d(r,"stackOrderInsideOut",(function(){return IE})),e.d(r,"stackOrderNone",(function(){return bE})),e.d(r,"stackOrderReverse",(function(){return RE})),e.d(r,"timeInterval",(function(){return sm})),e.d(r,"utcMillisecond",(function(){return lm})),e.d(r,"utcMilliseconds",(function(){return hm})),e.d(r,"timeMillisecond",(function(){return lm})),e.d(r,"timeMilliseconds",(function(){return hm})),e.d(r,"utcSecond",(function(){return dm})),e.d(r,"utcSeconds",(function(){return pm})),e.d(r,"timeSecond",(function(){return dm})),e.d(r,"timeSeconds",(function(){return pm})),e.d(r,"timeMinute",(function(){return gm})),e.d(r,"timeMinutes",(function(){return vm})),e.d(r,"utcMinute",(function(){return ym})),e.d(r,"utcMinutes",(function(){return _m})),e.d(r,"timeHour",(function(){return mm})),e.d(r,"timeHours",(function(){return bm})),e.d(r,"utcHour",(function(){return xm})),e.d(r,"utcHours",(function(){return wm})),e.d(r,"timeDay",(function(){return Mm})),e.d(r,"timeDays",(function(){return Am})),e.d(r,"utcDay",(function(){return Tm})),e.d(r,"utcDays",(function(){return Sm})),e.d(r,"unixDay",(function(){return Em})),e.d(r,"unixDays",(function(){return Nm})),e.d(r,"timeWeek",(function(){return Cm})),e.d(r,"timeWeeks",(function(){return Bm})),e.d(r,"timeSunday",(function(){return Cm})),e.d(r,"timeSundays",(function(){return Bm})),e.d(r,"timeMonday",(function(){return Pm})),e.d(r,"timeMondays",(function(){return Fm})),e.d(r,"timeTuesday",(function(){return zm})),e.d(r,"timeTuesdays",(function(){return qm})),e.d(r,"timeWednesday",(function(){return Im})),e.d(r,"timeWednesdays",(function(){return Om})),e.d(r,"timeThursday",(function(){return Rm})),e.d(r,"timeThursdays",(function(){return Lm})),e.d(r,"timeFriday",(function(){return $m})),e.d(r,"timeFridays",(function(){return Um})),e.d(r,"timeSaturday",(function(){return Dm})),e.d(r,"timeSaturdays",(function(){return jm})),e.d(r,"utcWeek",(function(){return Hm})),e.d(r,"utcWeeks",(function(){return Km})),e.d(r,"utcSunday",(function(){return Hm})),e.d(r,"utcSundays",(function(){return Km})),e.d(r,"utcMonday",(function(){return Vm})),e.d(r,"utcMondays",(function(){return Jm})),e.d(r,"utcTuesday",(function(){return Xm})),e.d(r,"utcTuesdays",(function(){return tb})),e.d(r,"utcWednesday",(function(){return Gm})),e.d(r,"utcWednesdays",(function(){return nb})),e.d(r,"utcThursday",(function(){return Wm})),e.d(r,"utcThursdays",(function(){return eb})),e.d(r,"utcFriday",(function(){return Zm})),e.d(r,"utcFridays",(function(){return rb})),e.d(r,"utcSaturday",(function(){return Qm})),e.d(r,"utcSaturdays",(function(){return ib})),e.d(r,"timeMonth",(function(){return ob})),e.d(r,"timeMonths",(function(){return ub})),e.d(r,"utcMonth",(function(){return ab})),e.d(r,"utcMonths",(function(){return cb})),e.d(r,"timeYear",(function(){return fb})),e.d(r,"timeYears",(function(){return sb})),e.d(r,"utcYear",(function(){return lb})),e.d(r,"utcYears",(function(){return hb})),e.d(r,"utcTicks",(function(){return pb})),e.d(r,"utcTickInterval",(function(){return gb})),e.d(r,"timeTicks",(function(){return vb})),e.d(r,"timeTickInterval",(function(){return yb})),e.d(r,"timeFormatDefaultLocale",(function(){return Yx})),e.d(r,"timeFormat",(function(){return Mb})),e.d(r,"timeParse",(function(){return Ab})),e.d(r,"utcFormat",(function(){return Tb})),e.d(r,"utcParse",(function(){return Sb})),e.d(r,"timeFormatLocale",(function(){return xb})),e.d(r,"isoFormat",(function(){return $E})),e.d(r,"isoParse",(function(){return DE})),e.d(r,"now",(function(){return xo})),e.d(r,"timer",(function(){return Ao})),e.d(r,"timerFlush",(function(){return To})),e.d(r,"timeout",(function(){return ko})),e.d(r,"interval",(function(){return BE})),e.d(r,"transition",(function(){return mN})),e.d(r,"active",(function(){return TN})),e.d(r,"interrupt",(function(){return YE})),e.d(r,"zoom",(function(){return OC})),e.d(r,"zoomTransform",(function(){return PC})),e.d(r,"zoomIdentity",(function(){return CC})),e.d(r,"ZoomTransform",(function(){return kC}));function i(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function o(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function u(t){let n,e,r;function u(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length?(n=i,e=(n,e)=>i(t(n),e),r=(n,e)=>t(n)-e):(n=t===i||t===o?t:a,e=t,r=t),{left:u,center:function(t,n,e=0,i=t.length){const o=u(t,n,e,i-1);return o>e&&r(t[o-1],n)>-r(t[o],n)?o-1:o},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<=0?i=n+1:o=n}while(i<o)}return i}}}function a(){return 0}function c(t){return null===t?NaN:+t}function*f(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}const s=u(i),l=s.right,h=s.left,d=u(c).center;var p=l;function g(t,n){if(!((n=+n)>=0))throw new RangeError("invalid r");let e=t.length;if(!((e=Math.floor(e))>=0))throw new RangeError("invalid length");if(!e||!n)return t;const r=x(n),i=t.slice();return r(t,i,0,e,1),r(i,t,0,e,1),r(t,i,0,e,1),t}const v=_(x),y=_((function(t){const n=x(t);return(t,e,r,i,o)=>{n(t,e,(r<<=2)+0,(i<<=2)+0,o<<=2),n(t,e,r+1,i+1,o),n(t,e,r+2,i+2,o),n(t,e,r+3,i+3,o)}}));function _(t){return function(n,e,r=e){if(!((e=+e)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:u}=n;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((u=Math.floor(void 0!==u?u:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!u||!e&&!r)return n;const a=e&&t(e),c=r&&t(r),f=i.slice();return a&&c?(m(a,f,i,o,u),m(a,i,f,o,u),m(a,f,i,o,u),b(c,i,f,o,u),b(c,f,i,o,u),b(c,i,f,o,u)):a?(m(a,i,f,o,u),m(a,f,i,o,u),m(a,i,f,o,u)):c&&(b(c,i,f,o,u),b(c,f,i,o,u),b(c,i,f,o,u)),n}}function m(t,n,e,r,i){for(let o=0,u=r*i;o<u;)t(n,e,o,o+=r,1)}function b(t,n,e,r,i){for(let o=0,u=r*i;o<r;++o)t(n,e,o,o+u,r)}function x(t){const n=Math.floor(t);if(n===t)return function(t){const n=2*t+1;return(e,r,i,o,u)=>{if(!((o-=u)>=i))return;let a=t*r[i];const c=u*t;for(let t=i,n=i+c;t<n;t+=u)a+=r[Math.min(o,t)];for(let t=i,f=o;t<=f;t+=u)a+=r[Math.min(o,t+c)],e[t]=a/n,a-=r[Math.max(i,t-c)]}}(t);const e=t-n,r=2*t+1;return(t,i,o,u,a)=>{if(!((u-=a)>=o))return;let c=n*i[o];const f=a*n,s=f+a;for(let t=o,n=o+f;t<n;t+=a)c+=i[Math.min(u,t)];for(let n=o,l=u;n<=l;n+=a)c+=i[Math.min(u,n+f)],t[n]=(c+e*(i[Math.max(o,n-s)]+i[Math.min(u,n+s)]))/r,c-=i[Math.max(o,n-f)]}}function w(t,n){let e=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&++e;else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(i=+i)>=i&&++e}return e}function M(t){return 0|t.length}function A(t){return!(t>0)}function T(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function S(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),e=(t=t.map(T)).map(M),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(A))return o;for(;;){o.push(i.map((n,e)=>t[e][n]));let u=r;for(;++i[u]===e[u];){if(0===u)return n?o.map(n):o;i[u--]=0}}}function E(t,n){var e=0,r=0;return Float64Array.from(t,void 0===n?t=>e+=+t||0:i=>e+=+n(i,r++,t)||0)}function N(t,n){let e,r=0,i=0,o=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(e=n-i,i+=e/++r,o+=e*(n-i));else{let u=-1;for(let a of t)null!=(a=n(a,++u,t))&&(a=+a)>=a&&(e=a-i,i+=e/++r,o+=e*(a-i))}if(r>1)return o/(r-1)}function k(t,n){const e=N(t,n);return e?Math.sqrt(e):e}function C(t,n){let e,r;if(void 0===n)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class P{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,u=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);u&&(n[e++]=u),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}function z(t,n){const e=new P;if(void 0===n)for(let n of t)(n=+n)&&e.add(n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&e.add(i)}return+e}function I(t,n){const e=new P;let r=-1;return Float64Array.from(t,void 0===n?t=>e.add(+t||0):i=>e.add(+n(i,++r,t)||0))}class R extends Map{constructor(t,n=q){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[n,e]of t)this.set(n,e)}get(t){return super.get(D(this,t))}has(t){return super.has(D(this,t))}set(t,n){return super.set(B(this,t),n)}delete(t){return super.delete(F(this,t))}}class $ extends Set{constructor(t,n=q){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const n of t)this.add(n)}has(t){return super.has(D(this,t))}add(t){return super.add(B(this,t))}delete(t){return super.delete(F(this,t))}}function D({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function B({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function F({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function q(t){return null!==t&&"object"==typeof t?t.valueOf():t}function O(t){return t}function L(t,...n){return Q(t,O,O,n)}function U(t,...n){return Q(t,Array.from,O,n)}function j(t,n){for(let e=1,r=n.length;e<r;++e)t=t.flatMap(t=>t.pop().map(([n,e])=>[...t,n,e]));return t}function Y(t,...n){return j(U(t,...n),n)}function H(t,n,...e){return j(X(t,n,...e),e)}function V(t,n,...e){return Q(t,O,n,e)}function X(t,n,...e){return Q(t,Array.from,n,e)}function G(t,...n){return Q(t,O,Z,n)}function W(t,...n){return Q(t,Array.from,Z,n)}function Z(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function Q(t,n,e,r){return function t(i,o){if(o>=r.length)return e(i);const u=new R,a=r[o++];let c=-1;for(const t of i){const n=a(t,++c,i),e=u.get(n);e?e.push(t):u.set(n,[t])}for(const[n,e]of u)u.set(n,t(e,o));return n(u)}(t,0)}function K(t,n){return Array.from(n,n=>t[n])}function J(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&2!==e.length||n.length>1){const r=Uint32Array.from(t,(t,n)=>n);return n.length>1?(n=n.map(n=>t.map(n)),r.sort((t,e)=>{for(const r of n){const n=nt(r[t],r[e]);if(n)return n}})):(e=t.map(e),r.sort((t,n)=>nt(e[t],e[n]))),K(t,r)}return t.sort(tt(e))}function tt(t=i){if(t===i)return nt;if("function"!=typeof t)throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||0===r?r:(0===t(e,e))-(0===t(n,n))}}function nt(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}function et(t,n,e){return(2!==n.length?J(V(t,n,e),([t,n],[e,r])=>i(n,r)||i(t,e)):J(L(t,e),([t,e],[r,o])=>n(e,o)||i(t,r))).map(([t])=>t)}var rt=Array.prototype,it=rt.slice;rt.map;function ot(t){return()=>t}const ut=Math.sqrt(50),at=Math.sqrt(10),ct=Math.sqrt(2);function ft(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),u=o>=ut?10:o>=at?5:o>=ct?2:1;let a,c,f;return i<0?(f=Math.pow(10,-i)/u,a=Math.round(t*f),c=Math.round(n*f),a/f<t&&++a,c/f>n&&--c,f=-f):(f=Math.pow(10,i)*u,a=Math.round(t/f),c=Math.round(n/f),a*f<t&&++a,c*f>n&&--c),c<a&&.5<=e&&e<2?ft(t,n,2*e):[a,c,f]}function st(t,n,e){if(!((e=+e)>0))return[];if((t=+t)===(n=+n))return[t];const r=n<t,[i,o,u]=r?ft(n,t,e):ft(t,n,e);if(!(o>=i))return[];const a=o-i+1,c=new Array(a);if(r)if(u<0)for(let t=0;t<a;++t)c[t]=(o-t)/-u;else for(let t=0;t<a;++t)c[t]=(o-t)*u;else if(u<0)for(let t=0;t<a;++t)c[t]=(i+t)/-u;else for(let t=0;t<a;++t)c[t]=(i+t)*u;return c}function lt(t,n,e){return ft(t=+t,n=+n,e=+e)[2]}function ht(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?lt(n,t,e):lt(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function dt(t,n,e){let r;for(;;){const i=lt(t,n,e);if(i===r||0===i||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function pt(t){return Math.max(1,Math.ceil(Math.log(w(t))/Math.LN2)+1)}function gt(){var t=O,n=C,e=pt;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,u,a=r.length,c=new Array(a);for(i=0;i<a;++i)c[i]=t(r[i],i,r);var f=n(c),s=f[0],l=f[1],h=e(c,s,l);if(!Array.isArray(h)){const t=l,e=+h;if(n===C&&([s,l]=dt(s,l,e)),(h=st(s,l,e))[0]<=s&&(u=lt(s,l,e)),h[h.length-1]>=l)if(t>=l&&n===C){const t=lt(s,l,e);isFinite(t)&&(t>0?l=(Math.floor(l/t)+1)*t:t<0&&(l=(Math.ceil(l*-t)+1)/-t))}else h.pop()}for(var d=h.length,g=0,v=d;h[g]<=s;)++g;for(;h[v-1]>l;)--v;(g||v<d)&&(h=h.slice(g,v),d=v-g);var y,_=new Array(d+1);for(i=0;i<=d;++i)(y=_[i]=[]).x0=i>0?h[i-1]:s,y.x1=i<d?h[i]:l;if(isFinite(u)){if(u>0)for(i=0;i<a;++i)null!=(o=c[i])&&s<=o&&o<=l&&_[Math.min(d,Math.floor((o-s)/u))].push(r[i]);else if(u<0)for(i=0;i<a;++i)if(null!=(o=c[i])&&s<=o&&o<=l){const t=Math.floor((s-o)*u);_[Math.min(d,t+(h[t]<=o))].push(r[i])}}else for(i=0;i<a;++i)null!=(o=c[i])&&s<=o&&o<=l&&_[p(h,o,0,d)].push(r[i]);return _}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:ot(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:ot([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:ot(Array.isArray(t)?it.call(t):t),r):e},r}function vt(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function yt(t,n){let e,r=-1,i=-1;if(void 0===n)for(const n of t)++i,null!=n&&(e<n||void 0===e&&n>=n)&&(e=n,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);return r}function _t(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e>n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function mt(t,n){let e,r=-1,i=-1;if(void 0===n)for(const n of t)++i,null!=n&&(e>n||void 0===e&&n>=n)&&(e=n,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);return r}function bt(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=void 0===i?nt:tt(i);r>e;){if(r-e>600){const o=r-e+1,u=n-e+1,a=Math.log(o),c=.5*Math.exp(2*a/3),f=.5*Math.sqrt(a*c*(o-c)/o)*(u-o/2<0?-1:1);bt(t,n,Math.max(e,Math.floor(n-u*c/o+f)),Math.min(r,Math.floor(n+(o-u)*c/o+f)),i)}const o=t[n];let u=e,a=r;for(xt(t,e,n),i(t[r],o)>0&&xt(t,e,r);u<a;){for(xt(t,u,a),++u,--a;i(t[u],o)<0;)++u;for(;i(t[a],o)>0;)--a}0===i(t[e],o)?xt(t,e,a):(++a,xt(t,a,r)),a<=n&&(e=a+1),n<=a&&(r=a-1)}return t}function xt(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function wt(t,n=i){let e,r=!1;if(1===n.length){let o;for(const u of t){const t=n(u);(r?i(t,o)>0:0===i(t,t))&&(e=u,o=t,r=!0)}}else for(const i of t)(r?n(i,e)>0:0===n(i,i))&&(e=i,r=!0);return e}function Mt(t,n,e){if((r=(t=Float64Array.from(f(t,e))).length)&&!isNaN(n=+n)){if(n<=0||r<2)return _t(t);if(n>=1)return vt(t);var r,i=(r-1)*n,o=Math.floor(i),u=vt(bt(t,o).subarray(0,o+1));return u+(_t(t.subarray(o+1))-u)*(i-o)}}function At(t,n,e=c){if((r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),u=+e(t[o],o,t);return u+(+e(t[o+1],o+1,t)-u)*(i-o)}}function Tt(t,n,e){if((r=(t=Float64Array.from(f(t,e))).length)&&!isNaN(n=+n)){if(n<=0||r<2)return mt(t);if(n>=1)return yt(t);var r,i=Math.floor((r-1)*n);return wt(bt(Uint32Array.from(t,(t,n)=>n),i,0,r-1,(n,e)=>nt(t[n],t[e])).subarray(0,i+1),n=>t[n])}}function St(t,n,e){const r=w(t),i=Mt(t,.75)-Mt(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function Et(t,n,e){const r=w(t),i=k(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function Nt(t,n){let e=0,r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++e,r+=n);else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function kt(t,n){return Mt(t,.5,n)}function Ct(t,n){return Tt(t,.5,n)}function Pt(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function zt(t,n){const e=new R;if(void 0===n)for(let n of t)null!=n&&n>=n&&e.set(n,(e.get(n)||0)+1);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&e.set(i,(e.get(i)||0)+1)}let r,i=0;for(const[t,n]of e)n>i&&(i=n,r=t);return r}function It(t,n=Rt){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function Rt(t,n){return[t,n]}function $t(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Dt(t,n=i){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let e=Array.from(t);const r=new Float64Array(e.length);2!==n.length&&(e=e.map(n),n=i);const o=(t,r)=>n(e[t],e[r]);let u,a;return(t=Uint32Array.from(e,(t,n)=>n)).sort(n===i?(t,n)=>nt(e[t],e[n]):tt(o)),t.forEach((t,n)=>{const e=o(t,void 0===u?t:u);e>=0?((void 0===u||e>0)&&(u=t,a=n),r[t]=a):r[t]=NaN}),r}function Bt(t,n=i){let e,r=!1;if(1===n.length){let o;for(const u of t){const t=n(u);(r?i(t,o)<0:0===i(t,t))&&(e=u,o=t,r=!0)}}else for(const i of t)(r?n(i,e)<0:0===n(i,i))&&(e=i,r=!0);return e}function Ft(t,n=i){if(1===n.length)return mt(t,n);let e,r=-1,o=-1;for(const i of t)++o,(r<0?0===n(i,i):n(i,e)<0)&&(e=i,r=o);return r}function qt(t,n=i){if(1===n.length)return yt(t,n);let e,r=-1,o=-1;for(const i of t)++o,(r<0?0===n(i,i):n(i,e)>0)&&(e=i,r=o);return r}function Ot(t,n){const e=Ft(t,n);return e<0?void 0:e}var Lt=Ut(Math.random);function Ut(t){return function(n,e=0,r=n.length){let i=r-(e=+e);for(;i;){const r=t()*i--|0,o=n[i+e];n[i+e]=n[r+e],n[r+e]=o}return n}}function jt(t,n){let e=0;if(void 0===n)for(let n of t)(n=+n)&&(e+=n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Yt(t){if(!(i=t.length))return[];for(var n=-1,e=_t(t,Ht),r=new Array(e);++n<e;)for(var i,o=-1,u=r[n]=new Array(i);++o<i;)u[o]=t[o][n];return r}function Ht(t){return t.length}function Vt(){return Yt(arguments)}function Xt(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let e=-1;for(const r of t)if(!n(r,++e,t))return!1;return!0}function Gt(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let e=-1;for(const r of t)if(n(r,++e,t))return!0;return!1}function Wt(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");const e=[];let r=-1;for(const i of t)n(i,++r,t)&&e.push(i);return e}function Zt(t,n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof n)throw new TypeError("mapper is not a function");return Array.from(t,(e,r)=>n(e,r,t))}function Qt(t,n,e){if("function"!=typeof n)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,u=-1;if(arguments.length<3){if(({done:i,value:e}=r.next()),i)return;++u}for(;({done:i,value:o}=r.next()),!i;)e=n(e,o,++u,t);return e}function Kt(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Jt(t,...n){t=new $(t);for(const e of n)for(const n of e)t.delete(n);return t}function tn(t,n){const e=n[Symbol.iterator](),r=new $;for(const n of t){if(r.has(n))return!1;let t,i;for(;({value:t,done:i}=e.next())&&!i;){if(Object.is(n,t))return!1;r.add(t)}}return!0}function nn(t,...n){t=new $(t),n=n.map(en);t:for(const e of t)for(const r of n)if(!r.has(e)){t.delete(e);continue t}return t}function en(t){return t instanceof $?t:new $(t)}function rn(t,n){const e=t[Symbol.iterator](),r=new Set;for(const t of n){const n=on(t);if(r.has(n))continue;let i,o;for(;({value:i,done:o}=e.next());){if(o)return!1;const t=on(i);if(r.add(t),Object.is(n,t))break}}return!0}function on(t){return null!==t&&"object"==typeof t?t.valueOf():t}function un(t,n){return rn(n,t)}function an(...t){const n=new $;for(const e of t)for(const t of e)n.add(t);return n}var cn=function(t){return t};function fn(t){return"translate("+t+",0)"}function sn(t){return"translate(0,"+t+")"}function ln(t){return n=>+t(n)}function hn(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function dn(){return!this.__axis}function pn(t,n){var e=[],r=null,i=null,o=6,u=6,a=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,f=1===t||4===t?-1:1,s=4===t||2===t?"x":"y",l=1===t||3===t?fn:sn;function h(h){var d=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,p=null==i?n.tickFormat?n.tickFormat.apply(n,e):cn:i,g=Math.max(o,0)+a,v=n.range(),y=+v[0]+c,_=+v[v.length-1]+c,m=(n.bandwidth?hn:ln)(n.copy(),c),b=h.selection?h.selection():h,x=b.selectAll(".domain").data([null]),w=b.selectAll(".tick").data(d,n).order(),M=w.exit(),A=w.enter().append("g").attr("class","tick"),T=w.select("line"),S=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(A),T=T.merge(A.append("line").attr("stroke","currentColor").attr(s+"2",f*o)),S=S.merge(A.append("text").attr("fill","currentColor").attr(s,f*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==b&&(x=x.transition(h),w=w.transition(h),T=T.transition(h),S=S.transition(h),M=M.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=m(t))?l(t+c):this.getAttribute("transform")})),A.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return l((n&&isFinite(n=n(t))?n:m(t))+c)}))),M.remove(),x.attr("d",4===t||2===t?u?"M"+f*u+","+y+"H"+c+"V"+_+"H"+f*u:"M"+c+","+y+"V"+_:u?"M"+y+","+f*u+"V"+c+"H"+_+"V"+f*u:"M"+y+","+c+"H"+_),w.attr("opacity",1).attr("transform",(function(t){return l(m(t)+c)})),T.attr(s+"2",f*o),S.attr(s,f*g).text(p),b.filter(dn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=m}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=u=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(u=+t,h):u},h.tickPadding=function(t){return arguments.length?(a=+t,h):a},h.offset=function(t){return arguments.length?(c=+t,h):c},h}function gn(t){return pn(1,t)}function vn(t){return pn(2,t)}function yn(t){return pn(3,t)}function _n(t){return pn(4,t)}var mn={value:()=>{}};function bn(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new xn(r)}function xn(t){this._=t}function wn(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function Mn(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function An(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=mn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}xn.prototype=bn.prototype={constructor:xn,on:function(t,n){var e,r=this._,i=wn(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=An(r[e],t.name,n);else if(null==n)for(e in r)r[e]=An(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=Mn(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new xn(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Tn=bn;function Sn(){}var En=function(t){return null==t?Sn:function(){return this.querySelector(t)}};function Nn(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function kn(){return[]}function Cn(t){return function(n){return n.matches(t)}}var Pn=Array.prototype.find;function zn(){return this.firstElementChild}var In=Array.prototype.filter;function Rn(){return Array.from(this.children)}var $n=function(t){return new Array(t.length)};function Dn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Dn.prototype={constructor:Dn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Bn=function(t){return function(){return t}};function Fn(t,n,e,r,i,o){for(var u,a=0,c=n.length,f=o.length;a<f;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new Dn(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function qn(t,n,e,r,i,o,u){var a,c,f,s=new Map,l=n.length,h=o.length,d=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(d[a]=f=u.call(c,c.__data__,a,n)+"",s.has(f)?i[a]=c:s.set(f,c));for(a=0;a<h;++a)f=u.call(t,o[a],a,o)+"",(c=s.get(f))?(r[a]=c,c.__data__=o[a],s.delete(f)):e[a]=new Dn(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&s.get(d[a])===c&&(i[a]=c)}function On(t){return t.__data__}function Ln(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Un(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var jn="http://www.w3.org/1999/xhtml",Yn={svg:"http://www.w3.org/2000/svg",xhtml:jn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Hn=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Yn.hasOwnProperty(n)?{space:Yn[n],local:t}:t};function Vn(t){return function(){this.removeAttribute(t)}}function Xn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Gn(t,n){return function(){this.setAttribute(t,n)}}function Wn(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Zn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Qn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var Kn=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Jn(t){return function(){this.style.removeProperty(t)}}function te(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ne(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function ee(t,n){return t.style.getPropertyValue(n)||Kn(t).getComputedStyle(t,null).getPropertyValue(n)}function re(t){return function(){delete this[t]}}function ie(t,n){return function(){this[t]=n}}function oe(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function ue(t){return t.trim().split(/^|\s+/)}function ae(t){return t.classList||new ce(t)}function ce(t){this._node=t,this._names=ue(t.getAttribute("class")||"")}function fe(t,n){for(var e=ae(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function se(t,n){for(var e=ae(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function le(t){return function(){fe(this,t)}}function he(t){return function(){se(this,t)}}function de(t,n){return function(){(n.apply(this,arguments)?fe:se)(this,t)}}ce.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function pe(){this.textContent=""}function ge(t){return function(){this.textContent=t}}function ve(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function ye(){this.innerHTML=""}function _e(t){return function(){this.innerHTML=t}}function me(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function be(){this.nextSibling&&this.parentNode.appendChild(this)}function xe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function we(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===jn&&n.documentElement.namespaceURI===jn?n.createElement(t):n.createElementNS(e,t)}}function Me(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Ae=function(t){var n=Hn(t);return(n.local?Me:we)(n)};function Te(){return null}function Se(){var t=this.parentNode;t&&t.removeChild(this)}function Ee(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ne(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ke(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Ce(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function Pe(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function ze(t,n,e){var r=Kn(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Ie(t,n){return function(){return ze(this,t,n)}}function Re(t,n){return function(){return ze(this,t,n.apply(this,arguments))}}var $e=[null];function De(t,n){this._groups=t,this._parents=n}function Be(){return new De([[document.documentElement]],$e)}De.prototype=Be.prototype={constructor:De,select:function(t){"function"!=typeof t&&(t=En(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,f=r[i]=new Array(c),s=0;s<c;++s)(o=a[s])&&(u=t.call(o,o.__data__,s,a))&&("__data__"in o&&(u.__data__=o.__data__),f[s]=u);return new De(r,this._parents)},selectAll:function(t){var n;"function"==typeof t?t=function(t){return function(){return Nn(t.apply(this,arguments))}}(t):t=null==(n=t)?kn:function(){return this.querySelectorAll(n)};for(var e=this._groups,r=e.length,i=[],o=[],u=0;u<r;++u)for(var a,c=e[u],f=c.length,s=0;s<f;++s)(a=c[s])&&(i.push(t.call(a,a.__data__,s,c)),o.push(a));return new De(i,o)},selectChild:function(t){return this.select(null==t?zn:function(t){return function(){return Pn.call(this.children,t)}}("function"==typeof t?t:Cn(t)))},selectChildren:function(t){return this.selectAll(null==t?Rn:function(t){return function(){return In.call(this.children,t)}}("function"==typeof t?t:Cn(t)))},filter:function(t){var n;"function"!=typeof t&&(n=t,t=function(){return this.matches(n)});for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var u,a=e[o],c=a.length,f=i[o]=[],s=0;s<c;++s)(u=a[s])&&t.call(u,u.__data__,s,a)&&f.push(u);return new De(i,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,On);var e=n?qn:Fn,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Bn(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),f=0;f<o;++f){var s=r[f],l=i[f],h=l.length,d=Ln(t.call(s,s&&s.__data__,f,r)),p=d.length,g=a[f]=new Array(p),v=u[f]=new Array(p),y=c[f]=new Array(h);e(s,l,g,v,y,d,n);for(var _,m,b=0,x=0;b<p;++b)if(_=g[b]){for(b>=x&&(x=b+1);!(m=v[x])&&++x<p;);_._next=m||null}}return(u=new De(u,r))._enter=a,u._exit=c,u},enter:function(){return new De(this._enter||this._groups.map($n),this._parents)},exit:function(){return new De(this._exit||this._groups.map($n),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,u=Math.min(i,o),a=new Array(i),c=0;c<u;++c)for(var f,s=e[c],l=r[c],h=s.length,d=a[c]=new Array(h),p=0;p<h;++p)(f=s[p]||l[p])&&(d[p]=f);for(;c<i;++c)a[c]=e[c];return new De(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Un);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,f=i[o]=new Array(c),s=0;s<c;++s)(u=a[s])&&(f[s]=u);f.sort(n)}return new De(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=Hn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Xn:Vn:"function"==typeof n?e.local?Qn:Zn:e.local?Wn:Gn)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Jn:"function"==typeof n?ne:te)(t,n,null==e?"":e)):ee(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?re:"function"==typeof n?oe:ie)(t,n)):this.node()[t]},classed:function(t,n){var e=ue(t+"");if(arguments.length<2){for(var r=ae(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?de:n?le:he)(e,n))},text:function(t){return arguments.length?this.each(null==t?pe:("function"==typeof t?ve:ge)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ye:("function"==typeof t?me:_e)(t)):this.node().innerHTML},raise:function(){return this.each(be)},lower:function(){return this.each(xe)},append:function(t){var n="function"==typeof t?t:Ae(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Ae(t),r=null==n?Te:"function"==typeof n?n:En(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Se)},clone:function(t){return this.select(t?Ne:Ee)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=ke(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?Pe:Ce,r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,f=0,s=a.length;f<s;++f)for(r=0,c=a[f];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?Re:Ie)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};var Fe=function(t){return"string"==typeof t?new De([[document.querySelector(t)]],[document.documentElement]):new De([[t]],$e)};const qe={passive:!1},Oe={capture:!0,passive:!1};function Le(t){t.stopImmediatePropagation()}var Ue=function(t){t.preventDefault(),t.stopImmediatePropagation()},je=function(t){var n=t.document.documentElement,e=Fe(t).on("dragstart.drag",Ue,Oe);"onselectstart"in n?e.on("selectstart.drag",Ue,Oe):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function Ye(t,n){var e=t.document.documentElement,r=Fe(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ue,Oe),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var He=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function Ve(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Xe(){}var Ge="\\s*([+-]?\\d+)\\s*",We="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qe=/^#([0-9a-f]{3,8})$/,Ke=new RegExp(`^rgb\\(${Ge},${Ge},${Ge}\\)$`),Je=new RegExp(`^rgb\\(${Ze},${Ze},${Ze}\\)$`),tr=new RegExp(`^rgba\\(${Ge},${Ge},${Ge},${We}\\)$`),nr=new RegExp(`^rgba\\(${Ze},${Ze},${Ze},${We}\\)$`),er=new RegExp(`^hsl\\(${We},${Ze},${Ze}\\)$`),rr=new RegExp(`^hsla\\(${We},${Ze},${Ze},${We}\\)$`),ir={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function or(){return this.rgb().formatHex()}function ur(){return this.rgb().formatRgb()}function ar(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Qe.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?cr(n):3===e?new hr(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?fr(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?fr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Ke.exec(t))?new hr(n[1],n[2],n[3],1):(n=Je.exec(t))?new hr(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=tr.exec(t))?fr(n[1],n[2],n[3],n[4]):(n=nr.exec(t))?fr(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=er.exec(t))?_r(n[1],n[2]/100,n[3]/100,1):(n=rr.exec(t))?_r(n[1],n[2]/100,n[3]/100,n[4]):ir.hasOwnProperty(t)?cr(ir[t]):"transparent"===t?new hr(NaN,NaN,NaN,0):null}function cr(t){return new hr(t>>16&255,t>>8&255,255&t,1)}function fr(t,n,e,r){return r<=0&&(t=n=e=NaN),new hr(t,n,e,r)}function sr(t){return t instanceof Xe||(t=ar(t)),t?new hr((t=t.rgb()).r,t.g,t.b,t.opacity):new hr}function lr(t,n,e,r){return 1===arguments.length?sr(t):new hr(t,n,e,null==r?1:r)}function hr(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function dr(){return`#${yr(this.r)}${yr(this.g)}${yr(this.b)}`}function pr(){const t=gr(this.opacity);return`${1===t?"rgb(":"rgba("}${vr(this.r)}, ${vr(this.g)}, ${vr(this.b)}${1===t?")":`, ${t})`}`}function gr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yr(t){return((t=vr(t))<16?"0":"")+t.toString(16)}function _r(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new xr(t,n,e,r)}function mr(t){if(t instanceof xr)return new xr(t.h,t.s,t.l,t.opacity);if(t instanceof Xe||(t=ar(t)),!t)return new xr;if(t instanceof xr)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new xr(u,a,c,t.opacity)}function br(t,n,e,r){return 1===arguments.length?mr(t):new xr(t,n,e,null==r?1:r)}function xr(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function wr(t){return(t=(t||0)%360)<0?t+360:t}function Mr(t){return Math.max(0,Math.min(1,t||0))}function Ar(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Tr(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}He(Xe,ar,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:or,formatHex:or,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return mr(this).formatHsl()},formatRgb:ur,toString:ur}),He(hr,lr,Ve(Xe,{brighter(t){return t=null==t?1/.7:Math.pow(1/.7,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hr(vr(this.r),vr(this.g),vr(this.b),gr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dr,formatHex:dr,formatHex8:function(){return`#${yr(this.r)}${yr(this.g)}${yr(this.b)}${yr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:pr,toString:pr})),He(xr,br,Ve(Xe,{brighter(t){return t=null==t?1/.7:Math.pow(1/.7,t),new xr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new xr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new hr(Ar(t>=240?t-240:t+120,i,r),Ar(t,i,r),Ar(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new xr(wr(this.h),Mr(this.s),Mr(this.l),gr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gr(this.opacity);return`${1===t?"hsl(":"hsla("}${wr(this.h)}, ${100*Mr(this.s)}%, ${100*Mr(this.l)}%${1===t?")":`, ${t})`}`}}));var Sr=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return Tr((e-r/n)*n,u,i,o,a)}},Er=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return Tr((e-r/n)*n,i,o,u,a)}},Nr=t=>()=>t;function kr(t,n){return function(e){return t+e*n}}function Cr(t,n){var e=n-t;return e?kr(t,e>180||e<-180?e-360*Math.round(e/360):e):Nr(isNaN(t)?n:t)}function Pr(t){return 1==(t=+t)?zr:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Nr(isNaN(n)?e:n)}}function zr(t,n){var e=n-t;return e?kr(t,e):Nr(isNaN(t)?n:t)}var Ir=function t(n){var e=Pr(n);function r(t,n){var r=e((t=lr(t)).r,(n=lr(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=zr(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function Rr(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=lr(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}var $r=Rr(Sr),Dr=Rr(Er),Br=function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}};function Fr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var qr=function(t,n){return(Fr(n)?Br:Or)(t,n)};function Or(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=Xr(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}var Lr=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},Ur=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},jr=function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Xr(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},Yr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hr=new RegExp(Yr.source,"g");var Vr=function(t,n){var e,r,i,o=Yr.lastIndex=Hr.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=Yr.exec(t))&&(r=Hr.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:Ur(e,r)})),o=Hr.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})},Xr=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?Nr(n):("number"===r?Ur:"string"===r?(e=ar(n))?(n=e,Ir):Vr:n instanceof ar?Ir:n instanceof Date?Lr:Fr(n)?Br:Array.isArray(n)?Or:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?jr:Ur)(t,n)};function Gr(){}var Wr=function(t){return null==t?Gr:function(){return this.querySelector(t)}};function Zr(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Qr(){return[]}var Kr=function(t){return null==t?Qr:function(){return this.querySelectorAll(t)}};var Jr=function(t){return function(){return this.matches(t)}};function ti(t){return function(n){return n.matches(t)}}var ni=Array.prototype.find;function ei(){return this.firstElementChild}var ri=Array.prototype.filter;function ii(){return Array.from(this.children)}var oi=function(t){return new Array(t.length)};function ui(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}ui.prototype={constructor:ui,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ai=function(t){return function(){return t}};function ci(t,n,e,r,i,o){for(var u,a=0,c=n.length,f=o.length;a<f;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new ui(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function fi(t,n,e,r,i,o,u){var a,c,f,s=new Map,l=n.length,h=o.length,d=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(d[a]=f=u.call(c,c.__data__,a,n)+"",s.has(f)?i[a]=c:s.set(f,c));for(a=0;a<h;++a)f=u.call(t,o[a],a,o)+"",(c=s.get(f))?(r[a]=c,c.__data__=o[a],s.delete(f)):e[a]=new ui(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&s.get(d[a])===c&&(i[a]=c)}function si(t){return t.__data__}function li(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function hi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var di={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pi=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),di.hasOwnProperty(n)?{space:di[n],local:t}:t};function gi(t){return function(){this.removeAttribute(t)}}function vi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yi(t,n){return function(){this.setAttribute(t,n)}}function _i(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function mi(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function bi(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var xi=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function wi(t){return function(){this.style.removeProperty(t)}}function Mi(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ai(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Ti(t,n){return t.style.getPropertyValue(n)||xi(t).getComputedStyle(t,null).getPropertyValue(n)}function Si(t){return function(){delete this[t]}}function Ei(t,n){return function(){this[t]=n}}function Ni(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function ki(t){return t.trim().split(/^|\s+/)}function Ci(t){return t.classList||new Pi(t)}function Pi(t){this._node=t,this._names=ki(t.getAttribute("class")||"")}function zi(t,n){for(var e=Ci(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Ii(t,n){for(var e=Ci(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Ri(t){return function(){zi(this,t)}}function $i(t){return function(){Ii(this,t)}}function Di(t,n){return function(){(n.apply(this,arguments)?zi:Ii)(this,t)}}Pi.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Bi(){this.textContent=""}function Fi(t){return function(){this.textContent=t}}function qi(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Oi(){this.innerHTML=""}function Li(t){return function(){this.innerHTML=t}}function Ui(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function ji(){this.nextSibling&&this.parentNode.appendChild(this)}function Yi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hi(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===e&&"http://www.w3.org/1999/xhtml"===n.documentElement.namespaceURI?n.createElement(t):n.createElementNS(e,t)}}function Vi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Xi=function(t){var n=pi(t);return(n.local?Vi:Hi)(n)};function Gi(){return null}function Wi(){var t=this.parentNode;t&&t.removeChild(this)}function Zi(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Qi(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ki(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Ji(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function to(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function no(t,n,e){var r=xi(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function eo(t,n){return function(){return no(this,t,n)}}function ro(t,n){return function(){return no(this,t,n.apply(this,arguments))}}var io=[null];function oo(t,n){this._groups=t,this._parents=n}function uo(){return new oo([[document.documentElement]],io)}oo.prototype=uo.prototype={constructor:oo,select:function(t){"function"!=typeof t&&(t=Wr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,f=r[i]=new Array(c),s=0;s<c;++s)(o=a[s])&&(u=t.call(o,o.__data__,s,a))&&("__data__"in o&&(u.__data__=o.__data__),f[s]=u);return new oo(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Zr(t.apply(this,arguments))}}(t):Kr(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,f=0;f<c;++f)(u=a[f])&&(r.push(t.call(u,u.__data__,f,a)),i.push(u));return new oo(r,i)},selectChild:function(t){return this.select(null==t?ei:function(t){return function(){return ni.call(this.children,t)}}("function"==typeof t?t:ti(t)))},selectChildren:function(t){return this.selectAll(null==t?ii:function(t){return function(){return ri.call(this.children,t)}}("function"==typeof t?t:ti(t)))},filter:function(t){"function"!=typeof t&&(t=Jr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],f=0;f<a;++f)(o=u[f])&&t.call(o,o.__data__,f,u)&&c.push(o);return new oo(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,si);var e=n?fi:ci,r=this._parents,i=this._groups;"function"!=typeof t&&(t=ai(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),f=0;f<o;++f){var s=r[f],l=i[f],h=l.length,d=li(t.call(s,s&&s.__data__,f,r)),p=d.length,g=a[f]=new Array(p),v=u[f]=new Array(p),y=c[f]=new Array(h);e(s,l,g,v,y,d,n);for(var _,m,b=0,x=0;b<p;++b)if(_=g[b]){for(b>=x&&(x=b+1);!(m=v[x])&&++x<p;);_._next=m||null}}return(u=new oo(u,r))._enter=a,u._exit=c,u},enter:function(){return new oo(this._enter||this._groups.map(oi),this._parents)},exit:function(){return new oo(this._exit||this._groups.map(oi),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,u=Math.min(i,o),a=new Array(i),c=0;c<u;++c)for(var f,s=e[c],l=r[c],h=s.length,d=a[c]=new Array(h),p=0;p<h;++p)(f=s[p]||l[p])&&(d[p]=f);for(;c<i;++c)a[c]=e[c];return new oo(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=hi);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,f=i[o]=new Array(c),s=0;s<c;++s)(u=a[s])&&(f[s]=u);f.sort(n)}return new oo(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=pi(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?vi:gi:"function"==typeof n?e.local?bi:mi:e.local?_i:yi)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?wi:"function"==typeof n?Ai:Mi)(t,n,null==e?"":e)):Ti(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Si:"function"==typeof n?Ni:Ei)(t,n)):this.node()[t]},classed:function(t,n){var e=ki(t+"");if(arguments.length<2){for(var r=Ci(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Di:n?Ri:$i)(e,n))},text:function(t){return arguments.length?this.each(null==t?Bi:("function"==typeof t?qi:Fi)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Oi:("function"==typeof t?Ui:Li)(t)):this.node().innerHTML},raise:function(){return this.each(ji)},lower:function(){return this.each(Yi)},append:function(t){var n="function"==typeof t?t:Xi(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Xi(t),r=null==n?Gi:"function"==typeof n?n:Wr(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Wi)},clone:function(t){return this.select(t?Qi:Zi)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Ki(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?to:Ji,r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,f=0,s=a.length;f<s;++f)for(r=0,c=a[f];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?ro:eo)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};var ao,co,fo=uo,so=function(t){return"string"==typeof t?new oo([[document.querySelector(t)]],[document.documentElement]):new oo([[t]],io)},lo=function(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]},ho=0,po=0,go=0,vo=0,yo=0,_o=0,mo="object"==typeof performance&&performance.now?performance:Date,bo="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xo(){return yo||(bo(wo),yo=mo.now()+_o)}function wo(){yo=0}function Mo(){this._call=this._time=this._next=null}function Ao(t,n,e){var r=new Mo;return r.restart(t,n,e),r}function To(){xo(),++ho;for(var t,n=ao;n;)(t=yo-n._time)>=0&&n._call.call(void 0,t),n=n._next;--ho}function So(){yo=(vo=mo.now())+_o,ho=po=0;try{To()}finally{ho=0,function(){var t,n,e=ao,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ao=n);co=t,No(r)}(),yo=0}}function Eo(){var t=mo.now(),n=t-vo;n>1e3&&(_o-=n,vo=t)}function No(t){ho||(po&&(po=clearTimeout(po)),t-yo>24?(t<1/0&&(po=setTimeout(So,t-mo.now()-_o)),go&&(go=clearInterval(go))):(go||(vo=mo.now(),go=setInterval(Eo,1e3)),ho=1,bo(So)))}Mo.prototype=Ao.prototype={constructor:Mo,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?xo():+e)+(null==n?0:+n),this._next||co===this||(co?co._next=this:ao=this,co=this),this._call=t,this._time=e,No()},stop:function(){this._call&&(this._call=null,this._time=1/0,No())}};var ko=function(t,n,e){var r=new Mo;return n=null==n?0:+n,r.restart(e=>{r.stop(),t(e+n)},n,e),r},Co=Tn("start","end","cancel","interrupt"),Po=[],zo=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(c){var f,s,l,h;if(1!==e.state)return a();for(f in i)if((h=i[f]).name===e.name){if(3===h.state)return ko(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(ko((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(c))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),f=0,s=-1;f<l;++f)(h=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=5,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Ao((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Co,tween:Po,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Io(t,n){var e=$o(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Ro(t,n){var e=$o(t,n);if(e.state>3)throw new Error("too late; already running");return e}function $o(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Do,Bo=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}},Fo=180/Math.PI,qo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Oo=function(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Fo,skewX:Math.atan(c)*Fo,scaleX:u,scaleY:a}};function Lo(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],c=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:Ur(t,i)},{i:c-2,x:Ur(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Ur(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Ur(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,c),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:Ur(t,e)},{i:a-2,x:Ur(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,c),o=u=null,function(t){for(var n,e=-1,r=c.length;++e<r;)a[(n=c[e]).i]=n.x(t);return a.join("")}}}var Uo=Lo((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?qo:Oo(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),jo=Lo((function(t){return null==t?qo:(Do||(Do=document.createElementNS("http://www.w3.org/2000/svg","g")),Do.setAttribute("transform",t),(t=Do.transform.baseVal.consolidate())?(t=t.matrix,Oo(t.a,t.b,t.c,t.d,t.e,t.f)):qo)}),", ",")",")");function Yo(t,n){var e,r;return function(){var i=Ro(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}function Ho(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Ro(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,f=i.length;c<f;++c)if(i[c].name===n){i[c]=a;break}c===f&&i.push(a)}o.tween=i}}function Vo(t,n,e){var r=t._id;return t.each((function(){var t=Ro(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return $o(t,r).value[n]}}var Xo=function(t,n){var e;return("number"==typeof n?Ur:n instanceof ar?Ir:(e=ar(n))?(n=e,Ir):Vr)(t,n)};function Go(t){return function(){this.removeAttribute(t)}}function Wo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zo(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}}function Qo(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}function Ko(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return(u=this.getAttribute(t))===(a=c+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttribute(t)}}function Jo(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return(u=this.getAttributeNS(t.space,t.local))===(a=c+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttributeNS(t.space,t.local)}}function tu(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function nu(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function eu(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&nu(t,i)),e}return i._value=n,i}function ru(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&tu(t,i)),e}return i._value=n,i}function iu(t,n){return function(){Io(this,t).delay=+n.apply(this,arguments)}}function ou(t,n){return n=+n,function(){Io(this,t).delay=n}}function uu(t,n){return function(){Ro(this,t).duration=+n.apply(this,arguments)}}function au(t,n){return n=+n,function(){Ro(this,t).duration=n}}function cu(t,n){if("function"!=typeof n)throw new Error;return function(){Ro(this,t).ease=n}}function fu(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Io:Ro;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}var su=fo.prototype.constructor;function lu(t){return function(){this.style.removeProperty(t)}}function hu(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function du(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&hu(t,o,e)),r}return o._value=n,o}function pu(t){return function(n){this.textContent=t.call(this,n)}}function gu(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&pu(r)),n}return r._value=t,r}var vu=0;function yu(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function _u(){return++vu}var mu=fo.prototype;function bu(t){return t*t*t}function xu(t){return--t*t*t+1}function wu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}yu.prototype=function(t){return fo().transition(t)}.prototype={constructor:yu,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Wr(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,f=r[u],s=f.length,l=o[u]=new Array(s),h=0;h<s;++h)(a=f[h])&&(c=t.call(a,a.__data__,h,f))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,zo(l[h],n,e,h,l,$o(a,e)));return new yu(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Kr(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,f=r[a],s=f.length,l=0;l<s;++l)if(c=f[l]){for(var h,d=t.call(c,c.__data__,l,f),p=$o(c,e),g=0,v=d.length;g<v;++g)(h=d[g])&&zo(h,n,e,g,d,p);o.push(d),u.push(c)}return new yu(o,u,n,e)},selectChild:mu.selectChild,selectChildren:mu.selectChildren,filter:function(t){"function"!=typeof t&&(t=Jr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],f=0;f<a;++f)(o=u[f])&&t.call(o,o.__data__,f,u)&&c.push(o);return new yu(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,f=n[a],s=e[a],l=f.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=f[d]||s[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new yu(u,this._parents,this._name,this._id)},selection:function(){return new su(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=_u(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,f=0;f<c;++f)if(u=a[f]){var s=$o(u,n);zo(u,t,e,f,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new yu(r,this._parents,t,e)},call:mu.call,nodes:mu.nodes,node:mu.node,size:mu.size,empty:mu.empty,each:mu.each,on:function(t,n){var e=this._id;return arguments.length<2?$o(this.node(),e).on.on(t):this.each(fu(e,t,n))},attr:function(t,n){var e=pi(t),r="transform"===e?jo:Xo;return this.attrTween(t,"function"==typeof n?(e.local?Jo:Ko)(e,r,Vo(this,"attr."+t,n)):null==n?(e.local?Wo:Go)(e):(e.local?Qo:Zo)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=pi(t);return this.tween(e,(r.local?eu:ru)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Uo:Xo;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=Ti(this,t),u=(this.style.removeProperty(t),Ti(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,lu(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var u=Ti(this,t),a=e(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=Ti(this,t)),u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a))}}(t,r,Vo(this,"style."+t,n))).each(function(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var c=Ro(this,t),f=c.on,s=null==c.value[u]?o||(o=lu(n)):void 0;f===e&&i===s||(r=(e=f).copy()).on(a,i=s),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var u=Ti(this,t);return u===o?null:u===r?i:i=n(r=u,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,du(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Vo(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,gu(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=$o(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Yo:Ho)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?iu:ou)(n,t)):$o(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?uu:au)(n,t)):$o(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(cu(n,t)):$o(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Ro(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,u){var a={value:u},c={value:function(){0==--i&&o()}};e.each((function(){var e=Ro(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:mu[Symbol.iterator]};var Mu={time:null,delay:0,duration:250,ease:wu};function Au(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}fo.prototype.interrupt=function(t){return this.each((function(){Bo(this,t)}))},fo.prototype.transition=function(t){var n,e;t instanceof yu?(n=t._id,t=t._name):(n=_u(),(e=Mu).time=xo(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,f=0;f<c;++f)(u=a[f])&&zo(u,t,n,f,a,e||Au(u,n));return new yu(r,this._parents,t,n)};var Tu=t=>()=>t;function Su(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Eu(t){t.stopImmediatePropagation()}var Nu=function(t){t.preventDefault(),t.stopImmediatePropagation()},ku={name:"drag"},Cu={name:"space"},Pu={name:"handle"},zu={name:"center"};const{abs:Iu,max:Ru,min:$u}=Math;function Du(t){return[+t[0],+t[1]]}function Bu(t){return[Du(t[0]),Du(t[1])]}var Fu={name:"x",handles:["w","e"].map(Vu),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},qu={name:"y",handles:["n","s"].map(Vu),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ou={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Vu),input:function(t){return null==t?null:Bu(t)},output:function(t){return t}},Lu={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Uu={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ju={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Yu={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Hu={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Vu(t){return{type:t}}function Xu(t){return!t.ctrlKey&&!t.button}function Gu(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Wu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zu(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Qu(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ku(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function Ju(){return ea(Fu)}function ta(){return ea(qu)}var na=function(){return ea(Ou)};function ea(t){var n,e=Gu,r=Xu,i=Wu,o=!0,u=Tn("start","brush","end"),a=6;function c(n){var e=n.property("__brush",g).selectAll(".overlay").data([Vu("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Lu.overlay).merge(e).each((function(){var t=Zu(this).extent;so(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([Vu("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Lu.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Lu[t.type]})),n.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){var t=so(this),n=Zu(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-a/2:n[0][0]-a/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-a/2:n[0][1]-a/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+a:a})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+a:a}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(t,n,e){var r=t.__brush.emitter;return!r||e&&r.clean?new l(t,n,e):r}function l(t,n,e){this.that=t,this.args=n,this.state=t.__brush,this.active=0,this.clean=e}function h(e){if((!n||e.touches)&&r.apply(this,arguments)){var i,u,a,c,l,h,d,p,g,v,y,_=this,m=e.target.__data__.type,b="selection"===(o&&e.metaKey?m="overlay":m)?ku:o&&e.altKey?zu:Pu,x=t===qu?null:Yu[m],w=t===Fu?null:Hu[m],M=Zu(_),A=M.extent,T=M.selection,S=A[0][0],E=A[0][1],N=A[1][0],k=A[1][1],C=0,P=0,z=x&&w&&o&&e.shiftKey,I=Array.from(e.touches||[e],t=>{const n=t.identifier;return(t=lo(t,_)).point0=t.slice(),t.identifier=n,t});Bo(_);var R=s(_,arguments,!0).beforestart();if("overlay"===m){T&&(g=!0);const n=[I[0],I[1]||I[0]];M.selection=T=[[i=t===qu?S:$u(n[0][0],n[1][0]),a=t===Fu?E:$u(n[0][1],n[1][1])],[l=t===qu?N:Ru(n[0][0],n[1][0]),d=t===Fu?k:Ru(n[0][1],n[1][1])]],I.length>1&&q(e)}else i=T[0][0],a=T[0][1],l=T[1][0],d=T[1][1];u=i,c=a,h=l,p=d;var $=so(_).attr("pointer-events","none"),D=$.selectAll(".overlay").attr("cursor",Lu[m]);if(e.touches)R.moved=F,R.ended=O;else{var B=so(e.view).on("mousemove.brush",F,!0).on("mouseup.brush",O,!0);o&&B.on("keydown.brush",L,!0).on("keyup.brush",U,!0),je(e.view)}f.call(_),R.start(e,b.name)}function F(t){for(const n of t.changedTouches||[t])for(const t of I)t.identifier===n.identifier&&(t.cur=lo(n,_));if(z&&!v&&!y&&1===I.length){const t=I[0];Iu(t.cur[0]-t[0])>Iu(t.cur[1]-t[1])?y=!0:v=!0}for(const t of I)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);g=!0,Nu(t),q(t)}function q(t){const n=I[0],e=n.point0;var r;switch(C=n[0]-e[0],P=n[1]-e[1],b){case Cu:case ku:x&&(C=Ru(S-i,$u(N-l,C)),u=i+C,h=l+C),w&&(P=Ru(E-a,$u(k-d,P)),c=a+P,p=d+P);break;case Pu:I[1]?(x&&(u=Ru(S,$u(N,I[0][0])),h=Ru(S,$u(N,I[1][0])),x=1),w&&(c=Ru(E,$u(k,I[0][1])),p=Ru(E,$u(k,I[1][1])),w=1)):(x<0?(C=Ru(S-i,$u(N-i,C)),u=i+C,h=l):x>0&&(C=Ru(S-l,$u(N-l,C)),u=i,h=l+C),w<0?(P=Ru(E-a,$u(k-a,P)),c=a+P,p=d):w>0&&(P=Ru(E-d,$u(k-d,P)),c=a,p=d+P));break;case zu:x&&(u=Ru(S,$u(N,i-C*x)),h=Ru(S,$u(N,l+C*x))),w&&(c=Ru(E,$u(k,a-P*w)),p=Ru(E,$u(k,d+P*w)))}h<u&&(x*=-1,r=i,i=l,l=r,r=u,u=h,h=r,m in Uu&&D.attr("cursor",Lu[m=Uu[m]])),p<c&&(w*=-1,r=a,a=d,d=r,r=c,c=p,p=r,m in ju&&D.attr("cursor",Lu[m=ju[m]])),M.selection&&(T=M.selection),v&&(u=T[0][0],h=T[1][0]),y&&(c=T[0][1],p=T[1][1]),T[0][0]===u&&T[0][1]===c&&T[1][0]===h&&T[1][1]===p||(M.selection=[[u,c],[h,p]],f.call(_),R.brush(t,b.name))}function O(t){if(Eu(t),t.touches){if(t.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else Ye(t.view,g),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);$.attr("pointer-events","all"),D.attr("cursor",Lu.overlay),M.selection&&(T=M.selection),Qu(T)&&(M.selection=null,f.call(_)),R.end(t,b.name)}function L(t){switch(t.keyCode){case 16:z=x&&w;break;case 18:b===Pu&&(x&&(l=h-C*x,i=u+C*x),w&&(d=p-P*w,a=c+P*w),b=zu,q(t));break;case 32:b!==Pu&&b!==zu||(x<0?l=h-C:x>0&&(i=u-C),w<0?d=p-P:w>0&&(a=c-P),b=Cu,D.attr("cursor",Lu.selection),q(t));break;default:return}Nu(t)}function U(t){switch(t.keyCode){case 16:z&&(v=y=z=!1,q(t));break;case 18:b===zu&&(x<0?l=h:x>0&&(i=u),w<0?d=p:w>0&&(a=c),b=Pu,q(t));break;case 32:b===Cu&&(t.altKey?(x&&(l=h-C*x,i=u+C*x),w&&(d=p-P*w,a=c+P*w),b=zu):(x<0?l=h:x>0&&(i=u),w<0?d=p:w>0&&(a=c),b=Pu),D.attr("cursor",Lu[m]),q(t));break;default:return}Nu(t)}}function d(t){s(this,arguments).moved(t)}function p(t){s(this,arguments).ended(t)}function g(){var n=this.__brush||{selection:null};return n.extent=Bu(e.apply(this,arguments)),n.dim=t,n}return c.move=function(n,e,r){n.tween?n.on("start.brush",(function(t){s(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){s(this,arguments).end(t)})).tween("brush",(function(){var n=this,r=n.__brush,i=s(n,arguments),o=r.selection,u=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),a=Xr(o,u);function c(t){r.selection=1===t&&null===u?null:a(t),f.call(n),i.brush()}return null!==o&&null!==u?c:c(1)})):n.each((function(){var n=this,i=arguments,o=n.__brush,u=t.input("function"==typeof e?e.apply(n,i):e,o.extent),a=s(n,i).beforestart();Bo(n),o.selection=null===u?null:u,f.call(n),a.start(r).brush(r).end(r)}))},c.clear=function(t,n){c.move(t,null,n)},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,n){return this.starting?(this.starting=!1,this.emit("start",t,n)):this.emit("brush",t),this},brush:function(t,n){return this.emit("brush",t,n),this},end:function(t,n){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,n)),this},emit:function(n,e,r){var i=so(this.that).datum();u.call(n,this.that,new Su(n,{sourceEvent:e,target:c,selection:t.output(this.state.selection),mode:r,dispatch:u}),i)}},c.extent=function(t){return arguments.length?(e="function"==typeof t?t:Tu(Bu(t)),c):e},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:Tu(!!t),c):r},c.touchable=function(t){return arguments.length?(i="function"==typeof t?t:Tu(!!t),c):i},c.handleSize=function(t){return arguments.length?(a=+t,c):a},c.keyModifiers=function(t){return arguments.length?(o=!!t,c):o},c.on=function(){var t=u.on.apply(u,arguments);return t===u?c:t},c}var ra=Math.abs,ia=Math.cos,oa=Math.sin,ua=Math.PI,aa=ua/2,ca=2*ua,fa=Math.max;function sa(t,n){return Array.from({length:n-t},(n,e)=>t+e)}function la(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}var ha=function(){return ga(!1,!1)};function da(){return ga(!1,!0)}function pa(){return ga(!0,!1)}function ga(t,n){var e=0,r=null,i=null,o=null;function u(u){var a,c=u.length,f=new Array(c),s=sa(0,c),l=new Array(c*c),h=new Array(c),d=0;u=Float64Array.from({length:c*c},n?(t,n)=>u[n%c][n/c|0]:(t,n)=>u[n/c|0][n%c]);for(let n=0;n<c;++n){let e=0;for(let r=0;r<c;++r)e+=u[n*c+r]+t*u[r*c+n];d+=f[n]=e}a=(d=fa(0,ca-e*c)/d)?e:ca/c;{let n=0;r&&s.sort((t,n)=>r(f[t],f[n]));for(const e of s){const r=n;if(t){const t=sa(1+~c,c).filter(t=>t<0?u[~t*c+e]:u[e*c+t]);i&&t.sort((t,n)=>i(t<0?-u[~t*c+e]:u[e*c+t],n<0?-u[~n*c+e]:u[e*c+n]));for(const r of t)if(r<0){(l[~r*c+e]||(l[~r*c+e]={source:null,target:null})).target={index:e,startAngle:n,endAngle:n+=u[~r*c+e]*d,value:u[~r*c+e]}}else{(l[e*c+r]||(l[e*c+r]={source:null,target:null})).source={index:e,startAngle:n,endAngle:n+=u[e*c+r]*d,value:u[e*c+r]}}h[e]={index:e,startAngle:r,endAngle:n,value:f[e]}}else{const t=sa(0,c).filter(t=>u[e*c+t]||u[t*c+e]);i&&t.sort((t,n)=>i(u[e*c+t],u[e*c+n]));for(const r of t){let t;if(e<r?(t=l[e*c+r]||(l[e*c+r]={source:null,target:null}),t.source={index:e,startAngle:n,endAngle:n+=u[e*c+r]*d,value:u[e*c+r]}):(t=l[r*c+e]||(l[r*c+e]={source:null,target:null}),t.target={index:e,startAngle:n,endAngle:n+=u[e*c+r]*d,value:u[e*c+r]},e===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const n=t.source;t.source=t.target,t.target=n}}h[e]={index:e,startAngle:r,endAngle:n,value:f[e]}}n+=a}}return(l=Object.values(l)).groups=h,o?l.sort(o):l}return u.padAngle=function(t){return arguments.length?(e=fa(0,t),u):e},u.sortGroups=function(t){return arguments.length?(r=t,u):r},u.sortSubgroups=function(t){return arguments.length?(i=t,u):i},u.sortChords=function(t){return arguments.length?(null==t?o=null:(o=la(t))._=t,u):o&&o._},u}const va=Math.PI,ya=2*va,_a=ya-1e-6;function ma(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class ba{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?ma:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error("invalid digits: "+t);if(n>15)return ma;const e=10**n;return function(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,r){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+r}`}bezierCurveTo(t,n,e,r,i,o){this._append`C${+t},${+n},${+e},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,e,r,i){if(t=+t,n=+n,e=+e,r=+r,(i=+i)<0)throw new Error("negative radius: "+i);let o=this._x1,u=this._y1,a=e-t,c=r-n,f=o-t,s=u-n,l=f*f+s*s;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(l>1e-6)if(Math.abs(s*a-c*f)>1e-6&&i){let h=e-o,d=r-u,p=a*a+c*c,g=h*h+d*d,v=Math.sqrt(p),y=Math.sqrt(l),_=i*Math.tan((va-Math.acos((p+l-g)/(2*v*y)))/2),m=_/y,b=_/v;Math.abs(m-1)>1e-6&&this._append`L${t+m*f},${n+m*s}`,this._append`A${i},${i},0,0,${+(s*h>f*d)},${this._x1=t+b*a},${this._y1=n+b*c}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,r,i,o){if(t=+t,n=+n,o=!!o,(e=+e)<0)throw new Error("negative radius: "+e);let u=e*Math.cos(r),a=e*Math.sin(r),c=t+u,f=n+a,s=1^o,l=o?r-i:i-r;null===this._x1?this._append`M${c},${f}`:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-f)>1e-6)&&this._append`L${c},${f}`,e&&(l<0&&(l=l%ya+ya),l>_a?this._append`A${e},${e},0,1,${s},${t-u},${n-a}A${e},${e},0,1,${s},${this._x1=c},${this._y1=f}`:l>1e-6&&this._append`A${e},${e},0,${+(l>=va)},${s},${this._x1=t+e*Math.cos(i)},${this._y1=n+e*Math.sin(i)}`)}rect(t,n,e,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+r}h${-e}Z`}toString(){return this._}}function xa(){return new ba}function wa(t=3){return new ba(+t)}xa.prototype=ba.prototype;var Ma=Array.prototype.slice,Aa=function(t){return function(){return t}};function Ta(t){return t.source}function Sa(t){return t.target}function Ea(t){return t.radius}function Na(t){return t.startAngle}function ka(t){return t.endAngle}function Ca(){return 0}function Pa(){return 10}function za(t){var n=Ta,e=Sa,r=Ea,i=Ea,o=Na,u=ka,a=Ca,c=null;function f(){var f,s=n.apply(this,arguments),l=e.apply(this,arguments),h=a.apply(this,arguments)/2,d=Ma.call(arguments),p=+r.apply(this,(d[0]=s,d)),g=o.apply(this,d)-aa,v=u.apply(this,d)-aa,y=+i.apply(this,(d[0]=l,d)),_=o.apply(this,d)-aa,m=u.apply(this,d)-aa;if(c||(c=f=xa()),h>1e-12&&(ra(v-g)>2*h+1e-12?v>g?(g+=h,v-=h):(g-=h,v+=h):g=v=(g+v)/2,ra(m-_)>2*h+1e-12?m>_?(_+=h,m-=h):(_-=h,m+=h):_=m=(_+m)/2),c.moveTo(p*ia(g),p*oa(g)),c.arc(0,0,p,g,v),g!==_||v!==m)if(t){var b=+t.apply(this,arguments),x=y-b,w=(_+m)/2;c.quadraticCurveTo(0,0,x*ia(_),x*oa(_)),c.lineTo(y*ia(w),y*oa(w)),c.lineTo(x*ia(m),x*oa(m))}else c.quadraticCurveTo(0,0,y*ia(_),y*oa(_)),c.arc(0,0,y,_,m);if(c.quadraticCurveTo(0,0,p*ia(g),p*oa(g)),c.closePath(),f)return c=null,f+""||null}return t&&(f.headRadius=function(n){return arguments.length?(t="function"==typeof n?n:Aa(+n),f):t}),f.radius=function(t){return arguments.length?(r=i="function"==typeof t?t:Aa(+t),f):r},f.sourceRadius=function(t){return arguments.length?(r="function"==typeof t?t:Aa(+t),f):r},f.targetRadius=function(t){return arguments.length?(i="function"==typeof t?t:Aa(+t),f):i},f.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:Aa(+t),f):o},f.endAngle=function(t){return arguments.length?(u="function"==typeof t?t:Aa(+t),f):u},f.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Aa(+t),f):a},f.source=function(t){return arguments.length?(n=t,f):n},f.target=function(t){return arguments.length?(e=t,f):e},f.context=function(t){return arguments.length?(c=null==t?null:t,f):c},f}var Ia=function(){return za()};function Ra(){return za(Pa)}const $a=Math.PI/180,Da=180/Math.PI;function Ba(t){if(t instanceof Oa)return new Oa(t.l,t.a,t.b,t.opacity);if(t instanceof Ga)return Wa(t);t instanceof hr||(t=sr(t));var n,e,r=Ya(t.r),i=Ya(t.g),o=Ya(t.b),u=La((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?n=e=u:(n=La((.4360747*r+.3850649*i+.1430804*o)/.96422),e=La((.0139322*r+.0971045*i+.7141733*o)/.82521)),new Oa(116*u-16,500*(n-u),200*(u-e),t.opacity)}function Fa(t,n){return new Oa(t,0,0,null==n?1:n)}function qa(t,n,e,r){return 1===arguments.length?Ba(t):new Oa(t,n,e,null==r?1:r)}function Oa(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function La(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function Ua(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function ja(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ya(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ha(t){if(t instanceof Ga)return new Ga(t.h,t.c,t.l,t.opacity);if(t instanceof Oa||(t=Ba(t)),0===t.a&&0===t.b)return new Ga(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Da;return new Ga(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Va(t,n,e,r){return 1===arguments.length?Ha(t):new Ga(e,n,t,null==r?1:r)}function Xa(t,n,e,r){return 1===arguments.length?Ha(t):new Ga(t,n,e,null==r?1:r)}function Ga(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Wa(t){if(isNaN(t.h))return new Oa(t.l,0,0,t.opacity);var n=t.h*$a;return new Oa(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}He(Oa,qa,Ve(Xe,{brighter(t){return new Oa(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Oa(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new hr(ja(3.1338561*(n=.96422*Ua(n))-1.6168667*(t=1*Ua(t))-.4906146*(e=.82521*Ua(e))),ja(-.9787684*n+1.9161415*t+.033454*e),ja(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),He(Ga,Xa,Ve(Xe,{brighter(t){return new Ga(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new Ga(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return Wa(this).rgb()}}));var Za=-.29227,Qa=-1.7884503806,Ka=3.5172982438,Ja=-.6557636667999999;function tc(t){if(t instanceof ec)return new ec(t.h,t.s,t.l,t.opacity);t instanceof hr||(t=sr(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Ja*r+Qa*n-Ka*e)/(Ja+Qa-Ka),o=r-i,u=(1.97294*(e-i)-Za*o)/-.90649,a=Math.sqrt(u*u+o*o)/(1.97294*i*(1-i)),c=a?Math.atan2(u,o)*Da-120:NaN;return new ec(c<0?c+360:c,a,i,t.opacity)}function nc(t,n,e,r){return 1===arguments.length?tc(t):new ec(t,n,e,null==r?1:r)}function ec(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}He(ec,nc,Ve(Xe,{brighter(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ec(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new ec(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*$a,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new hr(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(Za*r+-.90649*i)),255*(n+e*(1.97294*r)),this.opacity)}}));var rc=Array.prototype.slice,ic=function(t,n){return t-n},oc=t=>()=>t,uc=function(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=ac(t,n[r]))return e;return 0};function ac(t,n){for(var e=n[0],r=n[1],i=-1,o=0,u=t.length,a=u-1;o<u;a=o++){var c=t[o],f=c[0],s=c[1],l=t[a],h=l[0],d=l[1];if(cc(c,l,n))return 0;s>r!=d>r&&e<(h-f)*(r-s)/(d-s)+f&&(i=-i)}return i}function cc(t,n,e){var r,i,o,u;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],o=e[r],u=n[r],i<=o&&o<=u||u<=o&&o<=i)}var fc=function(){},sc=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],lc=function(){var t=1,n=1,e=pt,r=a;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(ic);else{const e=C(t,hc);for(n=st(...dt(e[0],e[1],n),n);n[n.length-1]>=e[1];)n.pop();for(;n[1]<e[0];)n.shift()}return n.map(n=>o(t,n))}function o(e,i){const o=null==i?NaN:+i;if(isNaN(o))throw new Error("invalid value: "+i);var a=[],c=[];return function(e,r,i){var o,a,c,f,s,l,h=new Array,d=new Array;o=a=-1,f=dc(e[0],r),sc[f<<1].forEach(p);for(;++o<t-1;)c=f,f=dc(e[o+1],r),sc[c|f<<1].forEach(p);sc[f<<0].forEach(p);for(;++a<n-1;){for(o=-1,f=dc(e[a*t+t],r),s=dc(e[a*t],r),sc[f<<1|s<<2].forEach(p);++o<t-1;)c=f,f=dc(e[a*t+t+o+1],r),l=s,s=dc(e[a*t+o+1],r),sc[c|f<<1|s<<2|l<<3].forEach(p);sc[f|s<<3].forEach(p)}o=-1,s=e[a*t]>=r,sc[s<<2].forEach(p);for(;++o<t-1;)l=s,s=dc(e[a*t+o+1],r),sc[s<<2|l<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+o,t[0][1]+a],c=[t[1][0]+o,t[1][1]+a],f=u(r),s=u(c);(n=d[f])?(e=h[s])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(c),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(c),d[n.end=s]=n):(n=h[s])?(e=d[f])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(c),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=f]=n):h[f]=d[s]={start:f,end:s,ring:[r,c]}}sc[s<<3].forEach(p)}(e,o,(function(t){r(t,e,o),function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)>0?a.push([t]):c.push(t)})),c.forEach((function(t){for(var n,e=0,r=a.length;e<r;++e)if(-1!==uc((n=a[e])[0],t))return void n.push(t)})),{type:"MultiPolygon",value:i,coordinates:a}}function u(n){return 2*n[0]+n[1]*(t+1)*4}function a(e,r,i){e.forEach((function(e){var o=e[0],u=e[1],a=0|o,c=0|u,f=pc(r[c*t+a]);o>0&&o<t&&a===o&&(e[0]=gc(o,pc(r[c*t+a-1]),f,i)),u>0&&u<n&&c===u&&(e[1]=gc(u,pc(r[(c-1)*t+a]),f,i))}))}return i.contour=o,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.floor(e[0]),o=Math.floor(e[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return t=r,n=o,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?oc(rc.call(t)):oc(t),i):e},i.smooth=function(t){return arguments.length?(r=t?a:fc,i):r===a},i};function hc(t){return isFinite(t)?t:NaN}function dc(t,n){return null!=t&&+t>=n}function pc(t){return null==t||isNaN(t=+t)?-1/0:t}function gc(t,n,e,r){const i=r-n,o=e-n,u=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(u)?t:t+u-.5}function vc(t){return t[0]}function yc(t){return t[1]}function _c(){return 1}var mc=function(){var t=vc,n=yc,e=_c,r=960,i=500,o=20,u=2,a=3*o,c=r+2*a>>u,f=i+2*a>>u,s=oc(20);function l(r){var i=new Float32Array(c*f),s=Math.pow(2,-u),l=-1;for(const o of r){var h=(t(o,++l,r)+a)*s,d=(n(o,l,r)+a)*s,p=+e(o,l,r);if(p&&h>=0&&h<c&&d>=0&&d<f){var g=Math.floor(h),y=Math.floor(d),_=h-g-.5,m=d-y-.5;i[g+y*c]+=(1-_)*(1-m)*p,i[g+1+y*c]+=_*(1-m)*p,i[g+1+(y+1)*c]+=_*m*p,i[g+(y+1)*c]+=(1-_)*m*p}}return v({data:i,width:c,height:f},o*s),i}function h(t){var n=l(t),e=s(n),r=Math.pow(2,2*u);return Array.isArray(e)||(e=st(Number.MIN_VALUE,vt(n)/r,e)),lc().size([c,f]).thresholds(e.map(t=>t*r))(n).map((t,n)=>(t.value=+e[n],d(t)))}function d(t){return t.coordinates.forEach(p),t}function p(t){t.forEach(g)}function g(t){t.forEach(y)}function y(t){t[0]=t[0]*Math.pow(2,u)-a,t[1]=t[1]*Math.pow(2,u)-a}function _(){return c=r+2*(a=3*o)>>u,f=i+2*a>>u,h}return h.contours=function(t){var n=l(t),e=lc().size([c,f]),r=Math.pow(2,2*u),i=t=>{t=+t;var i=d(e.contour(n,t*r));return i.value=t,i};return Object.defineProperty(i,"max",{get:()=>vt(n)/r}),i},h.x=function(n){return arguments.length?(t="function"==typeof n?n:oc(+n),h):t},h.y=function(t){return arguments.length?(n="function"==typeof t?t:oc(+t),h):n},h.weight=function(t){return arguments.length?(e="function"==typeof t?t:oc(+t),h):e},h.size=function(t){if(!arguments.length)return[r,i];var n=+t[0],e=+t[1];if(!(n>=0&&e>=0))throw new Error("invalid size");return r=n,i=e,_()},h.cellSize=function(t){if(!arguments.length)return 1<<u;if(!((t=+t)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(t)/Math.LN2),_()},h.thresholds=function(t){return arguments.length?(s="function"==typeof t?t:Array.isArray(t)?oc(rc.call(t)):oc(t),h):s},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*t*t+1)-1)/2,_()},h};const bc=134217729;function xc(t,n,e,r,i){let o,u,a,c,f=n[0],s=r[0],l=0,h=0;s>f==s>-f?(o=f,f=n[++l]):(o=s,s=r[++h]);let d=0;if(l<t&&h<e)for(s>f==s>-f?(u=f+o,a=o-(u-f),f=n[++l]):(u=s+o,a=o-(u-s),s=r[++h]),o=u,0!==a&&(i[d++]=a);l<t&&h<e;)s>f==s>-f?(u=o+f,c=u-o,a=o-(u-c)+(f-c),f=n[++l]):(u=o+s,c=u-o,a=o-(u-c)+(s-c),s=r[++h]),o=u,0!==a&&(i[d++]=a);for(;l<t;)u=o+f,c=u-o,a=o-(u-c)+(f-c),f=n[++l],o=u,0!==a&&(i[d++]=a);for(;h<e;)u=o+s,c=u-o,a=o-(u-c)+(s-c),s=r[++h],o=u,0!==a&&(i[d++]=a);return 0===o&&0!==d||(i[d++]=o),d}function wc(t,n){let e=n[0];for(let r=1;r<t;r++)e+=n[r];return e}function Mc(t){return new Float64Array(t)}const Ac=Mc(4),Tc=Mc(8),Sc=Mc(12),Ec=Mc(16),Nc=Mc(4);function kc(t,n,e,r,i,o){const u=(n-o)*(e-i),a=(t-i)*(r-o),c=u-a;if(0===u||0===a||u>0!=a>0)return c;const f=Math.abs(u+a);return Math.abs(c)>=33306690738754716e-32*f?c:-function(t,n,e,r,i,o,u){let a,c,f,s,l,h,d,p,g,v,y,_,m,b,x,w,M,A;const T=t-i,S=e-i,E=n-o,N=r-o;b=T*N,h=bc*T,d=h-(h-T),p=T-d,h=bc*N,g=h-(h-N),v=N-g,x=p*v-(b-d*g-p*g-d*v),w=E*S,h=bc*E,d=h-(h-E),p=E-d,h=bc*S,g=h-(h-S),v=S-g,M=p*v-(w-d*g-p*g-d*v),y=x-M,l=x-y,Ac[0]=x-(y+l)+(l-M),_=b+y,l=_-b,m=b-(_-l)+(y-l),y=m-w,l=m-y,Ac[1]=m-(y+l)+(l-w),A=_+y,l=A-_,Ac[2]=_-(A-l)+(y-l),Ac[3]=A;let k=wc(4,Ac),C=22204460492503146e-32*u;if(k>=C||-k>=C)return k;if(l=t-T,a=t-(T+l)+(l-i),l=e-S,f=e-(S+l)+(l-i),l=n-E,c=n-(E+l)+(l-o),l=r-N,s=r-(N+l)+(l-o),0===a&&0===c&&0===f&&0===s)return k;if(C=11093356479670487e-47*u+33306690738754706e-32*Math.abs(k),k+=T*s+N*a-(E*f+S*c),k>=C||-k>=C)return k;b=a*N,h=bc*a,d=h-(h-a),p=a-d,h=bc*N,g=h-(h-N),v=N-g,x=p*v-(b-d*g-p*g-d*v),w=c*S,h=bc*c,d=h-(h-c),p=c-d,h=bc*S,g=h-(h-S),v=S-g,M=p*v-(w-d*g-p*g-d*v),y=x-M,l=x-y,Nc[0]=x-(y+l)+(l-M),_=b+y,l=_-b,m=b-(_-l)+(y-l),y=m-w,l=m-y,Nc[1]=m-(y+l)+(l-w),A=_+y,l=A-_,Nc[2]=_-(A-l)+(y-l),Nc[3]=A;const P=xc(4,Ac,4,Nc,Tc);b=T*s,h=bc*T,d=h-(h-T),p=T-d,h=bc*s,g=h-(h-s),v=s-g,x=p*v-(b-d*g-p*g-d*v),w=E*f,h=bc*E,d=h-(h-E),p=E-d,h=bc*f,g=h-(h-f),v=f-g,M=p*v-(w-d*g-p*g-d*v),y=x-M,l=x-y,Nc[0]=x-(y+l)+(l-M),_=b+y,l=_-b,m=b-(_-l)+(y-l),y=m-w,l=m-y,Nc[1]=m-(y+l)+(l-w),A=_+y,l=A-_,Nc[2]=_-(A-l)+(y-l),Nc[3]=A;const z=xc(P,Tc,4,Nc,Sc);b=a*s,h=bc*a,d=h-(h-a),p=a-d,h=bc*s,g=h-(h-s),v=s-g,x=p*v-(b-d*g-p*g-d*v),w=c*f,h=bc*c,d=h-(h-c),p=c-d,h=bc*f,g=h-(h-f),v=f-g,M=p*v-(w-d*g-p*g-d*v),y=x-M,l=x-y,Nc[0]=x-(y+l)+(l-M),_=b+y,l=_-b,m=b-(_-l)+(y-l),y=m-w,l=m-y,Nc[1]=m-(y+l)+(l-w),A=_+y,l=A-_,Nc[2]=_-(A-l)+(y-l),Nc[3]=A;const I=xc(z,Sc,4,Nc,Ec);return Ec[I-1]}(t,n,e,r,i,o,f)}Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(8),Mc(8),Mc(8),Mc(4),Mc(8),Mc(8),Mc(8),Mc(12);Mc(192),Mc(192);Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(8),Mc(8),Mc(8),Mc(8),Mc(8),Mc(8),Mc(8),Mc(8),Mc(8),Mc(4),Mc(4),Mc(4),Mc(8),Mc(16),Mc(16),Mc(16),Mc(32),Mc(32),Mc(48),Mc(64);Mc(1152),Mc(1152);Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(4),Mc(24),Mc(24),Mc(24),Mc(24),Mc(24),Mc(24),Mc(24),Mc(24),Mc(24),Mc(24),Mc(1152),Mc(1152),Mc(1152),Mc(1152),Mc(1152),Mc(2304),Mc(2304),Mc(3456),Mc(5760),Mc(8),Mc(8),Mc(8),Mc(16),Mc(24),Mc(48),Mc(48),Mc(96),Mc(192),Mc(384),Mc(384),Mc(384),Mc(768);Mc(96),Mc(96),Mc(96),Mc(1152);const Cc=Math.pow(2,-52),Pc=new Uint32Array(512);class zc{static from(t,n=Fc,e=qc){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=n(r),i[2*o+1]=e(r)}return new zc(i)}constructor(t){const n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const e=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*e),this._halfedges=new Int32Array(3*e),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:e,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let u=1/0,a=1/0,c=-1/0,f=-1/0;for(let n=0;n<o;n++){const e=t[2*n],r=t[2*n+1];e<u&&(u=e),r<a&&(a=r),e>c&&(c=e),r>f&&(f=r),this._ids[n]=n}const s=(u+c)/2,l=(a+f)/2;let h,d,p,g=1/0;for(let n=0;n<o;n++){const e=Ic(s,l,t[2*n],t[2*n+1]);e<g&&(h=n,g=e)}const v=t[2*h],y=t[2*h+1];g=1/0;for(let n=0;n<o;n++){if(n===h)continue;const e=Ic(v,y,t[2*n],t[2*n+1]);e<g&&e>0&&(d=n,g=e)}let _=t[2*d],m=t[2*d+1],b=1/0;for(let n=0;n<o;n++){if(n===h||n===d)continue;const e=$c(v,y,_,m,t[2*n],t[2*n+1]);e<b&&(p=n,b=e)}let x=t[2*p],w=t[2*p+1];if(b===1/0){for(let n=0;n<o;n++)this._dists[n]=t[2*n]-t[0]||t[2*n+1]-t[1];Dc(this._ids,this._dists,0,o-1);const n=new Uint32Array(o);let e=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(n[e++]=i,r=this._dists[i])}return this.hull=n.subarray(0,e),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(kc(v,y,_,m,x,w)<0){const t=d,n=_,e=m;d=p,_=x,m=w,p=t,x=n,w=e}const M=function(t,n,e,r,i,o){const u=e-t,a=r-n,c=i-t,f=o-n,s=u*u+a*a,l=c*c+f*f,h=.5/(u*f-a*c);return{x:t+(f*s-a*l)*h,y:n+(u*l-c*s)*h}}(v,y,_,m,x,w);this._cx=M.x,this._cy=M.y;for(let n=0;n<o;n++)this._dists[n]=Ic(t[2*n],t[2*n+1],M.x,M.y);Dc(this._ids,this._dists,0,o-1),this._hullStart=h;let A=3;e[h]=n[p]=d,e[d]=n[h]=p,e[p]=n[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(v,y)]=h,i[this._hashKey(_,m)]=d,i[this._hashKey(x,w)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let o,u,a=0;a<this._ids.length;a++){const c=this._ids[a],f=t[2*c],s=t[2*c+1];if(a>0&&Math.abs(f-o)<=Cc&&Math.abs(s-u)<=Cc)continue;if(o=f,u=s,c===h||c===d||c===p)continue;let l=0;for(let t=0,n=this._hashKey(f,s);t<this._hashSize&&(l=i[(n+t)%this._hashSize],-1===l||l===e[l]);t++);l=n[l];let g,v=l;for(;g=e[v],kc(f,s,t[2*v],t[2*v+1],t[2*g],t[2*g+1])>=0;)if(v=g,v===l){v=-1;break}if(-1===v)continue;let y=this._addTriangle(v,c,e[v],-1,-1,r[v]);r[c]=this._legalize(y+2),r[v]=y,A++;let _=e[v];for(;g=e[_],kc(f,s,t[2*_],t[2*_+1],t[2*g],t[2*g+1])<0;)y=this._addTriangle(_,c,g,r[c],-1,r[_]),r[c]=this._legalize(y+2),e[_]=_,A--,_=g;if(v===l)for(;g=n[v],kc(f,s,t[2*g],t[2*g+1],t[2*v],t[2*v+1])<0;)y=this._addTriangle(g,c,v,-1,r[v],r[g]),this._legalize(y+2),r[g]=y,e[v]=v,A--,v=g;this._hullStart=n[c]=v,e[v]=n[_]=c,e[c]=_,i[this._hashKey(f,s)]=c,i[this._hashKey(t[2*v],t[2*v+1])]=v}this.hull=new Uint32Array(A);for(let t=0,n=this._hullStart;t<A;t++)this.hull[t]=n,n=e[n];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:e,coords:r}=this;let i=0,o=0;for(;;){const u=e[t],a=t-t%3;if(o=a+(t+2)%3,-1===u){if(0===i)break;t=Pc[--i];continue}const c=u-u%3,f=a+(t+1)%3,s=c+(u+2)%3,l=n[o],h=n[t],d=n[f],p=n[s];if(Rc(r[2*l],r[2*l+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){n[t]=p,n[u]=l;const r=e[s];if(-1===r){let n=this._hullStart;do{if(this._hullTri[n]===s){this._hullTri[n]=t;break}n=this._hullPrev[n]}while(n!==this._hullStart)}this._link(t,r),this._link(u,e[o]),this._link(o,s);const a=c+(u+1)%3;i<Pc.length&&(Pc[i++]=a)}else{if(0===i)break;t=Pc[--i]}}return o}_link(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}_addTriangle(t,n,e,r,i,o){const u=this.trianglesLen;return this._triangles[u]=t,this._triangles[u+1]=n,this._triangles[u+2]=e,this._link(u,r),this._link(u+1,i),this._link(u+2,o),this.trianglesLen+=3,u}}function Ic(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}function Rc(t,n,e,r,i,o,u,a){const c=t-u,f=n-a,s=e-u,l=r-a,h=i-u,d=o-a,p=s*s+l*l,g=h*h+d*d;return c*(l*g-p*d)-f*(s*g-p*h)+(c*c+f*f)*(s*d-l*h)<0}function $c(t,n,e,r,i,o){const u=e-t,a=r-n,c=i-t,f=o-n,s=u*u+a*a,l=c*c+f*f,h=.5/(u*f-a*c),d=(f*s-a*l)*h,p=(u*l-c*s)*h;return d*d+p*p}function Dc(t,n,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const r=t[i],o=n[r];let u=i-1;for(;u>=e&&n[t[u]]>o;)t[u+1]=t[u--];t[u+1]=r}else{let i=e+1,o=r;Bc(t,e+r>>1,i),n[t[e]]>n[t[r]]&&Bc(t,e,r),n[t[i]]>n[t[r]]&&Bc(t,i,r),n[t[e]]>n[t[i]]&&Bc(t,e,i);const u=t[i],a=n[u];for(;;){do{i++}while(n[t[i]]<a);do{o--}while(n[t[o]]>a);if(o<i)break;Bc(t,i,o)}t[e+1]=t[o],t[o]=u,r-i+1>=o-e?(Dc(t,n,i,r),Dc(t,n,e,o-1)):(Dc(t,n,e,o-1),Dc(t,n,i,r))}}function Bc(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Fc(t){return t[0]}function qc(t){return t[1]}class Oc{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,e){const r=(t=+t)+(e=+e),i=n=+n;if(e<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),e&&(this._+=`A${e},${e},0,1,1,${t-e},${n}A${e},${e},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,n,e,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+e}v${+r}h${-e}Z`}value(){return this._||null}}class Lc{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class Uc{constructor(t,[n,e,r,i]=[0,0,960,500]){if(!((r=+r)>=(n=+n)&&(i=+i)>=(e=+e)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=n,this.ymax=i,this.ymin=e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:e},vectors:r}=this;let i,o;const u=this.circumcenters=this._circumcenters.subarray(0,e.length/3*2);for(let r,a,c=0,f=0,s=e.length;c<s;c+=3,f+=2){const s=2*e[c],l=2*e[c+1],h=2*e[c+2],d=t[s],p=t[s+1],g=t[l],v=t[l+1],y=t[h],_=t[h+1],m=g-d,b=v-p,x=y-d,w=_-p,M=2*(m*w-b*x);if(Math.abs(M)<1e-9){if(void 0===i){i=o=0;for(const e of n)i+=t[2*e],o+=t[2*e+1];i/=n.length,o/=n.length}const e=1e9*Math.sign((i-d)*w-(o-p)*x);r=(d+y)/2-e*w,a=(p+_)/2+e*x}else{const t=1/M,n=m*m+b*b,e=x*x+w*w;r=d+(w*n-b*e)*t,a=p+(m*e-x*n)*t}u[f]=r,u[f+1]=a}let a,c,f,s=n[n.length-1],l=4*s,h=t[2*s],d=t[2*s+1];r.fill(0);for(let e=0;e<n.length;++e)s=n[e],a=l,c=h,f=d,l=4*s,h=t[2*s],d=t[2*s+1],r[a+2]=r[l]=f-d,r[a+3]=r[l+1]=h-c}render(t){const n=null==t?t=new Oc:void 0,{delaunay:{halfedges:e,inedges:r,hull:i},circumcenters:o,vectors:u}=this;if(i.length<=1)return null;for(let n=0,r=e.length;n<r;++n){const r=e[n];if(r<n)continue;const i=2*Math.floor(n/3),u=2*Math.floor(r/3),a=o[i],c=o[i+1],f=o[u],s=o[u+1];this._renderSegment(a,c,f,s,t)}let a,c=i[i.length-1];for(let n=0;n<i.length;++n){a=c,c=i[n];const e=2*Math.floor(r[c]/3),f=o[e],s=o[e+1],l=4*a,h=this._project(f,s,u[l+2],u[l+3]);h&&this._renderSegment(f,s,h[0],h[1],t)}return n&&n.value()}renderBounds(t){const n=null==t?t=new Oc:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const e=null==n?n=new Oc:void 0,r=this._clip(t);if(null===r||!r.length)return;n.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||n.lineTo(r[t],r[t+1]);return n.closePath(),e&&e.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,e=t.length/2;n<e;++n){const t=this.cellPolygon(n);t&&(t.index=n,yield t)}}cellPolygon(t){const n=new Lc;return this.renderCell(t,n),n.value()}_renderSegment(t,n,e,r,i){let o;const u=this._regioncode(t,n),a=this._regioncode(e,r);0===u&&0===a?(i.moveTo(t,n),i.lineTo(e,r)):(o=this._clipSegment(t,n,e,r,u,a))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,n,e){return(n=+n)==n&&(e=+e)==e&&this.delaunay._step(t,n,e)===t}*neighbors(t){const n=this._clip(t);if(n)for(const e of this.delaunay.neighbors(t)){const t=this._clip(e);if(t)t:for(let r=0,i=n.length;r<i;r+=2)for(let o=0,u=t.length;o<u;o+=2)if(n[r]===t[o]&&n[r+1]===t[o+1]&&n[(r+2)%i]===t[(o+u-2)%u]&&n[(r+3)%i]===t[(o+u-1)%u]){yield e;break t}}}_cell(t){const{circumcenters:n,delaunay:{inedges:e,halfedges:r,triangles:i}}=this,o=e[t];if(-1===o)return null;const u=[];let a=o;do{const e=Math.floor(a/3);if(u.push(n[2*e],n[2*e+1]),a=a%3==2?a-2:a+1,i[a]!==t)break;a=r[a]}while(a!==o&&-1!==a);return u}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(null===n)return null;const{vectors:e}=this,r=4*t;return this._simplify(e[r]||e[r+1]?this._clipInfinite(t,n,e[r],e[r+1],e[r+2],e[r+3]):this._clipFinite(t,n))}_clipFinite(t,n){const e=n.length;let r,i,o,u,a=null,c=n[e-2],f=n[e-1],s=this._regioncode(c,f),l=0;for(let h=0;h<e;h+=2)if(r=c,i=f,c=n[h],f=n[h+1],o=s,s=this._regioncode(c,f),0===o&&0===s)u=l,l=0,a?a.push(c,f):a=[c,f];else{let n,e,h,d,p;if(0===o){if(null===(n=this._clipSegment(r,i,c,f,o,s)))continue;[e,h,d,p]=n}else{if(null===(n=this._clipSegment(c,f,r,i,s,o)))continue;[d,p,e,h]=n,u=l,l=this._edgecode(e,h),u&&l&&this._edge(t,u,l,a,a.length),a?a.push(e,h):a=[e,h]}u=l,l=this._edgecode(d,p),u&&l&&this._edge(t,u,l,a,a.length),a?a.push(d,p):a=[d,p]}if(a)u=l,l=this._edgecode(a[0],a[1]),u&&l&&this._edge(t,u,l,a,a.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(t,n,e,r,i,o){const u=i<o;for(u&&([t,n,e,r,i,o]=[e,r,t,n,o,i]);;){if(0===i&&0===o)return u?[e,r,t,n]:[t,n,e,r];if(i&o)return null;let a,c,f=i||o;8&f?(a=t+(e-t)*(this.ymax-n)/(r-n),c=this.ymax):4&f?(a=t+(e-t)*(this.ymin-n)/(r-n),c=this.ymin):2&f?(c=n+(r-n)*(this.xmax-t)/(e-t),a=this.xmax):(c=n+(r-n)*(this.xmin-t)/(e-t),a=this.xmin),i?(t=a,n=c,i=this._regioncode(t,n)):(e=a,r=c,o=this._regioncode(e,r))}}_clipInfinite(t,n,e,r,i,o){let u,a=Array.from(n);if((u=this._project(a[0],a[1],e,r))&&a.unshift(u[0],u[1]),(u=this._project(a[a.length-2],a[a.length-1],i,o))&&a.push(u[0],u[1]),a=this._clipFinite(t,a))for(let n,e=0,r=a.length,i=this._edgecode(a[r-2],a[r-1]);e<r;e+=2)n=i,i=this._edgecode(a[e],a[e+1]),n&&i&&(e=this._edge(t,n,i,a,e),r=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,e,r,i){for(;n!==e;){let e,o;switch(n){case 5:n=4;continue;case 4:n=6,e=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,e=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,e=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,e=this.xmin,o=this.ymin}r[i]===e&&r[i+1]===o||!this.contains(t,e,o)||(r.splice(i,0,e,o),i+=2)}return i}_project(t,n,e,r){let i,o,u,a=1/0;if(r<0){if(n<=this.ymin)return null;(i=(this.ymin-n)/r)<a&&(u=this.ymin,o=t+(a=i)*e)}else if(r>0){if(n>=this.ymax)return null;(i=(this.ymax-n)/r)<a&&(u=this.ymax,o=t+(a=i)*e)}if(e>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/e)<a&&(o=this.xmax,u=n+(a=i)*r)}else if(e<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/e)<a&&(o=this.xmin,u=n+(a=i)*r)}return[o,u]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const e=(n+2)%t.length,r=(n+4)%t.length;(t[n]===t[e]&&t[e]===t[r]||t[n+1]===t[e+1]&&t[e+1]===t[r+1])&&(t.splice(e,2),n-=2)}t.length||(t=null)}return t}}const jc=2*Math.PI,Yc=Math.pow;function Hc(t){return t[0]}function Vc(t){return t[1]}function Xc(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class Gc{static from(t,n=Hc,e=Vc,r){return new Gc("length"in t?function(t,n,e,r){const i=t.length,o=new Float64Array(2*i);for(let u=0;u<i;++u){const i=t[u];o[2*u]=n.call(r,i,u,t),o[2*u+1]=e.call(r,i,u,t)}return o}(t,n,e,r):Float64Array.from(function*(t,n,e,r){let i=0;for(const o of t)yield n.call(r,o,i,t),yield e.call(r,o,i,t),++i}(t,n,e,r)))}constructor(t){this._delaunator=new zc(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:n,coords:e}=t;for(let t=0;t<n.length;t+=3){const r=2*n[t],i=2*n[t+1],o=2*n[t+2];if((e[o]-e[r])*(e[i+1]-e[r+1])-(e[i]-e[r])*(e[o+1]-e[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},(t,n)=>n).sort((t,e)=>n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]);const t=this.collinear[0],e=this.collinear[this.collinear.length-1],r=[n[2*t],n[2*t+1],n[2*e],n[2*e+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,e=n.length/2;t<e;++t){const e=Xc(n[2*t],n[2*t+1],i);n[2*t]=e[0],n[2*t+1]=e[1]}this._delaunator=new zc(n)}else delete this.collinear;const e=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let t=0,n=e.length;t<n;++t){const n=i[t%3==2?t-2:t+1];-1!==e[t]&&-1!==o[n]||(o[n]=t)}for(let t=0,n=r.length;t<n;++t)u[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Uc(this,t)}*neighbors(t){const{inedges:n,hull:e,_hullIndex:r,halfedges:i,triangles:o,collinear:u}=this;if(u){const n=u.indexOf(t);return n>0&&(yield u[n-1]),void(n<u.length-1&&(yield u[n+1]))}const a=n[t];if(-1===a)return;let c=a,f=-1;do{if(yield f=o[c],c=c%3==2?c-2:c+1,o[c]!==t)return;if(c=i[c],-1===c){const n=e[(r[t]+1)%e.length];return void(n!==f&&(yield n))}}while(c!==a)}find(t,n,e=0){if((t=+t)!=t||(n=+n)!=n)return-1;const r=e;let i;for(;(i=this._step(e,t,n))>=0&&i!==e&&i!==r;)e=i;return i}_step(t,n,e){const{inedges:r,hull:i,_hullIndex:o,halfedges:u,triangles:a,points:c}=this;if(-1===r[t]||!c.length)return(t+1)%(c.length>>1);let f=t,s=Yc(n-c[2*t],2)+Yc(e-c[2*t+1],2);const l=r[t];let h=l;do{let r=a[h];const l=Yc(n-c[2*r],2)+Yc(e-c[2*r+1],2);if(l<s&&(s=l,f=r),h=h%3==2?h-2:h+1,a[h]!==t)break;if(h=u[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&Yc(n-c[2*h],2)+Yc(e-c[2*h+1],2)<s)return h;break}}while(h!==l);return f}render(t){const n=null==t?t=new Oc:void 0,{points:e,halfedges:r,triangles:i}=this;for(let n=0,o=r.length;n<o;++n){const o=r[n];if(o<n)continue;const u=2*i[n],a=2*i[o];t.moveTo(e[u],e[u+1]),t.lineTo(e[a],e[a+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){void 0!==n||t&&"function"==typeof t.moveTo||(n=t,t=null),n=null==n?2:+n;const e=null==t?t=new Oc:void 0,{points:r}=this;for(let e=0,i=r.length;e<i;e+=2){const i=r[e],o=r[e+1];t.moveTo(i+n,o),t.arc(i,o,n,0,jc)}return e&&e.value()}renderHull(t){const n=null==t?t=new Oc:void 0,{hull:e,points:r}=this,i=2*e[0],o=e.length;t.moveTo(r[i],r[i+1]);for(let n=1;n<o;++n){const i=2*e[n];t.lineTo(r[i],r[i+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Lc;return this.renderHull(t),t.value()}renderTriangle(t,n){const e=null==n?n=new Oc:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],u=2*i[t+1],a=2*i[t+2];return n.moveTo(r[o],r[o+1]),n.lineTo(r[u],r[u+1]),n.lineTo(r[a],r[a+1]),n.closePath(),e&&e.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,e=t.length/3;n<e;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Lc;return this.renderTriangle(t,n),n.value()}}var Wc=function(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]},Zc=t=>()=>t;function Qc(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:u,y:a,dx:c,dy:f,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:s}})}function Kc(t){return!t.ctrlKey&&!t.button}function Jc(){return this.parentNode}function tf(t,n){return null==n?{x:t.x,y:t.y}:n}function nf(){return navigator.maxTouchPoints||"ontouchstart"in this}Qc.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ef=function(){var t,n,e,r,i=Kc,o=Jc,u=tf,a=nf,c={},f=Tn("start","drag","end"),s=0,l=0;function h(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",v).on("touchmove.drag",y,qe).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(u,a){if(!r&&i.call(this,u,a)){var c=m(this,o.call(this,u,a),u,a,"mouse");c&&(Fe(u.view).on("mousemove.drag",p,Oe).on("mouseup.drag",g,Oe),je(u.view),Le(u),e=!1,t=u.clientX,n=u.clientY,c("start",u))}}function p(r){if(Ue(r),!e){var i=r.clientX-t,o=r.clientY-n;e=i*i+o*o>l}c.mouse("drag",r)}function g(t){Fe(t.view).on("mousemove.drag mouseup.drag",null),Ye(t.view,e),Ue(t),c.mouse("end",t)}function v(t,n){if(i.call(this,t,n)){var e,r,u=t.changedTouches,a=o.call(this,t,n),c=u.length;for(e=0;e<c;++e)(r=m(this,a,t,n,u[e].identifier,u[e]))&&(Le(t),r("start",t,u[e]))}}function y(t){var n,e,r=t.changedTouches,i=r.length;for(n=0;n<i;++n)(e=c[r[n].identifier])&&(Ue(t),e("drag",t,r[n]))}function _(t){var n,e,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),n=0;n<o;++n)(e=c[i[n].identifier])&&(Le(t),e("end",t,i[n]))}function m(t,n,e,r,i,o){var a,l,d,p=f.copy(),g=Wc(o||e,n);if(null!=(d=u.call(t,new Qc("beforestart",{sourceEvent:e,target:h,identifier:i,active:s,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return a=d.x-g[0]||0,l=d.y-g[1]||0,function e(o,u,f){var v,y=g;switch(o){case"start":c[i]=e,v=s++;break;case"end":delete c[i],--s;case"drag":g=Wc(f||u,n),v=s}p.call(o,t,new Qc(o,{sourceEvent:u,subject:d,target:h,identifier:i,active:v,x:g[0]+a,y:g[1]+l,dx:g[0]-y[0],dy:g[1]-y[1],dispatch:p}),r)}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:Zc(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:Zc(t),h):o},h.subject=function(t){return arguments.length?(u="function"==typeof t?t:Zc(t),h):u},h.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Zc(!!t),h):a},h.on=function(){var t=f.on.apply(f,arguments);return t===f?h:t},h.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,h):Math.sqrt(l)},h},rf={},of={};function uf(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function af(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function cf(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function ff(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+cf(-n,6):n>9999?"+"+cf(n,6):cf(n,4))+"-"+cf(t.getUTCMonth()+1,2)+"-"+cf(t.getUTCDate(),2)+(o?"T"+cf(e,2)+":"+cf(r,2)+":"+cf(i,2)+"."+cf(o,3)+"Z":i?"T"+cf(e,2)+":"+cf(r,2)+":"+cf(i,2)+"Z":r||e?"T"+cf(e,2)+":"+cf(r,2)+"Z":"")}var sf=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,u=0,a=0,c=o<=0,f=!1;function s(){if(c)return of;if(f)return f=!1,rf;var n,r,i=u;if(34===t.charCodeAt(i)){for(;u++<o&&34!==t.charCodeAt(u)||34===t.charCodeAt(++u););return(n=u)>=o?c=!0:10===(r=t.charCodeAt(u++))?f=!0:13===r&&(f=!0,10===t.charCodeAt(u)&&++u),t.slice(i+1,n-1).replace(/""/g,'"')}for(;u<o;){if(10===(r=t.charCodeAt(n=u++)))f=!0;else if(13===r)f=!0,10===t.charCodeAt(u)&&++u;else if(r!==e)continue;return t.slice(i,n)}return c=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=s())!==of;){for(var l=[];r!==rf&&r!==of;)l.push(r),r=s();n&&null==(l=n(l,a++))||i.push(l)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return u(n[t])})).join(t)}))}function o(n){return n.map(u).join(t)}function u(t){return null==t?"":t instanceof Date?ff(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=uf(t);return function(r,i){return n(e(r),i,t)}}(t,n):uf(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=af(n)),[e.map(u).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=af(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:u}},lf=sf(","),hf=lf.parse,df=lf.parseRows,pf=lf.format,gf=lf.formatBody,vf=lf.formatRows,yf=lf.formatRow,_f=lf.formatValue,mf=sf("\t"),bf=mf.parse,xf=mf.parseRows,wf=mf.format,Mf=mf.formatBody,Af=mf.formatRows,Tf=mf.formatRow,Sf=mf.formatValue;function Ef(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Nf&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t}const Nf=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),kf=t=>+t;function Cf(t){return t*t}function Pf(t){return t*(2-t)}function zf(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var If=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Rf=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),$f=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Df=Math.PI,Bf=Df/2;function Ff(t){return 1==+t?1:1-Math.cos(t*Bf)}function qf(t){return Math.sin(t*Bf)}function Of(t){return(1-Math.cos(Df*t))/2}function Lf(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Uf(t){return Lf(1-+t)}function jf(t){return 1-Lf(t)}function Yf(t){return((t*=2)<=1?Lf(1-t):2-Lf(t-1))/2}function Hf(t){return 1-Math.sqrt(1-t*t)}function Vf(t){return Math.sqrt(1- --t*t)}function Xf(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Gf(t){return 1-Wf(1-t)}function Wf(t){return(t=+t)<4/11?7.5625*t*t:t<8/11?7.5625*(t-=6/11)*t+3/4:t<10/11?7.5625*(t-=9/11)*t+15/16:7.5625*(t-=21/22)*t+63/64}function Zf(t){return((t*=2)<=1?1-Wf(1-t):Wf(t-1)+1)/2}var Qf=function t(n){function e(t){return(t=+t)*t*(n*(t-1)+t)}return n=+n,e.overshoot=t,e}(1.70158),Kf=function t(n){function e(t){return--t*t*((t+1)*n+t)+1}return n=+n,e.overshoot=t,e}(1.70158),Jf=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),ts=2*Math.PI,ns=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=ts);function i(t){return n*Lf(- --t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*ts)},i.period=function(e){return t(n,e)},i}(1,.3),es=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=ts);function i(t){return 1-n*Lf(t=+t)*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*ts)},i.period=function(e){return t(n,e)},i}(1,.3),rs=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=ts);function i(t){return((t=2*t-1)<0?n*Lf(-t)*Math.sin((r-t)/e):2-n*Lf(t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*ts)},i.period=function(e){return t(n,e)},i}(1,.3);function is(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var os=function(t,n){return fetch(t,n).then(is)};function us(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var as=function(t,n){return fetch(t,n).then(us)};function cs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var fs=function(t,n){return fetch(t,n).then(cs)};function ss(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),fs(n,e).then((function(n){return t(n,r)}))}}function ls(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=sf(t);return fs(n,e).then((function(t){return i.parse(t,r)}))}var hs=ss(hf),ds=ss(bf),ps=function(t,n){return new Promise((function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t}))};function gs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}var vs=function(t,n){return fetch(t,n).then(gs)};function ys(t){return(n,e)=>fs(n,e).then(n=>(new DOMParser).parseFromString(n,t))}var _s=ys("application/xml"),ms=ys("text/html"),bs=ys("image/svg+xml"),xs=function(t,n){var e,r=1;function i(){var i,o,u=e.length,a=0,c=0;for(i=0;i<u;++i)a+=(o=e[i]).x,c+=o.y;for(a=(a/u-t)*r,c=(c/u-n)*r,i=0;i<u;++i)(o=e[i]).x-=a,o.y-=c}return null==t&&(t=0),null==n&&(n=0),i.initialize=function(t){e=t},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(t){return arguments.length?(n=+t,i):n},i.strength=function(t){return arguments.length?(r=+t,i):r},i};function ws(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,c,f,s,l,h,d=t._root,p={data:r},g=t._x0,v=t._y0,y=t._x1,_=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((f=n>=(o=(g+y)/2))?g=o:y=o,(s=e>=(u=(v+_)/2))?v=u:_=u,i=d,!(d=d[l=s<<1|f]))return i[l]=p,t;if(a=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===a&&e===c)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(f=n>=(o=(g+y)/2))?g=o:y=o,(s=e>=(u=(v+_)/2))?v=u:_=u}while((l=s<<1|f)==(h=(c>=u)<<1|a>=o));return i[h]=d,i[l]=p,t}var Ms=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function As(t){return t[0]}function Ts(t){return t[1]}function Ss(t,n,e){var r=new Es(null==n?As:n,null==e?Ts:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Es(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ns(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var ks=Ss.prototype=Es.prototype;ks.copy=function(){var t,n,e=new Es(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Ns(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Ns(n));return e},ks.add=function(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return ws(this.cover(n,e),n,e,t)},ks.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),c=1/0,f=1/0,s=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<c&&(c=r),r>s&&(s=r),i<f&&(f=i),i>l&&(l=i));if(c>s||f>l)return this;for(this.cover(c,f).cover(s,l),e=0;e<o;++e)ws(this,u[e],a[e],t[e]);return this},ks.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var u,a,c=i-e||1,f=this._root;e>t||t>=i||r>n||n>=o;)switch(a=(n<r)<<1|t<e,(u=new Array(4))[a]=f,f=u,c*=2,a){case 0:i=e+c,o=r+c;break;case 1:e=i-c,o=r+c;break;case 2:i=e+c,r=o-c;break;case 3:e=i-c,r=o-c}this._root&&this._root.length&&(this._root=f)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},ks.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},ks.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ks.find=function(t,n,e){var r,i,o,u,a,c,f,s=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Ms(g,s,l,h,d)),null==e?e=1/0:(s=t-e,l=n-e,h=t+e,d=n+e,e*=e);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>h||(o=c.y0)>d||(u=c.x1)<s||(a=c.y1)<l))if(g.length){var v=(i+u)/2,y=(o+a)/2;p.push(new Ms(g[3],v,y,u,a),new Ms(g[2],i,y,v,a),new Ms(g[1],v,o,u,y),new Ms(g[0],i,o,v,y)),(f=(n>=y)<<1|t>=v)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-f],p[p.length-1-f]=c)}else{var _=t-+this._x.call(null,g.data),m=n-+this._y.call(null,g.data),b=_*_+m*m;if(b<e){var x=Math.sqrt(e=b);s=t-x,l=n-x,h=t+x,d=n+x,r=g.data}}return r},ks.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,c,f,s,l,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((f=o>=(a=(p+v)/2))?p=a:v=a,(s=u>=(c=(g+y)/2))?g=c:y=c,n=d,!(d=d[l=s<<1|f]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},ks.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},ks.root=function(){return this._root},ks.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},ks.visit=function(t){var n,e,r,i,o,u,a=[],c=this._root;for(c&&a.push(new Ms(c,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&c.length){var f=(r+o)/2,s=(i+u)/2;(e=c[3])&&a.push(new Ms(e,f,s,o,u)),(e=c[2])&&a.push(new Ms(e,r,s,f,u)),(e=c[1])&&a.push(new Ms(e,f,i,o,s)),(e=c[0])&&a.push(new Ms(e,r,i,f,s))}return this},ks.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new Ms(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,c=n.x1,f=n.y1,s=(u+c)/2,l=(a+f)/2;(o=i[0])&&e.push(new Ms(o,u,a,s,l)),(o=i[1])&&e.push(new Ms(o,s,a,c,l)),(o=i[2])&&e.push(new Ms(o,u,l,s,f)),(o=i[3])&&e.push(new Ms(o,s,l,c,f))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},ks.x=function(t){return arguments.length?(this._x=t,this):this._x},ks.y=function(t){return arguments.length?(this._y=t,this):this._y};var Cs=function(t){return function(){return t}},Ps=function(t){return 1e-6*(t()-.5)};function zs(t){return t.x+t.vx}function Is(t){return t.y+t.vy}var Rs=function(t){var n,e,r,i=1,o=1;function u(){for(var t,u,c,f,s,l,h,d=n.length,p=0;p<o;++p)for(u=Ss(n,zs,Is).visitAfter(a),t=0;t<d;++t)c=n[t],l=e[c.index],h=l*l,f=c.x+c.vx,s=c.y+c.vy,u.visit(g);function g(t,n,e,o,u){var a=t.data,d=t.r,p=l+d;if(!a)return n>f+p||o<f-p||e>s+p||u<s-p;if(a.index>c.index){var g=f-a.x-a.vx,v=s-a.y-a.vy,y=g*g+v*v;y<p*p&&(0===g&&(y+=(g=Ps(r))*g),0===v&&(y+=(v=Ps(r))*v),y=(p-(y=Math.sqrt(y)))/y*i,c.vx+=(g*=y)*(p=(d*=d)/(h+d)),c.vy+=(v*=y)*p,a.vx-=g*(p=1-p),a.vy-=v*p)}}}function a(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function c(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=Cs(null==t?1:+t)),u.initialize=function(t,e){n=t,r=e,c()},u.iterations=function(t){return arguments.length?(o=+t,u):o},u.strength=function(t){return arguments.length?(i=+t,u):i},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:Cs(+n),c(),u):t},u};function $s(t){return t.index}function Ds(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}var Bs=function(t){var n,e,r,i,o,u,a=$s,c=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},f=Cs(30),s=1;function l(r){for(var i=0,a=t.length;i<s;++i)for(var c,f,l,h,d,p,g,v=0;v<a;++v)f=(c=t[v]).source,h=(l=c.target).x+l.vx-f.x-f.vx||Ps(u),d=l.y+l.vy-f.y-f.vy||Ps(u),h*=p=((p=Math.sqrt(h*h+d*d))-e[v])/p*r*n[v],d*=p,l.vx-=h*(g=o[v]),l.vy-=d*g,f.vx+=h*(g=1-g),f.vy+=d*g}function h(){if(r){var u,c,f=r.length,s=t.length,l=new Map(r.map((t,n)=>[a(t,n,r),t]));for(u=0,i=new Array(f);u<s;++u)(c=t[u]).index=u,"object"!=typeof c.source&&(c.source=Ds(l,c.source)),"object"!=typeof c.target&&(c.target=Ds(l,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(u=0,o=new Array(s);u<s;++u)c=t[u],o[u]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);n=new Array(s),d(),e=new Array(s),p()}}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+f(t[n],n,t)}return null==t&&(t=[]),l.initialize=function(t,n){r=t,u=n,h()},l.links=function(n){return arguments.length?(t=n,h(),l):t},l.id=function(t){return arguments.length?(a=t,l):a},l.iterations=function(t){return arguments.length?(s=+t,l):s},l.strength=function(t){return arguments.length?(c="function"==typeof t?t:Cs(+t),d(),l):c},l.distance=function(t){return arguments.length?(f="function"==typeof t?t:Cs(+t),p(),l):f},l};function Fs(t){return t.x}function qs(t){return t.y}var Os=Math.PI*(3-Math.sqrt(5)),Ls=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,u=.6,a=new Map,c=Ao(l),f=Tn("tick","end"),s=function(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}();function l(){h(),f.call("tick",n),e<r&&(c.stop(),f.call("end",n))}function h(r){var c,f,s=t.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(e+=(o-e)*i,a.forEach((function(t){t(e)})),c=0;c<s;++c)null==(f=t[c]).fx?f.x+=f.vx*=u:(f.x=f.fx,f.vx=0),null==f.fy?f.y+=f.vy*=u:(f.y=f.fy,f.vy=0);return n}function d(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(.5+e),o=e*Os;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function p(n){return n.initialize&&n.initialize(t,s),n}return null==t&&(t=[]),d(),n={tick:h,restart:function(){return c.restart(l),n},stop:function(){return c.stop(),n},nodes:function(e){return arguments.length?(t=e,d(),a.forEach(p),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(u=1-t,n):1-u},randomSource:function(t){return arguments.length?(s=t,a.forEach(p),n):s},force:function(t,e){return arguments.length>1?(null==e?a.delete(t):a.set(t,p(e)),n):a.get(t)},find:function(n,e,r){var i,o,u,a,c,f=0,s=t.length;for(null==r?r=1/0:r*=r,f=0;f<s;++f)(u=(i=n-(a=t[f]).x)*i+(o=e-a.y)*o)<r&&(c=a,r=u);return c},on:function(t,e){return arguments.length>1?(f.on(t,e),n):f.on(t)}}},Us=function(){var t,n,e,r,i,o=Cs(-30),u=1,a=1/0,c=.81;function f(e){var i,o=t.length,u=Ss(t,Fs,qs).visitAfter(l);for(r=e,i=0;i<o;++i)n=t[i],u.visit(h)}function s(){if(t){var n,e,r=t.length;for(i=new Array(r),n=0;n<r;++n)e=t[n],i[e.index]=+o(e,n,t)}}function l(t){var n,e,r,o,u,a=0,c=0;if(t.length){for(r=o=u=0;u<4;++u)(n=t[u])&&(e=Math.abs(n.value))&&(a+=n.value,c+=e,r+=e*n.x,o+=e*n.y);t.x=r/c,t.y=o/c}else{(n=t).x=n.data.x,n.y=n.data.y;do{a+=i[n.data.index]}while(n=n.next)}t.value=a}function h(t,o,f,s){if(!t.value)return!0;var l=t.x-n.x,h=t.y-n.y,d=s-o,p=l*l+h*h;if(d*d/c<p)return p<a&&(0===l&&(p+=(l=Ps(e))*l),0===h&&(p+=(h=Ps(e))*h),p<u&&(p=Math.sqrt(u*p)),n.vx+=l*t.value*r/p,n.vy+=h*t.value*r/p),!0;if(!(t.length||p>=a)){(t.data!==n||t.next)&&(0===l&&(p+=(l=Ps(e))*l),0===h&&(p+=(h=Ps(e))*h),p<u&&(p=Math.sqrt(u*p)));do{t.data!==n&&(d=i[t.data.index]*r/p,n.vx+=l*d,n.vy+=h*d)}while(t=t.next)}}return f.initialize=function(n,r){t=n,e=r,s()},f.strength=function(t){return arguments.length?(o="function"==typeof t?t:Cs(+t),s(),f):o},f.distanceMin=function(t){return arguments.length?(u=t*t,f):Math.sqrt(u)},f.distanceMax=function(t){return arguments.length?(a=t*t,f):Math.sqrt(a)},f.theta=function(t){return arguments.length?(c=t*t,f):Math.sqrt(c)},f},js=function(t,n,e){var r,i,o,u=Cs(.1);function a(t){for(var u=0,a=r.length;u<a;++u){var c=r[u],f=c.x-n||1e-6,s=c.y-e||1e-6,l=Math.sqrt(f*f+s*s),h=(o[u]-l)*i[u]*t/l;c.vx+=f*h,c.vy+=s*h}}function c(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+u(r[n],n,r)}}return"function"!=typeof t&&(t=Cs(+t)),null==n&&(n=0),null==e&&(e=0),a.initialize=function(t){r=t,c()},a.strength=function(t){return arguments.length?(u="function"==typeof t?t:Cs(+t),c(),a):u},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:Cs(+n),c(),a):t},a.x=function(t){return arguments.length?(n=+t,a):n},a.y=function(t){return arguments.length?(e=+t,a):e},a},Ys=function(t){var n,e,r,i=Cs(.1);function o(t){for(var i,o=0,u=n.length;o<u;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function u(){if(n){var o,u=n.length;for(e=new Array(u),r=new Array(u),o=0;o<u;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=Cs(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Cs(+t),u(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:Cs(+n),u(),o):t},o},Hs=function(t){var n,e,r,i=Cs(.1);function o(t){for(var i,o=0,u=n.length;o<u;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function u(){if(n){var o,u=n.length;for(e=new Array(u),r=new Array(u),o=0;o<u;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=Cs(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Cs(+t),u(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:Cs(+n),u(),o):t},o};function Vs(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}var Xs=function(t){return(t=Vs(Math.abs(t)))?t[1]:NaN},Gs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ws(t){if(!(n=Gs.exec(t)))throw new Error("invalid format: "+t);var n;return new Zs({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Zs(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Ws.prototype=Zs.prototype,Zs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Qs,Ks,Js,tl,nl=function(t,n){var e=Vs(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},el={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>nl(100*t,n),r:nl,s:function(t,n){var e=Vs(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Qs=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Vs(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},rl=function(t){return t},il=Array.prototype.map,ol=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],ul=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?rl:(n=il.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=n[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(t.substring(i-=a,i+a)),!((c+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?rl:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(il.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",f=void 0===t.minus?"−":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function l(t){var n=(t=Ws(t)).fill,e=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,v=t.precision,y=t.trim,_=t.type;"n"===_?(g=!0,_="g"):el[_]||(void 0===v&&(v=12),y=!0,_="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var m="$"===h?i:"#"===h&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",b="$"===h?o:/[%p]/.test(_)?c:"",x=el[_],w=/[defgprs%]/.test(_);function M(t){var i,o,c,h=m,M=b;if("c"===_)M=x(t)+M,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:x(Math.abs(t),v),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),A&&0==+t&&"+"!==l&&(A=!1),h=(A?"("===l?l:f:"-"===l||"("===l?"":l)+h,M=("s"===_?ol[8+Qs/3]:"")+M+(A&&"("===l?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){M=(46===c?u+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var T=h.length+t.length+M.length,S=T<p?new Array(p-T+1).join(n):"";switch(g&&d&&(t=r(S+t,S.length?p-M.length:1/0),S=""),e){case"<":t=h+t+M+S;break;case"=":t=h+S+t+M;break;case"^":t=S.slice(0,T=S.length>>1)+h+t+M+S.slice(T);break;default:t=S+h+t+M}return a(t)}return v=void 0===v?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,n){var e=l(((t=Ws(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Xs(n)/3))),i=Math.pow(10,-r),o=ol[8+r/3];return function(t){return e(i*t)+o}}}};function al(t){return Ks=ul(t),Js=Ks.format,tl=Ks.formatPrefix,Ks}al({thousands:",",grouping:[3],currency:["$",""]});var cl=function(t){return Math.max(0,-Xs(Math.abs(t)))},fl=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xs(n)/3)))-Xs(Math.abs(t)))},sl=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Xs(n)-Xs(t))+1},ll=Math.PI,hl=ll/2,dl=ll/4,pl=2*ll,gl=180/ll,vl=ll/180,yl=Math.abs,_l=Math.atan,ml=Math.atan2,bl=Math.cos,xl=Math.ceil,wl=Math.exp,Ml=(Math.floor,Math.hypot),Al=Math.log,Tl=Math.pow,Sl=Math.sin,El=Math.sign||function(t){return t>0?1:t<0?-1:0},Nl=Math.sqrt,kl=Math.tan;function Cl(t){return t>1?0:t<-1?ll:Math.acos(t)}function Pl(t){return t>1?hl:t<-1?-hl:Math.asin(t)}function zl(t){return(t=Sl(t/2))*t}function Il(){}function Rl(t,n){t&&Dl.hasOwnProperty(t.type)&&Dl[t.type](t,n)}var $l={Feature:function(t,n){Rl(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Rl(e[r].geometry,n)}},Dl={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Bl(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Bl(e[r],n,0)},Polygon:function(t,n){Fl(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Fl(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Rl(e[r],n)}};function Bl(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Fl(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Bl(t[e],n,1);n.polygonEnd()}var ql,Ol,Ll,Ul,jl,Yl=function(t,n){t&&$l.hasOwnProperty(t.type)?$l[t.type](t,n):Rl(t,n)},Hl=new P,Vl=new P,Xl={point:Il,lineStart:Il,lineEnd:Il,polygonStart:function(){Hl=new P,Xl.lineStart=Gl,Xl.lineEnd=Wl},polygonEnd:function(){var t=+Hl;Vl.add(t<0?pl+t:t),this.lineStart=this.lineEnd=this.point=Il},sphere:function(){Vl.add(pl)}};function Gl(){Xl.point=Zl}function Wl(){Ql(ql,Ol)}function Zl(t,n){Xl.point=Ql,ql=t,Ol=n,Ll=t*=vl,Ul=bl(n=(n*=vl)/2+dl),jl=Sl(n)}function Ql(t,n){var e=(t*=vl)-Ll,r=e>=0?1:-1,i=r*e,o=bl(n=(n*=vl)/2+dl),u=Sl(n),a=jl*u,c=Ul*o+a*bl(i),f=a*r*Sl(i);Hl.add(ml(f,c)),Ll=t,Ul=o,jl=u}var Kl,Jl,th,nh,eh,rh,ih,oh,uh,ah,ch,fh=function(t){return Vl=new P,Yl(t,Xl),2*Vl};function sh(t){return[ml(t[1],t[0]),Pl(t[2])]}function lh(t){var n=t[0],e=t[1],r=bl(e);return[r*bl(n),r*Sl(n),Sl(e)]}function hh(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function dh(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function ph(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function gh(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function vh(t){var n=Nl(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var yh={point:_h,lineStart:bh,lineEnd:xh,polygonStart:function(){yh.point=wh,yh.lineStart=Mh,yh.lineEnd=Ah,uh=new P,Xl.polygonStart()},polygonEnd:function(){Xl.polygonEnd(),yh.point=_h,yh.lineStart=bh,yh.lineEnd=xh,Hl<0?(Kl=-(th=180),Jl=-(nh=90)):uh>1e-6?nh=90:uh<-1e-6&&(Jl=-90),ch[0]=Kl,ch[1]=th},sphere:function(){Kl=-(th=180),Jl=-(nh=90)}};function _h(t,n){ah.push(ch=[Kl=t,th=t]),n<Jl&&(Jl=n),n>nh&&(nh=n)}function mh(t,n){var e=lh([t*vl,n*vl]);if(oh){var r=dh(oh,e),i=dh([r[1],-r[0],0],r);vh(i),i=sh(i);var o,u=t-eh,a=u>0?1:-1,c=i[0]*gl*a,f=yl(u)>180;f^(a*eh<c&&c<a*t)?(o=i[1]*gl)>nh&&(nh=o):f^(a*eh<(c=(c+360)%360-180)&&c<a*t)?(o=-i[1]*gl)<Jl&&(Jl=o):(n<Jl&&(Jl=n),n>nh&&(nh=n)),f?t<eh?Th(Kl,t)>Th(Kl,th)&&(th=t):Th(t,th)>Th(Kl,th)&&(Kl=t):th>=Kl?(t<Kl&&(Kl=t),t>th&&(th=t)):t>eh?Th(Kl,t)>Th(Kl,th)&&(th=t):Th(t,th)>Th(Kl,th)&&(Kl=t)}else ah.push(ch=[Kl=t,th=t]);n<Jl&&(Jl=n),n>nh&&(nh=n),oh=e,eh=t}function bh(){yh.point=mh}function xh(){ch[0]=Kl,ch[1]=th,yh.point=_h,oh=null}function wh(t,n){if(oh){var e=t-eh;uh.add(yl(e)>180?e+(e>0?360:-360):e)}else rh=t,ih=n;Xl.point(t,n),mh(t,n)}function Mh(){Xl.lineStart()}function Ah(){wh(rh,ih),Xl.lineEnd(),yl(uh)>1e-6&&(Kl=-(th=180)),ch[0]=Kl,ch[1]=th,oh=null}function Th(t,n){return(n-=t)<0?n+360:n}function Sh(t,n){return t[0]-n[0]}function Eh(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var Nh,kh,Ch,Ph,zh,Ih,Rh,$h,Dh,Bh,Fh,qh,Oh,Lh,Uh,jh,Yh=function(t){var n,e,r,i,o,u,a;if(nh=th=-(Kl=Jl=1/0),ah=[],Yl(t,yh),e=ah.length){for(ah.sort(Sh),n=1,o=[r=ah[0]];n<e;++n)Eh(r,(i=ah[n])[0])||Eh(r,i[1])?(Th(r[0],i[1])>Th(r[0],r[1])&&(r[1]=i[1]),Th(i[0],r[1])>Th(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(a=Th(r[1],i[0]))>u&&(u=a,Kl=i[0],th=r[1])}return ah=ch=null,Kl===1/0||Jl===1/0?[[NaN,NaN],[NaN,NaN]]:[[Kl,Jl],[th,nh]]},Hh={sphere:Il,point:Vh,lineStart:Gh,lineEnd:Qh,polygonStart:function(){Hh.lineStart=Kh,Hh.lineEnd=Jh},polygonEnd:function(){Hh.lineStart=Gh,Hh.lineEnd=Qh}};function Vh(t,n){t*=vl;var e=bl(n*=vl);Xh(e*bl(t),e*Sl(t),Sl(n))}function Xh(t,n,e){++Nh,Ch+=(t-Ch)/Nh,Ph+=(n-Ph)/Nh,zh+=(e-zh)/Nh}function Gh(){Hh.point=Wh}function Wh(t,n){t*=vl;var e=bl(n*=vl);Lh=e*bl(t),Uh=e*Sl(t),jh=Sl(n),Hh.point=Zh,Xh(Lh,Uh,jh)}function Zh(t,n){t*=vl;var e=bl(n*=vl),r=e*bl(t),i=e*Sl(t),o=Sl(n),u=ml(Nl((u=Uh*o-jh*i)*u+(u=jh*r-Lh*o)*u+(u=Lh*i-Uh*r)*u),Lh*r+Uh*i+jh*o);kh+=u,Ih+=u*(Lh+(Lh=r)),Rh+=u*(Uh+(Uh=i)),$h+=u*(jh+(jh=o)),Xh(Lh,Uh,jh)}function Qh(){Hh.point=Vh}function Kh(){Hh.point=td}function Jh(){nd(qh,Oh),Hh.point=Vh}function td(t,n){qh=t,Oh=n,t*=vl,n*=vl,Hh.point=nd;var e=bl(n);Lh=e*bl(t),Uh=e*Sl(t),jh=Sl(n),Xh(Lh,Uh,jh)}function nd(t,n){t*=vl;var e=bl(n*=vl),r=e*bl(t),i=e*Sl(t),o=Sl(n),u=Uh*o-jh*i,a=jh*r-Lh*o,c=Lh*i-Uh*r,f=Ml(u,a,c),s=Pl(f),l=f&&-s/f;Dh.add(l*u),Bh.add(l*a),Fh.add(l*c),kh+=s,Ih+=s*(Lh+(Lh=r)),Rh+=s*(Uh+(Uh=i)),$h+=s*(jh+(jh=o)),Xh(Lh,Uh,jh)}var ed=function(t){Nh=kh=Ch=Ph=zh=Ih=Rh=$h=0,Dh=new P,Bh=new P,Fh=new P,Yl(t,Hh);var n=+Dh,e=+Bh,r=+Fh,i=Ml(n,e,r);return i<1e-12&&(n=Ih,e=Rh,r=$h,kh<1e-6&&(n=Ch,e=Ph,r=zh),(i=Ml(n,e,r))<1e-12)?[NaN,NaN]:[ml(e,n)*gl,Pl(r/i)*gl]},rd=function(t){return function(){return t}},id=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};function od(t,n){return yl(t)>ll&&(t-=Math.round(t/pl)*pl),[t,n]}function ud(t,n,e){return(t%=pl)?n||e?id(cd(t),fd(n,e)):cd(t):n||e?fd(n,e):od}function ad(t){return function(n,e){return yl(n+=t)>ll&&(n-=Math.round(n/pl)*pl),[n,e]}}function cd(t){var n=ad(t);return n.invert=ad(-t),n}function fd(t,n){var e=bl(t),r=Sl(t),i=bl(n),o=Sl(n);function u(t,n){var u=bl(n),a=bl(t)*u,c=Sl(t)*u,f=Sl(n),s=f*e+a*r;return[ml(c*i-s*o,a*e-f*r),Pl(s*i+c*o)]}return u.invert=function(t,n){var u=bl(n),a=bl(t)*u,c=Sl(t)*u,f=Sl(n),s=f*i-c*o;return[ml(c*i+f*o,a*e+s*r),Pl(s*e-a*r)]},u}od.invert=od;var sd=function(t){function n(n){return(n=t(n[0]*vl,n[1]*vl))[0]*=gl,n[1]*=gl,n}return t=ud(t[0]*vl,t[1]*vl,t.length>2?t[2]*vl:0),n.invert=function(n){return(n=t.invert(n[0]*vl,n[1]*vl))[0]*=gl,n[1]*=gl,n},n};function ld(t,n,e,r,i,o){if(e){var u=bl(n),a=Sl(n),c=r*e;null==i?(i=n+r*pl,o=n-c/2):(i=hd(u,i),o=hd(u,o),(r>0?i<o:i>o)&&(i+=r*pl));for(var f,s=i;r>0?s>o:s<o;s-=c)f=sh([u,-a*bl(s),-a*Sl(s)]),t.point(f[0],f[1])}}function hd(t,n){(n=lh(n))[0]-=t,vh(n);var e=Cl(-n[1]);return((-n[2]<0?-e:e)+pl-1e-6)%pl}var dd=function(){var t,n,e=rd([0,0]),r=rd(90),i=rd(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=gl,e[1]*=gl}};function u(){var u=e.apply(this,arguments),a=r.apply(this,arguments)*vl,c=i.apply(this,arguments)*vl;return t=[],n=ud(-u[0]*vl,-u[1]*vl,0).invert,ld(o,a,c,1),u={type:"Polygon",coordinates:[t]},t=n=null,u}return u.center=function(t){return arguments.length?(e="function"==typeof t?t:rd([+t[0],+t[1]]),u):e},u.radius=function(t){return arguments.length?(r="function"==typeof t?t:rd(+t),u):r},u.precision=function(t){return arguments.length?(i="function"==typeof t?t:rd(+t),u):i},u},pd=function(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:Il,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},gd=function(t,n){return yl(t[0]-n[0])<1e-6&&yl(t[1]-n[1])<1e-6};function vd(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var yd=function(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(gd(r,u)){if(!r[2]&&!u[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}u[0]+=2e-6}a.push(e=new vd(r,t,null,!0)),c.push(e.o=new vd(r,null,e,!1)),a.push(e=new vd(u,t,null,!1)),c.push(e.o=new vd(u,null,e,!0))}})),a.length){for(c.sort(n),_d(a),_d(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var f,s,l=a[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,u=f.length;o<u;++o)i.point((s=f[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(f=h.p.z,o=f.length-1;o>=0;--o)i.point((s=f[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}f=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function _d(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function md(t){return yl(t[0])<=ll?t[0]:El(t[0])*((yl(t[0])+ll)%pl-ll)}var bd=function(t,n){var e=md(n),r=n[1],i=Sl(r),o=[Sl(e),-bl(e),0],u=0,a=0,c=new P;1===i?r=hl+1e-6:-1===i&&(r=-hl-1e-6);for(var f=0,s=t.length;f<s;++f)if(h=(l=t[f]).length)for(var l,h,d=l[h-1],p=md(d),g=d[1]/2+dl,v=Sl(g),y=bl(g),_=0;_<h;++_,p=b,v=w,y=M,d=m){var m=l[_],b=md(m),x=m[1]/2+dl,w=Sl(x),M=bl(x),A=b-p,T=A>=0?1:-1,S=T*A,E=S>ll,N=v*w;if(c.add(ml(N*T*Sl(S),y*M+N*bl(S))),u+=E?A+T*pl:A,E^p>=e^b>=e){var k=dh(lh(d),lh(m));vh(k);var C=dh(o,k);vh(C);var z=(E^A>=0?-1:1)*Pl(C[2]);(r>z||r===z&&(k[0]||k[1]))&&(a+=E^A>=0?1:-1)}}return(u<-1e-6||u<1e-6&&c<-1e-12)^1&a},xd=function(t,n,e,r){return function(i){var o,u,a,c=n(i),f=pd(),s=n(f),l=!1,h={point:d,lineStart:g,lineEnd:v,polygonStart:function(){h.point=y,h.lineStart=_,h.lineEnd=m,u=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=v,u=Pt(u);var t=bd(o,r);u.length?(l||(i.polygonStart(),l=!0),yd(u,Md,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){c.point(t,n)}function g(){h.point=p,c.lineStart()}function v(){h.point=d,c.lineEnd()}function y(t,n){a.push([t,n]),s.point(t,n)}function _(){s.lineStart(),a=[]}function m(){y(a[0][0],a[0][1]),s.lineEnd();var t,n,e,r,c=s.clean(),h=f.result(),d=h.length;if(a.pop(),o.push(a),a=null,d)if(1&c){if((n=(e=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&h.push(h.pop().concat(h.shift())),u.push(h.filter(wd))}return h}};function wd(t){return t.length>1}function Md(t,n){return((t=t.x)[0]<0?t[1]-hl-1e-6:hl-t[1])-((n=n.x)[0]<0?n[1]-hl-1e-6:hl-n[1])}var Ad=xd((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?ll:-ll,c=yl(o-e);yl(c-ll)<1e-6?(t.point(e,r=(r+u)/2>0?hl:-hl),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=ll&&(yl(e-i)<1e-6&&(e-=1e-6*i),yl(o-a)<1e-6&&(o-=1e-6*a),r=function(t,n,e,r){var i,o,u=Sl(t-e);return yl(u)>1e-6?_l((Sl(n)*(o=bl(r))*Sl(e)-Sl(r)*(i=bl(n))*Sl(t))/(i*o*u)):(n+r)/2}(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*hl,r.point(-ll,i),r.point(0,i),r.point(ll,i),r.point(ll,0),r.point(ll,-i),r.point(0,-i),r.point(-ll,-i),r.point(-ll,0),r.point(-ll,i);else if(yl(t[0]-n[0])>1e-6){var o=t[0]<n[0]?ll:-ll;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-ll,-hl]);var Td=function(t){var n=bl(t),e=6*vl,r=n>0,i=yl(n)>1e-6;function o(t,e){return bl(t)*bl(e)>n}function u(t,e,r){var i=[1,0,0],o=dh(lh(t),lh(e)),u=hh(o,o),a=o[0],c=u-a*a;if(!c)return!r&&t;var f=n*u/c,s=-n*a/c,l=dh(i,o),h=gh(i,f);ph(h,gh(o,s));var d=l,p=hh(h,d),g=hh(d,d),v=p*p-g*(hh(h,h)-1);if(!(v<0)){var y=Nl(v),_=gh(d,(-p-y)/g);if(ph(_,h),_=sh(_),!r)return _;var m,b=t[0],x=e[0],w=t[1],M=e[1];x<b&&(m=b,b=x,x=m);var A=x-b,T=yl(A-ll)<1e-6;if(!T&&M<w&&(m=w,w=M,M=m),T||A<1e-6?T?w+M>0^_[1]<(yl(_[0]-b)<1e-6?w:M):w<=_[1]&&_[1]<=M:A>ll^(b<=_[0]&&_[0]<=x)){var S=gh(d,(-p+y)/g);return ph(S,h),[_,sh(S)]}}}function a(n,e){var i=r?t:ll-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return xd(o,(function(t){var n,e,c,f,s;return{lineStart:function(){f=c=!1,s=1},point:function(l,h){var d,p=[l,h],g=o(l,h),v=r?g?0:a(l,h):g?a(l+(l<0?ll:-ll),h):0;if(!n&&(f=c=g)&&t.lineStart(),g!==c&&(!(d=u(n,p))||gd(n,d)||gd(p,d))&&(p[2]=1),g!==c)s=0,g?(t.lineStart(),d=u(p,n),t.point(d[0],d[1])):(d=u(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^g){var y;v&e||!(y=u(p,n,!0))||(s=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||n&&gd(n,p)||t.point(p[0],p[1]),n=p,c=g,e=v},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return s|(f&&c)<<1}}}),(function(n,r,i,o){ld(o,t,e,i,n,r)}),r?[0,-t]:[-ll,t-ll])};function Sd(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,f){var s=0,l=0;if(null==i||(s=u(i,a))!==(l=u(o,a))||c(i,o)<0^a>0)do{f.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+a+4)%4)!==l);else f.point(o[0],o[1])}function u(r,i){return yl(r[0]-t)<1e-6?i>0?0:3:yl(r[0]-e)<1e-6?i>0?2:1:yl(r[1]-n)<1e-6?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){var c,f,s,l,h,d,p,g,v,y,_,m=u,b=pd(),x={point:w,lineStart:function(){x.point=M,f&&f.push(s=[]);y=!0,v=!1,p=g=NaN},lineEnd:function(){c&&(M(l,h),d&&v&&b.rejoin(),c.push(b.result()));x.point=w,v&&m.lineEnd()},polygonStart:function(){m=b,c=[],f=[],_=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=f.length;e<i;++e)for(var o,u,a=f[e],c=1,s=a.length,l=a[0],h=l[0],d=l[1];c<s;++c)o=h,u=d,l=a[c],h=l[0],d=l[1],u<=r?d>r&&(h-o)*(r-u)>(d-u)*(t-o)&&++n:d<=r&&(h-o)*(r-u)<(d-u)*(t-o)&&--n;return n}(),e=_&&n,i=(c=Pt(c)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&yd(c,a,n,o,u),u.polygonEnd());m=u,c=f=s=null}};function w(t,n){i(t,n)&&m.point(t,n)}function M(o,u){var a=i(o,u);if(f&&s.push([o,u]),y)l=o,h=u,d=a,y=!1,a&&(m.lineStart(),m.point(o,u));else if(a&&v)m.point(o,u);else{var c=[p=Math.max(-1e9,Math.min(1e9,p)),g=Math.max(-1e9,Math.min(1e9,g))],b=[o=Math.max(-1e9,Math.min(1e9,o)),u=Math.max(-1e9,Math.min(1e9,u))];!function(t,n,e,r,i,o){var u,a=t[0],c=t[1],f=0,s=1,l=n[0]-a,h=n[1]-c;if(u=e-a,l||!(u>0)){if(u/=l,l<0){if(u<f)return;u<s&&(s=u)}else if(l>0){if(u>s)return;u>f&&(f=u)}if(u=i-a,l||!(u<0)){if(u/=l,l<0){if(u>s)return;u>f&&(f=u)}else if(l>0){if(u<f)return;u<s&&(s=u)}if(u=r-c,h||!(u>0)){if(u/=h,h<0){if(u<f)return;u<s&&(s=u)}else if(h>0){if(u>s)return;u>f&&(f=u)}if(u=o-c,h||!(u<0)){if(u/=h,h<0){if(u>s)return;u>f&&(f=u)}else if(h>0){if(u<f)return;u<s&&(s=u)}return f>0&&(t[0]=a+f*l,t[1]=c+f*h),s<1&&(n[0]=a+s*l,n[1]=c+s*h),!0}}}}}(c,b,t,n,e,r)?a&&(m.lineStart(),m.point(o,u),_=!1):(v||(m.lineStart(),m.point(c[0],c[1])),m.point(b[0],b[1]),a||m.lineEnd(),_=!1)}p=o,g=u,v=a}return x}}var Ed,Nd,kd,Cd,Pd=function(){var t,n,e,r=0,i=0,o=960,u=500;return e={stream:function(e){return t&&n===e?t:t=Sd(r,i,o,u)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],u=+a[1][1],t=n=null,e):[[r,i],[o,u]]}}},zd={sphere:Il,point:Il,lineStart:function(){zd.point=Rd,zd.lineEnd=Id},lineEnd:Il,polygonStart:Il,polygonEnd:Il};function Id(){zd.point=zd.lineEnd=Il}function Rd(t,n){Nd=t*=vl,kd=Sl(n*=vl),Cd=bl(n),zd.point=$d}function $d(t,n){t*=vl;var e=Sl(n*=vl),r=bl(n),i=yl(t-Nd),o=bl(i),u=r*Sl(i),a=Cd*e-kd*r*o,c=kd*e+Cd*r*o;Ed.add(ml(Nl(u*u+a*a),c)),Nd=t,kd=e,Cd=r}var Dd=function(t){return Ed=new P,Yl(t,zd),+Ed},Bd=[null,null],Fd={type:"LineString",coordinates:Bd},qd=function(t,n){return Bd[0]=t,Bd[1]=n,Dd(Fd)},Od={Feature:function(t,n){return Ud(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Ud(e[r].geometry,n))return!0;return!1}},Ld={Sphere:function(){return!0},Point:function(t,n){return jd(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(jd(e[r],n))return!0;return!1},LineString:function(t,n){return Yd(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Yd(e[r],n))return!0;return!1},Polygon:function(t,n){return Hd(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Hd(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Ud(e[r],n))return!0;return!1}};function Ud(t,n){return!(!t||!Ld.hasOwnProperty(t.type))&&Ld[t.type](t,n)}function jd(t,n){return 0===qd(t,n)}function Yd(t,n){for(var e,r,i,o=0,u=t.length;o<u;o++){if(0===(r=qd(t[o],n)))return!0;if(o>0&&(i=qd(t[o],t[o-1]))>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<1e-12*i)return!0;e=r}return!1}function Hd(t,n){return!!bd(t.map(Vd),Xd(n))}function Vd(t){return(t=t.map(Xd)).pop(),t}function Xd(t){return[t[0]*vl,t[1]*vl]}var Gd=function(t,n){return(t&&Od.hasOwnProperty(t.type)?Od[t.type]:Ud)(t,n)};function Wd(t,n,e){var r=$t(t,n-1e-6,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function Zd(t,n,e){var r=$t(t,n-1e-6,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function Qd(){var t,n,e,r,i,o,u,a,c,f,s,l,h=10,d=h,p=90,g=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:_()}}function _(){return $t(xl(r/p)*p,e,p).map(s).concat($t(xl(a/g)*g,u,g).map(l)).concat($t(xl(n/h)*h,t,h).filter((function(t){return yl(t%p)>1e-6})).map(c)).concat($t(xl(o/d)*d,i,d).filter((function(t){return yl(t%g)>1e-6})).map(f))}return y.lines=function(){return _().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(l(u).slice(1),s(e).reverse().slice(1),l(a).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],u=+t[1][1],r>e&&(t=r,r=e,e=t),a>u&&(t=a,a=u,u=t),y.precision(v)):[[r,a],[e,u]]},y.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),y.precision(v)):[[n,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],y):[p,g]},y.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],y):[h,d]},y.precision=function(h){return arguments.length?(v=+h,c=Wd(o,i,90),f=Zd(n,t,v),s=Wd(a,u,90),l=Zd(r,e,v),y):v},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Kd(){return Qd()()}var Jd,tp,np,ep,rp=function(t,n){var e=t[0]*vl,r=t[1]*vl,i=n[0]*vl,o=n[1]*vl,u=bl(r),a=Sl(r),c=bl(o),f=Sl(o),s=u*bl(e),l=u*Sl(e),h=c*bl(i),d=c*Sl(i),p=2*Pl(Nl(zl(o-r)+u*c*zl(i-e))),g=Sl(p),v=p?function(t){var n=Sl(t*=p)/g,e=Sl(p-t)/g,r=e*s+n*h,i=e*l+n*d,o=e*a+n*f;return[ml(i,r)*gl,ml(o,Nl(r*r+i*i))*gl]}:function(){return[e*gl,r*gl]};return v.distance=p,v},ip=t=>t,op=new P,up=new P,ap={point:Il,lineStart:Il,lineEnd:Il,polygonStart:function(){ap.lineStart=cp,ap.lineEnd=lp},polygonEnd:function(){ap.lineStart=ap.lineEnd=ap.point=Il,op.add(yl(up)),up=new P},result:function(){var t=op/2;return op=new P,t}};function cp(){ap.point=fp}function fp(t,n){ap.point=sp,Jd=np=t,tp=ep=n}function sp(t,n){up.add(ep*t-np*n),np=t,ep=n}function lp(){sp(Jd,tp)}var hp=ap,dp=1/0,pp=dp,gp=-dp,vp=gp;var yp,_p,mp,bp,xp={point:function(t,n){t<dp&&(dp=t);t>gp&&(gp=t);n<pp&&(pp=n);n>vp&&(vp=n)},lineStart:Il,lineEnd:Il,polygonStart:Il,polygonEnd:Il,result:function(){var t=[[dp,pp],[gp,vp]];return gp=vp=-(pp=dp=1/0),t}},wp=0,Mp=0,Ap=0,Tp=0,Sp=0,Ep=0,Np=0,kp=0,Cp=0,Pp={point:zp,lineStart:Ip,lineEnd:Dp,polygonStart:function(){Pp.lineStart=Bp,Pp.lineEnd=Fp},polygonEnd:function(){Pp.point=zp,Pp.lineStart=Ip,Pp.lineEnd=Dp},result:function(){var t=Cp?[Np/Cp,kp/Cp]:Ep?[Tp/Ep,Sp/Ep]:Ap?[wp/Ap,Mp/Ap]:[NaN,NaN];return wp=Mp=Ap=Tp=Sp=Ep=Np=kp=Cp=0,t}};function zp(t,n){wp+=t,Mp+=n,++Ap}function Ip(){Pp.point=Rp}function Rp(t,n){Pp.point=$p,zp(mp=t,bp=n)}function $p(t,n){var e=t-mp,r=n-bp,i=Nl(e*e+r*r);Tp+=i*(mp+t)/2,Sp+=i*(bp+n)/2,Ep+=i,zp(mp=t,bp=n)}function Dp(){Pp.point=zp}function Bp(){Pp.point=qp}function Fp(){Op(yp,_p)}function qp(t,n){Pp.point=Op,zp(yp=mp=t,_p=bp=n)}function Op(t,n){var e=t-mp,r=n-bp,i=Nl(e*e+r*r);Tp+=i*(mp+t)/2,Sp+=i*(bp+n)/2,Ep+=i,Np+=(i=bp*t-mp*n)*(mp+t),kp+=i*(bp+n),Cp+=3*i,zp(mp=t,bp=n)}var Lp=Pp;function Up(t){this._context=t}Up.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,pl)}},result:Il};var jp,Yp,Hp,Vp,Xp,Gp=new P,Wp={point:Il,lineStart:function(){Wp.point=Zp},lineEnd:function(){jp&&Qp(Yp,Hp),Wp.point=Il},polygonStart:function(){jp=!0},polygonEnd:function(){jp=null},result:function(){var t=+Gp;return Gp=new P,t}};function Zp(t,n){Wp.point=Qp,Yp=Vp=t,Hp=Xp=n}function Qp(t,n){Vp-=t,Xp-=n,Gp.add(Nl(Vp*Vp+Xp*Xp)),Vp=t,Xp=n}var Kp=Wp;let Jp,tg,ng,eg;class rg{constructor(t){this._append=null==t?ig:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError("invalid digits: "+t);if(n>15)return ig;if(n!==Jp){const t=10**n;Jp=n,tg=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return tg}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==ng||this._append!==tg){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,ng=t,tg=this._append,eg=this._,this._=n}this._+=eg}}result(){const t=this._;return this._="",t.length?t:null}}function ig(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}var og=function(t,n){let e,r,i=3,o=4.5;function u(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Yl(t,e(r))),r.result()}return u.area=function(t){return Yl(t,e(hp)),hp.result()},u.measure=function(t){return Yl(t,e(Kp)),Kp.result()},u.bounds=function(t){return Yl(t,e(xp)),xp.result()},u.centroid=function(t){return Yl(t,e(Lp)),Lp.result()},u.projection=function(n){return arguments.length?(e=null==n?(t=null,ip):(t=n).stream,u):t},u.context=function(t){return arguments.length?(r=null==t?(n=null,new rg(i)):new Up(n=t),"function"!=typeof o&&r.pointRadius(o),u):n},u.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),u):o},u.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError("invalid digits: "+t);i=n}return null===n&&(r=new rg(i)),u},u.projection(t).digits(i).context(n)},ug=function(t){return{stream:ag(t)}};function ag(t){return function(n){var e=new cg;for(var r in t)e[r]=t[r];return e.stream=n,e}}function cg(){}function fg(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Yl(e,t.stream(xp)),n(xp.result()),null!=r&&t.clipExtent(r),t}function sg(t,n,e){return fg(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])}),e)}function lg(t,n,e){return sg(t,[[0,0],n],e)}function hg(t,n,e){return fg(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])}),e)}function dg(t,n,e){return fg(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])}),e)}cg.prototype={constructor:cg,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var pg=bl(30*vl),gg=function(t,n){return+n?function(t,n){function e(r,i,o,u,a,c,f,s,l,h,d,p,g,v){var y=f-r,_=s-i,m=y*y+_*_;if(m>4*n&&g--){var b=u+h,x=a+d,w=c+p,M=Nl(b*b+x*x+w*w),A=Pl(w/=M),T=yl(yl(w)-1)<1e-6||yl(o-l)<1e-6?(o+l)/2:ml(x,b),S=t(T,A),E=S[0],N=S[1],k=E-r,C=N-i,P=_*k-y*C;(P*P/m>n||yl((y*k+_*C)/m-.5)>.3||u*h+a*d+c*p<pg)&&(e(r,i,o,u,a,c,E,N,T,b/=M,x/=M,w,g,v),v.point(E,N),e(E,N,T,b,x,w,f,s,l,h,d,p,g,v))}}return function(n){var r,i,o,u,a,c,f,s,l,h,d,p,g={point:v,lineStart:y,lineEnd:m,polygonStart:function(){n.polygonStart(),g.lineStart=b},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function v(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){s=NaN,g.point=_,n.lineStart()}function _(r,i){var o=lh([r,i]),u=t(r,i);e(s,l,f,h,d,p,s=u[0],l=u[1],f=r,h=o[0],d=o[1],p=o[2],16,n),n.point(s,l)}function m(){g.point=v,n.lineEnd()}function b(){y(),g.point=x,g.lineEnd=w}function x(t,n){_(r=t,n),i=s,o=l,u=h,a=d,c=p,g.point=_}function w(){e(s,l,f,h,d,p,i,o,r,u,a,c,16,n),g.lineEnd=m,m()}return g}}(t,n):function(t){return ag({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)};var vg=ag({point:function(t,n){this.stream.point(t*vl,n*vl)}});function yg(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,u){return[n+t*(o*=r),e-t*(u*=i)]}return o.invert=function(o,u){return[(o-n)/t*r,(e-u)/t*i]},o}(t,n,e,r,i);var u=bl(o),a=Sl(o),c=u*t,f=a*t,s=u/t,l=a/t,h=(a*e-u*n)/t,d=(a*n+u*e)/t;function p(t,o){return[c*(t*=r)-f*(o*=i)+n,e-f*t-c*o]}return p.invert=function(t,n){return[r*(s*t-l*n+h),i*(d-l*t-s*n)]},p}function _g(t){return mg((function(){return t}))()}function mg(t){var n,e,r,i,o,u,a,c,f,s,l=150,h=480,d=250,p=0,g=0,v=0,y=0,_=0,m=0,b=1,x=1,w=null,M=Ad,A=null,T=ip,S=.5;function E(t){return c(t[0]*vl,t[1]*vl)}function N(t){return(t=c.invert(t[0],t[1]))&&[t[0]*gl,t[1]*gl]}function k(){var t=yg(l,0,0,b,x,m).apply(null,n(p,g)),r=yg(l,h-t[0],d-t[1],b,x,m);return e=ud(v,y,_),a=id(n,r),c=id(e,a),u=gg(a,S),C()}function C(){return f=s=null,E}return E.stream=function(t){return f&&s===t?f:f=vg(function(t){return ag({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(u(T(s=t)))))},E.preclip=function(t){return arguments.length?(M=t,w=void 0,C()):M},E.postclip=function(t){return arguments.length?(T=t,A=r=i=o=null,C()):T},E.clipAngle=function(t){return arguments.length?(M=+t?Td(w=t*vl):(w=null,Ad),C()):w*gl},E.clipExtent=function(t){return arguments.length?(T=null==t?(A=r=i=o=null,ip):Sd(A=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==A?null:[[A,r],[i,o]]},E.scale=function(t){return arguments.length?(l=+t,k()):l},E.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],k()):[h,d]},E.center=function(t){return arguments.length?(p=t[0]%360*vl,g=t[1]%360*vl,k()):[p*gl,g*gl]},E.rotate=function(t){return arguments.length?(v=t[0]%360*vl,y=t[1]%360*vl,_=t.length>2?t[2]%360*vl:0,k()):[v*gl,y*gl,_*gl]},E.angle=function(t){return arguments.length?(m=t%360*vl,k()):m*gl},E.reflectX=function(t){return arguments.length?(b=t?-1:1,k()):b<0},E.reflectY=function(t){return arguments.length?(x=t?-1:1,k()):x<0},E.precision=function(t){return arguments.length?(u=gg(a,S=t*t),C()):Nl(S)},E.fitExtent=function(t,n){return sg(E,t,n)},E.fitSize=function(t,n){return lg(E,t,n)},E.fitWidth=function(t,n){return hg(E,t,n)},E.fitHeight=function(t,n){return dg(E,t,n)},function(){return n=t.apply(this,arguments),E.invert=n.invert&&N,k()}}function bg(t){var n=0,e=ll/3,r=mg(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*vl,e=t[1]*vl):[n*gl,e*gl]},i}function xg(t,n){var e=Sl(t),r=(e+Sl(n))/2;if(yl(r)<1e-6)return function(t){var n=bl(t);function e(t,e){return[t*n,Sl(e)/n]}return e.invert=function(t,e){return[t/n,Pl(e*n)]},e}(t);var i=1+e*(2*r-e),o=Nl(i)/r;function u(t,n){var e=Nl(i-2*r*Sl(n))/r;return[e*Sl(t*=r),o-e*bl(t)]}return u.invert=function(t,n){var e=o-n,u=ml(t,yl(e))*El(e);return e*r<0&&(u-=ll*El(t)*El(e)),[u/r,Pl((i-(t*t+e*e)*r*r)/(2*r))]},u}var wg=function(){return bg(xg).scale(155.424).center([0,33.6442])},Mg=function(){return wg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var Ag=function(){var t,n,e,r,i,o,u=Mg(),a=wg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=wg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,n){o=[t,n]}};function s(t){var n=t[0],u=t[1];return o=null,e.point(n,u),o||(r.point(n,u),o)||(i.point(n,u),o)}function l(){return t=n=null,s}return s.invert=function(t){var n=u.scale(),e=u.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:u).invert(t)},s.stream=function(e){return t&&n===e?t:(r=[u.stream(n=e),a.stream(e),c.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(u.precision(t),a.precision(t),c.precision(t),l()):u.precision()},s.scale=function(t){return arguments.length?(u.scale(t),a.scale(.35*t),c.scale(t),s.translate(u.translate())):u.scale()},s.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),o=+t[0],s=+t[1];return e=u.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(f),r=a.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+1e-6,s+.12*n+1e-6],[o-.214*n-1e-6,s+.234*n-1e-6]]).stream(f),i=c.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+1e-6,s+.166*n+1e-6],[o-.115*n-1e-6,s+.234*n-1e-6]]).stream(f),l()},s.fitExtent=function(t,n){return sg(s,t,n)},s.fitSize=function(t,n){return lg(s,t,n)},s.fitWidth=function(t,n){return hg(s,t,n)},s.fitHeight=function(t,n){return dg(s,t,n)},s.scale(1070)};function Tg(t){return function(n,e){var r=bl(n),i=bl(e),o=t(r*i);return o===1/0?[2,0]:[o*i*Sl(n),o*Sl(e)]}}function Sg(t){return function(n,e){var r=Nl(n*n+e*e),i=t(r),o=Sl(i),u=bl(i);return[ml(n*o,r*u),Pl(r&&e*o/r)]}}var Eg=Tg((function(t){return Nl(2/(1+t))}));Eg.invert=Sg((function(t){return 2*Pl(t/2)}));var Ng=function(){return _g(Eg).scale(124.75).clipAngle(179.999)},kg=Tg((function(t){return(t=Cl(t))&&t/Sl(t)}));kg.invert=Sg((function(t){return t}));var Cg=function(){return _g(kg).scale(79.4188).clipAngle(179.999)};function Pg(t,n){return[t,Al(kl((hl+n)/2))]}Pg.invert=function(t,n){return[t,2*_l(wl(n))-hl]};var zg=function(){return Ig(Pg).scale(961/pl)};function Ig(t){var n,e,r,i=_g(t),o=i.center,u=i.scale,a=i.translate,c=i.clipExtent,f=null;function s(){var o=ll*u(),a=i(sd(i.rotate()).invert([0,0]));return c(null==f?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===Pg?[[Math.max(a[0]-o,f),n],[Math.min(a[0]+o,e),r]]:[[f,Math.max(a[1]-o,n)],[e,Math.min(a[1]+o,r)]])}return i.scale=function(t){return arguments.length?(u(t),s()):u()},i.translate=function(t){return arguments.length?(a(t),s()):a()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?f=n=e=r=null:(f=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==f?null:[[f,n],[e,r]]},s()}function Rg(t){return kl((hl+t)/2)}function $g(t,n){var e=bl(t),r=t===n?Sl(t):Al(e/bl(n))/Al(Rg(n)/Rg(t)),i=e*Tl(Rg(t),r)/r;if(!r)return Pg;function o(t,n){i>0?n<1e-6-hl&&(n=1e-6-hl):n>hl-1e-6&&(n=hl-1e-6);var e=i/Tl(Rg(n),r);return[e*Sl(r*t),i-e*bl(r*t)]}return o.invert=function(t,n){var e=i-n,o=El(r)*Nl(t*t+e*e),u=ml(t,yl(e))*El(e);return e*r<0&&(u-=ll*El(t)*El(e)),[u/r,2*_l(Tl(i/o,1/r))-hl]},o}var Dg=function(){return bg($g).scale(109.5).parallels([30,30])};function Bg(t,n){return[t,n]}Bg.invert=Bg;var Fg=function(){return _g(Bg).scale(152.63)};function qg(t,n){var e=bl(t),r=t===n?Sl(t):(e-bl(n))/(n-t),i=e/r+t;if(yl(r)<1e-6)return Bg;function o(t,n){var e=i-n,o=r*t;return[e*Sl(o),i-e*bl(o)]}return o.invert=function(t,n){var e=i-n,o=ml(t,yl(e))*El(e);return e*r<0&&(o-=ll*El(t)*El(e)),[o/r,i-El(r)*Nl(t*t+e*e)]},o}var Og=function(){return bg(qg).scale(131.154).center([0,13.9389])},Lg=1.340264,Ug=-.081106,jg=893e-6,Yg=.003796,Hg=Nl(3)/2;function Vg(t,n){var e=Pl(Hg*Sl(n)),r=e*e,i=r*r*r;return[t*bl(e)/(Hg*(Lg+3*Ug*r+i*(7*jg+9*Yg*r))),e*(Lg+Ug*r+i*(jg+Yg*r))]}Vg.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,u=0;u<12&&(o=(i=(r-=e=(r*(Lg+Ug*i+o*(jg+Yg*i))-n)/(Lg+3*Ug*i+o*(7*jg+9*Yg*i)))*r)*i*i,!(yl(e)<1e-12));++u);return[Hg*t*(Lg+3*Ug*i+o*(7*jg+9*Yg*i))/bl(r),Pl(Sl(r)/Hg)]};var Xg=function(){return _g(Vg).scale(177.158)};function Gg(t,n){var e=bl(n),r=bl(t)*e;return[e*Sl(t)/r,Sl(n)/r]}Gg.invert=Sg(_l);var Wg=function(){return _g(Gg).scale(144.049).clipAngle(60)},Zg=function(){var t,n,e,r,i,o,u,a=1,c=0,f=0,s=1,l=1,h=0,d=null,p=1,g=1,v=ag({point:function(t,n){var e=m([t,n]);this.stream.point(e[0],e[1])}}),y=ip;function _(){return p=a*s,g=a*l,o=u=null,m}function m(e){var r=e[0]*p,i=e[1]*g;if(h){var o=i*t-r*n;r=r*t+i*n,i=o}return[r+c,i+f]}return m.invert=function(e){var r=e[0]-c,i=e[1]-f;if(h){var o=i*t+r*n;r=r*t-i*n,i=o}return[r/p,i/g]},m.stream=function(t){return o&&u===t?o:o=v(y(u=t))},m.postclip=function(t){return arguments.length?(y=t,d=e=r=i=null,_()):y},m.clipExtent=function(t){return arguments.length?(y=null==t?(d=e=r=i=null,ip):Sd(d=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),_()):null==d?null:[[d,e],[r,i]]},m.scale=function(t){return arguments.length?(a=+t,_()):a},m.translate=function(t){return arguments.length?(c=+t[0],f=+t[1],_()):[c,f]},m.angle=function(e){return arguments.length?(n=Sl(h=e%360*vl),t=bl(h),_()):h*gl},m.reflectX=function(t){return arguments.length?(s=t?-1:1,_()):s<0},m.reflectY=function(t){return arguments.length?(l=t?-1:1,_()):l<0},m.fitExtent=function(t,n){return sg(m,t,n)},m.fitSize=function(t,n){return lg(m,t,n)},m.fitWidth=function(t,n){return hg(m,t,n)},m.fitHeight=function(t,n){return dg(m,t,n)},m};function Qg(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}Qg.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,u=o*o;r-=e=(r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-n)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(yl(e)>1e-6&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Kg=function(){return _g(Qg).scale(175.295)};function Jg(t,n){return[bl(n)*Sl(t),Sl(n)]}Jg.invert=Sg(Pl);var tv=function(){return _g(Jg).scale(249.5).clipAngle(90.000001)};function nv(t,n){var e=bl(n),r=1+bl(t)*e;return[e*Sl(t)/r,Sl(n)/r]}nv.invert=Sg((function(t){return 2*_l(t)}));var ev=function(){return _g(nv).scale(250).clipAngle(142)};function rv(t,n){return[Al(kl((hl+n)/2)),-t]}rv.invert=function(t,n){return[-n,2*_l(wl(t))-hl]};var iv=function(){var t=Ig(rv),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)};function ov(t,n){return t.parent===n.parent?1:2}function uv(t,n){return t+n.x}function av(t,n){return Math.max(t,n.y)}var cv=function(){var t=ov,n=1,e=1,r=!1;function i(i){var o,u=0;i.eachAfter((function(n){var e=n.children;e?(n.x=function(t){return t.reduce(uv,0)/t.length}(e),n.y=function(t){return 1+t.reduce(av,0)}(e)):(n.x=o?u+=t(n,o):0,n.y=0,o=n)}));var a=function(t){for(var n;n=t.children;)t=n[0];return t}(i),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),f=a.x-t(a,c)/2,s=c.x+t(c,a)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-f)/(s-f)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i};function fv(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function sv(t,n){t instanceof Map?(t=[void 0,t],void 0===n&&(n=hv)):void 0===n&&(n=lv);for(var e,r,i,o,u,a=new gv(t),c=[a];e=c.pop();)if((i=n(e.data))&&(u=(i=Array.from(i)).length))for(e.children=i,o=u-1;o>=0;--o)c.push(r=i[o]=new gv(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(pv)}function lv(t){return t.children}function hv(t){return Array.isArray(t)?t[1]:null}function dv(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function pv(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function gv(t){this.data=t,this.depth=this.height=0,this.parent=null}function vv(t){return null==t?null:yv(t)}function yv(t){if("function"!=typeof t)throw new Error;return t}function _v(){return 0}gv.prototype=sv.prototype={constructor:gv,count:function(){return this.eachAfter(fv)},each:function(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this},eachAfter:function(t,n){for(var e,r,i,o=this,u=[o],a=[],c=-1;o=u.pop();)if(a.push(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r]);for(;o=a.pop();)t.call(n,o,++c,this);return this},eachBefore:function(t,n){for(var e,r,i=this,o=[i],u=-1;i=o.pop();)if(t.call(n,i,++u,this),e=i.children)for(r=e.length-1;r>=0;--r)o.push(e[r]);return this},find:function(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();for(;t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return sv(this).eachBefore(dv)},[Symbol.iterator]:function*(){var t,n,e,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e])}while(o.length)}};var mv=function(t){return function(){return t}};var bv=function(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296};var xv=function(t){return wv(t,bv())};function wv(t,n){for(var e,r,i=0,o=(t=function(t,n){let e,r,i=t.length;for(;i;)r=n()*i--|0,e=t[i],t[i]=t[r],t[r]=e;return t}(Array.from(t),n)).length,u=[];i<o;)e=t[i],r&&Tv(r,e)?++i:(r=Ev(u=Mv(u,e)),i=0);return r}function Mv(t,n){var e,r;if(Sv(n,t))return[n];for(e=0;e<t.length;++e)if(Av(n,t[e])&&Sv(Nv(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Av(Nv(t[e],t[r]),n)&&Av(Nv(t[e],n),t[r])&&Av(Nv(t[r],n),t[e])&&Sv(kv(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Av(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Tv(t,n){var e=t.r-n.r+1e-9*Math.max(t.r,n.r,1),r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Sv(t,n){for(var e=0;e<n.length;++e)if(!Tv(t,n[e]))return!1;return!0}function Ev(t){switch(t.length){case 1:return{x:(n=t[0]).x,y:n.y,r:n.r};case 2:return Nv(t[0],t[1]);case 3:return kv(t[0],t[1],t[2])}var n}function Nv(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,f=u-r,s=a-i,l=Math.sqrt(c*c+f*f);return{x:(e+o+c/l*s)/2,y:(r+u+f/l*s)/2,r:(l+i+a)/2}}function kv(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,f=e.x,s=e.y,l=e.r,h=r-u,d=r-f,p=i-a,g=i-s,v=c-o,y=l-o,_=r*r+i*i-o*o,m=_-u*u-a*a+c*c,b=_-f*f-s*s+l*l,x=d*p-h*g,w=(p*b-g*m)/(2*x)-r,M=(g*v-p*y)/x,A=(d*m-h*b)/(2*x)-i,T=(h*y-d*v)/x,S=M*M+T*T-1,E=2*(o+w*M+A*T),N=w*w+A*A-o*o,k=-(Math.abs(S)>1e-6?(E+Math.sqrt(E*E-4*S*N))/(2*S):N/E);return{x:r+w+M*k,y:i+A+T*k,r:k}}function Cv(t,n,e){var r,i,o,u,a=t.x-n.x,c=t.y-n.y,f=a*a+c*c;f?(i=n.r+e.r,i*=i,u=t.r+e.r,i>(u*=u)?(r=(f+u-i)/(2*f),o=Math.sqrt(Math.max(0,u/f-r*r)),e.x=t.x-r*a-o*c,e.y=t.y-r*c+o*a):(r=(f+i-u)/(2*f),o=Math.sqrt(Math.max(0,i/f-r*r)),e.x=n.x+r*a-o*c,e.y=n.y+r*c+o*a)):(e.x=n.x+e.r,e.y=n.y)}function Pv(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function zv(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function Iv(t){this._=t,this.next=null,this.previous=null}function Rv(t,n){if(!(u=(e=t,t="object"==typeof e&&"length"in e?e:Array.from(e)).length))return 0;var e,r,i,o,u,a,c,f,s,l,h,d;if((r=t[0]).x=0,r.y=0,!(u>1))return r.r;if(i=t[1],r.x=-i.r,i.x=r.r,i.y=0,!(u>2))return r.r+i.r;Cv(i,r,o=t[2]),r=new Iv(r),i=new Iv(i),o=new Iv(o),r.next=o.previous=i,i.next=r.previous=o,o.next=i.previous=r;t:for(f=3;f<u;++f){Cv(r._,i._,o=t[f]),o=new Iv(o),s=i.next,l=r.previous,h=i._.r,d=r._.r;do{if(h<=d){if(Pv(s._,o._)){i=s,r.next=i,i.previous=r,--f;continue t}h+=s._.r,s=s.next}else{if(Pv(l._,o._)){(r=l).next=i,i.previous=r,--f;continue t}d+=l._.r,l=l.previous}}while(s!==l.next);for(o.previous=r,o.next=i,r.next=i.previous=i=o,a=zv(r);(o=o.next)!==i;)(c=zv(o))<a&&(r=o,a=c);i=r.next}for(r=[i._],o=i;(o=o.next)!==i;)r.push(o._);for(o=wv(r,n),f=0;f<u;++f)(r=t[f]).x-=o.x,r.y-=o.y;return o.r}var $v=function(t){return Rv(t,bv()),t};function Dv(t){return Math.sqrt(t.value)}var Bv=function(){var t=null,n=1,e=1,r=_v;function i(i){const o=bv();return i.x=n/2,i.y=e/2,t?i.eachBefore(Fv(t)).eachAfter(qv(r,.5,o)).eachBefore(Ov(1)):i.eachBefore(Fv(Dv)).eachAfter(qv(_v,1,o)).eachAfter(qv(r,i.r/Math.min(n,e),o)).eachBefore(Ov(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=vv(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:mv(+t),i):r},i};function Fv(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function qv(t,n,e){return function(r){if(i=r.children){var i,o,u,a=i.length,c=t(r)*n||0;if(c)for(o=0;o<a;++o)i[o].r+=c;if(u=Rv(i,e),c)for(o=0;o<a;++o)i[o].r-=c;r.r=u+c}}}function Ov(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}var Lv=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Uv=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,f=t.value&&(r-n)/t.value;++a<c;)(o=u[a]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*f},jv=function(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(function(t,n){return function(r){r.children&&Uv(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,u=r.x1-e,a=r.y1-e;u<i&&(i=u=(i+u)/2),a<o&&(o=a=(o+a)/2),r.x0=i,r.y0=o,r.x1=u,r.y1=a}}(n,o)),r&&i.eachBefore(Lv),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},Yv={depth:-1},Hv={},Vv={};function Xv(t){return t.id}function Gv(t){return t.parentId}var Wv=function(){var t,n=Xv,e=Gv;function r(r){var i,o,u,a,c,f,s,l,h=Array.from(r),d=n,p=e,g=new Map;if(null!=t){const n=h.map((n,e)=>function(t){let n=(t=""+t).length;Qv(t,n-1)&&!Qv(t,n-2)&&(t=t.slice(0,-1));return"/"===t[0]?t:"/"+t}(t(n,e,r))),e=n.map(Zv),i=new Set(n).add("");for(const t of e)i.has(t)||(i.add(t),n.push(t),e.push(Zv(t)),h.push(Vv));d=(t,e)=>n[e],p=(t,n)=>e[n]}for(u=0,i=h.length;u<i;++u)o=h[u],f=h[u]=new gv(o),null!=(s=d(o,u,r))&&(s+="")&&(l=f.id=s,g.set(l,g.has(l)?Hv:f)),null!=(s=p(o,u,r))&&(s+="")&&(f.parent=s);for(u=0;u<i;++u)if(s=(f=h[u]).parent){if(!(c=g.get(s)))throw new Error("missing: "+s);if(c===Hv)throw new Error("ambiguous: "+s);c.children?c.children.push(f):c.children=[f],f.parent=c}else{if(a)throw new Error("multiple roots");a=f}if(!a)throw new Error("no root");if(null!=t){for(;a.data===Vv&&1===a.children.length;)a=a.children[0],--i;for(let t=h.length-1;t>=0&&(f=h[t]).data===Vv;--t)f.data=null}if(a.parent=Yv,a.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(pv),a.parent=null,i>0)throw new Error("cycle");return a}return r.id=function(t){return arguments.length?(n=vv(t),r):n},r.parentId=function(t){return arguments.length?(e=vv(t),r):e},r.path=function(n){return arguments.length?(t=vv(n),r):t},r};function Zv(t){let n=t.length;if(n<2)return"";for(;--n>1&&!Qv(t,n););return t.slice(0,n)}function Qv(t,n){if("/"===t[n]){let e=0;for(;n>0&&"\\"===t[--n];)++e;if(0==(1&e))return!0}return!1}function Kv(t,n){return t.parent===n.parent?1:2}function Jv(t){var n=t.children;return n?n[0]:t.t}function ty(t){var n=t.children;return n?n[n.length-1]:t.t}function ny(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function ey(t,n,e){return t.a.parent===n.parent?t.a:e}function ry(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}ry.prototype=Object.create(gv.prototype);var iy=function(){var t=Kv,n=1,e=1,r=null;function i(i){var c=function(t){for(var n,e,r,i,o,u=new ry(t,0),a=[u];n=a.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new ry(r[i],i)),e.parent=n;return(u.parent=new ry(null,0)).children=[u],u}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(u),r)i.eachBefore(a);else{var f=i,s=i,l=i;i.eachBefore((function(t){t.x<f.x&&(f=t),t.x>s.x&&(s=t),t.depth>l.depth&&(l=t)}));var h=f===s?1:t(f,s)/2,d=h-f.x,p=n/(s.x+h+d),g=e/(l.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*g}))}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,o=n,u=n,a=e,c=o.parent.children[0],f=o.m,s=u.m,l=a.m,h=c.m;a=ty(a),o=Jv(o),a&&o;)c=Jv(c),(u=ty(u)).a=n,(i=a.z+l-o.z-f+t(a._,o._))>0&&(ny(ey(a,n,r),n,i),f+=i,s+=i),l+=a.m,f+=o.m,h+=c.m,s+=u.m;a&&!ty(u)&&(u.t=a,u.m+=l-s),o&&!Jv(c)&&(c.t=o,c.m+=f-h,r=n)}return r}(n,i,n.parent.A||r[0])}function u(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},oy=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,f=t.value&&(i-e)/t.value;++a<c;)(o=u[a]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*f},uy=(1+Math.sqrt(5))/2;function ay(t,n,e,r,i,o){for(var u,a,c,f,s,l,h,d,p,g,v,y=[],_=n.children,m=0,b=0,x=_.length,w=n.value;m<x;){c=i-e,f=o-r;do{s=_[b++].value}while(!s&&b<x);for(l=h=s,v=s*s*(g=Math.max(f/c,c/f)/(w*t)),p=Math.max(h/v,v/l);b<x;++b){if(s+=a=_[b].value,a<l&&(l=a),a>h&&(h=a),v=s*s*g,(d=Math.max(h/v,v/l))>p){s-=a;break}p=d}y.push(u={value:s,dice:c<f,children:_.slice(m,b)}),u.dice?Uv(u,e,r,i,w?r+=f*s/w:o):oy(u,e,r,w?e+=c*s/w:i,o),w-=s,m=b}return y}var cy=function t(n){function e(t,e,r,i,o){ay(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(uy),fy=function(){var t=cy,n=!1,e=1,r=1,i=[0],o=_v,u=_v,a=_v,c=_v,f=_v;function s(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(l),i=[0],n&&t.eachBefore(Lv),t}function l(n){var e=i[n.depth],r=n.x0+e,s=n.y0+e,l=n.x1-e,h=n.y1-e;l<r&&(r=l=(r+l)/2),h<s&&(s=h=(s+h)/2),n.x0=r,n.y0=s,n.x1=l,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=f(n)-e,s+=u(n)-e,(l-=a(n)-e)<r&&(r=l=(r+l)/2),(h-=c(n)-e)<s&&(s=h=(s+h)/2),t(n,r,s,l,h))}return s.round=function(t){return arguments.length?(n=!!t,s):n},s.size=function(t){return arguments.length?(e=+t[0],r=+t[1],s):[e,r]},s.tile=function(n){return arguments.length?(t=yv(n),s):t},s.padding=function(t){return arguments.length?s.paddingInner(t).paddingOuter(t):s.paddingInner()},s.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:mv(+t),s):o},s.paddingOuter=function(t){return arguments.length?s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):s.paddingTop()},s.paddingTop=function(t){return arguments.length?(u="function"==typeof t?t:mv(+t),s):u},s.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:mv(+t),s):a},s.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:mv(+t),s):c},s.paddingLeft=function(t){return arguments.length?(f="function"==typeof t?t:mv(+t),s):f},s},sy=function(t,n,e,r,i){var o,u,a=t.children,c=a.length,f=new Array(c+1);for(f[0]=u=o=0;o<c;++o)f[o+1]=u+=a[o].value;!function t(n,e,r,i,o,u,c){if(n>=e-1){var s=a[n];return s.x0=i,s.y0=o,s.x1=u,void(s.y1=c)}var l=f[n],h=r/2+l,d=n+1,p=e-1;for(;d<p;){var g=d+p>>>1;f[g]<h?d=g+1:p=g}h-f[d-1]<f[d]-h&&n+1<d&&--d;var v=f[d]-l,y=r-v;if(u-i>c-o){var _=r?(i*y+u*v)/r:u;t(n,d,v,i,o,_,c),t(d,e,y,_,o,u,c)}else{var m=r?(o*y+c*v)/r:c;t(n,d,v,i,o,u,m),t(d,e,y,i,m,u,c)}}(0,c,t.value,n,e,r,i)},ly=function(t,n,e,r,i){(1&t.depth?oy:Uv)(t,n,e,r,i)},hy=function t(n){function e(t,e,r,i,o){if((u=t._squarify)&&u.ratio===n)for(var u,a,c,f,s,l=-1,h=u.length,d=t.value;++l<h;){for(c=(a=u[l]).children,f=a.value=0,s=c.length;f<s;++f)a.value+=c[f].value;a.dice?Uv(a,e,r,i,d?r+=(o-r)*a.value/d:o):oy(a,e,r,d?e+=(i-e)*a.value/d:i,o),d-=a.value}else t._squarify=u=ay(n,t,e,r,i,o),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(uy),dy=function(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}},py=function(t,n){var e=Cr(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},gy=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}};function vy(t){return((t=Math.exp(t))+1/t)/2}var yy=function t(n,e,r){function i(t,i){var o,u,a=t[0],c=t[1],f=t[2],s=i[0],l=i[1],h=i[2],d=s-a,p=l-c,g=d*d+p*p;if(g<1e-12)u=Math.log(h/f)/n,o=function(t){return[a+t*d,c+t*p,f*Math.exp(n*t*u)]};else{var v=Math.sqrt(g),y=(h*h-f*f+r*g)/(2*f*e*v),_=(h*h-f*f-r*g)/(2*h*e*v),m=Math.log(Math.sqrt(y*y+1)-y),b=Math.log(Math.sqrt(_*_+1)-_);u=(b-m)/n,o=function(t){var r,i=t*u,o=vy(m),s=f/(e*v)*(o*(r=n*i+m,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[a+s*d,c+s*p,f*o/vy(n*i+m)]}}return o.duration=1e3*u*n/Math.SQRT2,o}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i}(Math.SQRT2,2,4);function _y(t){return function(n,e){var r=t((n=br(n)).h,(e=br(e)).h),i=zr(n.s,e.s),o=zr(n.l,e.l),u=zr(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}var my=_y(Cr),by=_y(zr);function xy(t,n){var e=zr((t=qa(t)).l,(n=qa(n)).l),r=zr(t.a,n.a),i=zr(t.b,n.b),o=zr(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}function wy(t){return function(n,e){var r=t((n=Xa(n)).h,(e=Xa(e)).h),i=zr(n.c,e.c),o=zr(n.l,e.l),u=zr(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}var My=wy(Cr),Ay=wy(zr);function Ty(t){return function n(e){function r(n,r){var i=t((n=nc(n)).h,(r=nc(r)).h),o=zr(n.s,r.s),u=zr(n.l,r.l),a=zr(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}var Sy=Ty(Cr),Ey=Ty(zr);function Ny(t,n){void 0===n&&(n=t,t=Xr);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}var ky=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},Cy=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},Py=function(t){for(var n,e,r=-1,i=t.length,o=0,u=0,a=t[i-1],c=0;++r<i;)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return[o/(c*=3),u/c]};function zy(t,n){return t[0]-n[0]||t[1]-n[1]}function Iy(t){const n=t.length,e=[0,1];let r,i=2;for(r=2;r<n;++r){for(;i>1&&(o=t[e[i-2]],u=t[e[i-1]],a=t[r],(u[0]-o[0])*(a[1]-o[1])-(u[1]-o[1])*(a[0]-o[0])<=0);)--i;e[i++]=r}var o,u,a;return e.slice(0,i)}var Ry=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(zy),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Iy(r),u=Iy(i),a=u[0]===o[0],c=u[u.length-1]===o[o.length-1],f=[];for(n=o.length-1;n>=0;--n)f.push(t[r[o[n]][2]]);for(n=+a;n<u.length-c;++n)f.push(t[r[u[n]][2]]);return f},$y=function(t,n){for(var e,r,i=t.length,o=t[i-1],u=n[0],a=n[1],c=o[0],f=o[1],s=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>a!=f>a&&u<(c-e)*(a-r)/(f-r)+e&&(s=!s),c=e,f=r;return s},Dy=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],u=o[0],a=o[1],c=0;++r<i;)n=u,e=a,n-=u=(o=t[r])[0],e-=a=o[1],c+=Math.hypot(n,e);return c},By=Math.random,Fy=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(By),qy=function t(n){function e(t,e){return arguments.length<2&&(e=t,t=0),t=Math.floor(t),e=Math.floor(e)-t,function(){return Math.floor(n()*e+t)}}return e.source=t,e}(By),Oy=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(By),Ly=function t(n){var e=Oy.source(n);function r(){var t=e.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(By),Uy=function t(n){function e(t){return(t=+t)<=0?()=>0:function(){for(var e=0,r=t;r>1;--r)e+=n();return e+r*n()}}return e.source=t,e}(By),jy=function t(n){var e=Uy.source(n);function r(t){if(0==(t=+t))return n;var r=e(t);return function(){return r()/t}}return r.source=t,r}(By),Yy=function t(n){function e(t){return function(){return-Math.log1p(-n())/t}}return e.source=t,e}(By),Hy=function t(n){function e(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-n(),t)}}return e.source=t,e}(By),Vy=function t(n){function e(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(n()+t)}}return e.source=t,e}(By),Xy=function t(n){function e(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-n())/t)})}return e.source=t,e}(By),Gy=function t(n){var e=Oy.source(n)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-n())*r;var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),u=t<1?()=>Math.pow(n(),1/t):()=>1;return function(){do{do{var t=e(),a=1+o*t}while(a<=0);a*=a*a;var c=1-n()}while(c>=1-.0331*t*t*t*t&&Math.log(c)>=.5*t*t+i*(1-a+Math.log(a)));return i*a*u()*r}}return r.source=t,r}(By),Wy=function t(n){var e=Gy.source(n);function r(t,n){var r=e(t),i=e(n);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(By),Zy=function t(n){var e=Xy.source(n),r=Wy.source(n);function i(t,n){return t=+t,(n=+n)>=1?()=>t:n<=0?()=>0:function(){for(var i=0,o=t,u=n;o*u>16&&o*(1-u)>16;){var a=Math.floor((o+1)*u),c=r(a,o-a+1)();c<=u?(i+=a,o-=a,u=(u-c)/(1-c)):(o=a-1,u/=c)}for(var f=u<.5,s=e(f?u:1-u),l=s(),h=0;l<=o;++h)l+=s();return i+(f?h:o-h)}}return i.source=t,i}(By),Qy=function t(n){function e(t,e,r){var i;return 0==(t=+t)?i=t=>-Math.log(t):(t=1/t,i=n=>Math.pow(n,t)),e=null==e?0:+e,r=null==r?1:+r,function(){return e+r*i(-Math.log1p(-n()))}}return e.source=t,e}(By),Ky=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,function(){return t+e*Math.tan(Math.PI*n())}}return e.source=t,e}(By),Jy=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,function(){var r=n();return t+e*Math.log(r/(1-r))}}return e.source=t,e}(By),t_=function t(n){var e=Gy.source(n),r=Zy.source(n);function i(t){return function(){for(var i=0,o=t;o>16;){var u=Math.floor(.875*o),a=e(u)();if(a>o)return i+r(u-1,o/a)();i+=u,o-=a}for(var c=-Math.log1p(-n()),f=0;c<=o;++f)c-=Math.log1p(-n());return i+f}}return i.source=t,i}(By);const n_=1/4294967296;function e_(t=Math.random()){let n=0|(0<=t&&t<1?t/n_:Math.abs(t));return()=>(n=1664525*n+1013904223|0,n_*(n>>>0))}function r_(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function i_(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}const o_=Symbol("implicit");function u_(){var t=new R,n=[],e=[],r=o_;function i(i){let o=t.get(i);if(void 0===o){if(r!==o_)return r;t.set(i,o=n.push(i)-1)}return e[o%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new R;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return u_(n,e).unknown(r)},r_.apply(i,arguments),i}function a_(){var t,n,e=u_().unknown(void 0),r=e.domain,i=e.range,o=0,u=1,a=!1,c=0,f=0,s=.5;function l(){var e=r().length,l=u<o,h=l?u:o,d=l?o:u;t=(d-h)/Math.max(1,e-c+2*f),a&&(t=Math.floor(t)),h+=(d-h-t*(e-c))*s,n=t*(1-c),a&&(h=Math.round(h),n=Math.round(n));var p=$t(e).map((function(n){return h+t*n}));return i(l?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),l()):r()},e.range=function(t){return arguments.length?([o,u]=t,o=+o,u=+u,l()):[o,u]},e.rangeRound=function(t){return[o,u]=t,o=+o,u=+u,a=!0,l()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(a=!!t,l()):a},e.padding=function(t){return arguments.length?(c=Math.min(1,f=+t),l()):c},e.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),l()):c},e.paddingOuter=function(t){return arguments.length?(f=+t,l()):f},e.align=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),l()):s},e.copy=function(){return a_(r(),[o,u]).round(a).paddingInner(c).paddingOuter(f).align(s)},r_.apply(l(),arguments)}function c_(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return c_(n())},t}function f_(){return c_(a_.apply(null,arguments).paddingInner(1))}function s_(t){return+t}var l_=[0,1];function h_(t){return t}function d_(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function p_(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=d_(i,r),o=e(u,o)):(r=d_(r,i),o=e(o,u)),function(t){return o(r(t))}}function g_(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=d_(t[u],t[u+1]),o[u]=e(n[u],n[u+1]);return function(n){var e=p(t,n,1,r)-1;return o[e](i[e](n))}}function v_(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function y_(){var t,n,e,r,i,o,u=l_,a=l_,c=Xr,f=h_;function s(){var t,n,e,c=Math.min(u.length,a.length);return f!==h_&&(t=u[0],n=u[c-1],t>n&&(e=t,t=n,n=e),f=function(e){return Math.max(t,Math.min(n,e))}),r=c>2?g_:p_,i=o=null,l}function l(n){return null==n||isNaN(n=+n)?e:(i||(i=r(u.map(t),a,c)))(t(f(n)))}return l.invert=function(e){return f(n((o||(o=r(a,u.map(t),Ur)))(e)))},l.domain=function(t){return arguments.length?(u=Array.from(t,s_),s()):u.slice()},l.range=function(t){return arguments.length?(a=Array.from(t),s()):a.slice()},l.rangeRound=function(t){return a=Array.from(t),c=gy,s()},l.clamp=function(t){return arguments.length?(f=!!t||h_,s()):f!==h_},l.interpolate=function(t){return arguments.length?(c=t,s()):c},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,s()}}function __(){return y_()(h_,h_)}var m_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function b_(t){if(!(n=m_.exec(t)))throw new Error("invalid format: "+t);var n;return new x_({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function x_(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}b_.prototype=x_.prototype,x_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function w_(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}var M_,A_,T_,S_,E_=function(t){return(t=w_(Math.abs(t)))?t[1]:NaN},N_=function(t,n){var e=w_(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},k_={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>N_(100*t,n),r:N_,s:function(t,n){var e=w_(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(M_=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+w_(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},C_=function(t){return t},P_=Array.prototype.map,z_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];A_=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?C_:(n=P_.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=n[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(t.substring(i-=a,i+a)),!((c+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?C_:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(P_.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",f=void 0===t.minus?"−":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function l(t){var n=(t=b_(t)).fill,e=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,v=t.precision,y=t.trim,_=t.type;"n"===_?(g=!0,_="g"):k_[_]||(void 0===v&&(v=12),y=!0,_="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var m="$"===h?i:"#"===h&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",b="$"===h?o:/[%p]/.test(_)?c:"",x=k_[_],w=/[defgprs%]/.test(_);function M(t){var i,o,c,h=m,M=b;if("c"===_)M=x(t)+M,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:x(Math.abs(t),v),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),A&&0==+t&&"+"!==l&&(A=!1),h=(A?"("===l?l:f:"-"===l||"("===l?"":l)+h,M=("s"===_?z_[8+M_/3]:"")+M+(A&&"("===l?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){M=(46===c?u+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var T=h.length+t.length+M.length,S=T<p?new Array(p-T+1).join(n):"";switch(g&&d&&(t=r(S+t,S.length?p-M.length:1/0),S=""),e){case"<":t=h+t+M+S;break;case"=":t=h+S+t+M;break;case"^":t=S.slice(0,T=S.length>>1)+h+t+M+S.slice(T);break;default:t=S+h+t+M}return a(t)}return v=void 0===v?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,n){var e=l(((t=b_(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(E_(n)/3))),i=Math.pow(10,-r),o=z_[8+r/3];return function(t){return e(i*t)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),T_=A_.format,S_=A_.formatPrefix;function I_(t,n,e,r){var i,o=ht(t,n,e);switch((r=b_(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(E_(n)/3)))-E_(Math.abs(t)))}(o,u))||(r.precision=i),S_(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,E_(n)-E_(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-E_(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return T_(r)}function R_(t){var n=t.domain;return t.ticks=function(t){var e=n();return st(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return I_(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),u=0,a=o.length-1,c=o[u],f=o[a],s=10;for(f<c&&(i=c,c=f,f=i,i=u,u=a,a=i);s-- >0;){if((i=lt(c,f,e))===r)return o[u]=c,o[a]=f,n(o);if(i>0)c=Math.floor(c/i)*i,f=Math.ceil(f/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,f=Math.floor(f*i)/i}r=i}return t},t}function $_(){var t=__();return t.copy=function(){return v_(t,$_())},r_.apply(t,arguments),R_(t)}function D_(t){var n;function e(t){return null==t||isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Array.from(n,s_),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return D_(t).unknown(n)},t=arguments.length?Array.from(t,s_):[0,1],R_(e)}function B_(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t}function F_(t){return Math.log(t)}function q_(t){return Math.exp(t)}function O_(t){return-Math.log(-t)}function L_(t){return-Math.exp(-t)}function U_(t){return isFinite(t)?+("1e"+t):t<0?0:t}function j_(t){return(n,e)=>-t(-n,e)}function Y_(t){const n=t(F_,q_),e=n.domain;let r,i,o=10;function u(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}(o),i=function(t){return 10===t?U_:t===Math.E?Math.exp:n=>Math.pow(t,n)}(o),e()[0]<0?(r=j_(r),i=j_(i),t(O_,L_)):t(F_,q_),n}return n.base=function(t){return arguments.length?(o=+t,u()):o},n.domain=function(t){return arguments.length?(e(t),u()):e()},n.ticks=t=>{const n=e();let u=n[0],a=n[n.length-1];const c=a<u;c&&([u,a]=[a,u]);let f,s,l=r(u),h=r(a);const d=null==t?10:+t;let p=[];if(!(o%1)&&h-l<d){if(l=Math.floor(l),h=Math.ceil(h),u>0){for(;l<=h;++l)for(f=1;f<o;++f)if(s=l<0?f/i(-l):f*i(l),!(s<u)){if(s>a)break;p.push(s)}}else for(;l<=h;++l)for(f=o-1;f>=1;--f)if(s=l>0?f/i(-l):f*i(l),!(s<u)){if(s>a)break;p.push(s)}2*p.length<d&&(p=st(u,a,d))}else p=st(l,h,Math.min(h-l,d)).map(i);return c?p.reverse():p},n.tickFormat=(t,e)=>{if(null==t&&(t=10),null==e&&(e=10===o?"s":","),"function"!=typeof e&&(o%1||null!=(e=b_(e)).precision||(e.trim=!0),e=T_(e)),t===1/0)return e;const u=Math.max(1,o*t/n.ticks().length);return t=>{let n=t/i(Math.round(r(t)));return n*o<o-.5&&(n*=o),n<=u?e(t):""}},n.nice=()=>e(B_(e(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),n}function H_(){const t=Y_(y_()).domain([1,10]);return t.copy=()=>v_(t,H_()).base(t.base()),r_.apply(t,arguments),t}function V_(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function X_(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function G_(t){var n=1,e=t(V_(n),X_(n));return e.constant=function(e){return arguments.length?t(V_(n=+e),X_(n)):n},R_(e)}function W_(){var t=G_(y_());return t.copy=function(){return v_(t,W_()).constant(t.constant())},r_.apply(t,arguments)}function Z_(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Q_(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function K_(t){return t<0?-t*t:t*t}function J_(t){var n=t(h_,h_),e=1;function r(){return 1===e?t(h_,h_):.5===e?t(Q_,K_):t(Z_(e),Z_(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},R_(n)}function tm(){var t=J_(y_());return t.copy=function(){return v_(t,tm()).exponent(t.exponent())},r_.apply(t,arguments),t}function nm(){return tm.apply(null,arguments).exponent(.5)}function em(t){return Math.sign(t)*t*t}function rm(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function im(){var t,n=__(),e=[0,1],r=!1;function i(e){var i=rm(n(e));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return n.invert(em(t))},i.domain=function(t){return arguments.length?(n.domain(t),i):n.domain()},i.range=function(t){return arguments.length?(n.range((e=Array.from(t,s_)).map(em)),i):e.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(n.clamp(t),i):n.clamp()},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return im(n.domain(),e).round(r).clamp(n.clamp()).unknown(t)},r_.apply(i,arguments),R_(i)}function om(){var t,n=[],e=[],r=[];function o(){var t=0,i=Math.max(1,e.length);for(r=new Array(i-1);++t<i;)r[t-1]=At(n,t/i);return u}function u(n){return null==n||isNaN(n=+n)?t:e[p(r,n)]}return u.invertExtent=function(t){var i=e.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:n[0],i<r.length?r[i]:n[n.length-1]]},u.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(i),o()},u.range=function(t){return arguments.length?(e=Array.from(t),o()):e.slice()},u.unknown=function(n){return arguments.length?(t=n,u):t},u.quantiles=function(){return r.slice()},u.copy=function(){return om().domain(n).range(e).unknown(t)},r_.apply(u,arguments)}function um(){var t,n=0,e=1,r=1,i=[.5],o=[0,1];function u(n){return null!=n&&n<=n?o[p(i,n,0,r)]:t}function a(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*e-(t-r)*n)/(r+1);return u}return u.domain=function(t){return arguments.length?([n,e]=t,n=+n,e=+e,a()):[n,e]},u.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,a()):o.slice()},u.invertExtent=function(t){var u=o.indexOf(t);return u<0?[NaN,NaN]:u<1?[n,i[0]]:u>=r?[i[r-1],e]:[i[u-1],i[u]]},u.unknown=function(n){return arguments.length?(t=n,u):u},u.thresholds=function(){return i.slice()},u.copy=function(){return um().domain([n,e]).range(o).unknown(t)},r_.apply(R_(u),arguments)}function am(){var t,n=[.5],e=[0,1],r=1;function i(i){return null!=i&&i<=i?e[p(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return am().domain(n).range(e).unknown(t)},r_.apply(i,arguments)}const cm=new Date,fm=new Date;function sm(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=n=>(t(n=new Date(+n)),n),i.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),i.round=t=>{const n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),i.range=(e,r,o)=>{const u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;let a;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=e=>sm(n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},(t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}),e&&(i.count=(n,r)=>(cm.setTime(+n),fm.setTime(+r),t(cm),t(fm),Math.floor(e(cm,fm))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?n=>r(n)%t==0:n=>i.count(0,n)%t==0):i:null)),i}const lm=sm(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);lm.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?sm(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):lm:null);const hm=lm.range,dm=sm(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+1e3*n)},(t,n)=>(n-t)/1e3,t=>t.getUTCSeconds()),pm=dm.range,gm=sm(t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},(t,n)=>{t.setTime(+t+6e4*n)},(t,n)=>(n-t)/6e4,t=>t.getMinutes()),vm=gm.range,ym=sm(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+6e4*n)},(t,n)=>(n-t)/6e4,t=>t.getUTCMinutes()),_m=ym.range,mm=sm(t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},(t,n)=>{t.setTime(+t+36e5*n)},(t,n)=>(n-t)/36e5,t=>t.getHours()),bm=mm.range,xm=sm(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+36e5*n)},(t,n)=>(n-t)/36e5,t=>t.getUTCHours()),wm=xm.range,Mm=sm(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5,t=>t.getDate()-1),Am=Mm.range,Tm=sm(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/864e5,t=>t.getUTCDate()-1),Sm=Tm.range,Em=sm(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/864e5,t=>Math.floor(t/864e5)),Nm=Em.range;function km(t){return sm(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+7*n)},(t,n)=>(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5)}const Cm=km(0),Pm=km(1),zm=km(2),Im=km(3),Rm=km(4),$m=km(5),Dm=km(6),Bm=Cm.range,Fm=Pm.range,qm=zm.range,Om=Im.range,Lm=Rm.range,Um=$m.range,jm=Dm.range;function Ym(t){return sm(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)},(t,n)=>(n-t)/6048e5)}const Hm=Ym(0),Vm=Ym(1),Xm=Ym(2),Gm=Ym(3),Wm=Ym(4),Zm=Ym(5),Qm=Ym(6),Km=Hm.range,Jm=Vm.range,tb=Xm.range,nb=Gm.range,eb=Wm.range,rb=Zm.range,ib=Qm.range,ob=sm(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear()),t=>t.getMonth()),ub=ob.range,ab=sm(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth()),cb=ab.range,fb=sm(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());fb.every=t=>isFinite(t=Math.floor(t))&&t>0?sm(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)}):null;const sb=fb.range,lb=sm(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());lb.every=t=>isFinite(t=Math.floor(t))&&t>0?sm(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null;const hb=lb.range;function db(t,n,e,r,i,o){const a=[[dm,1,1e3],[dm,5,5e3],[dm,15,15e3],[dm,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[e,1,6048e5],[n,1,2592e6],[n,3,7776e6],[t,1,31536e6]];function c(n,e,r){const i=Math.abs(e-n)/r,o=u(([,,t])=>t).right(a,i);if(o===a.length)return t.every(ht(n/31536e6,e/31536e6,r));if(0===o)return lm.every(Math.max(ht(n,e,r),1));const[c,f]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return c.every(f)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:c(t,n,e),o=i?i.range(t,+n+1):[];return r?o.reverse():o},c]}const[pb,gb]=db(lb,ab,Hm,Em,xm,ym),[vb,yb]=db(fb,ob,Cm,Mm,mm,gm);function _b(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mb(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bb(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function xb(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,c=t.shortMonths,f=Ib(i),s=Rb(i),l=Ib(o),h=Rb(o),d=Ib(u),p=Rb(u),g=Ib(a),v=Rb(a),y=Ib(c),_=Rb(c),m={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:nx,e:nx,f:ux,g:yx,G:mx,H:ex,I:rx,j:ix,L:ox,m:ax,M:cx,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Ux,s:jx,S:fx,u:sx,U:lx,V:dx,w:px,W:gx,x:null,X:null,y:vx,Y:_x,Z:bx,"%":Lx},b={a:function(t){return u[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:xx,e:xx,f:Sx,g:Bx,G:qx,H:wx,I:Mx,j:Ax,L:Tx,m:Ex,M:Nx,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Ux,s:jx,S:kx,u:Cx,U:Px,V:Ix,w:Rx,W:$x,x:null,X:null,y:Dx,Y:Fx,Z:Ox,"%":Lx},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=_.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=v.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return A(t,n,e,r)},d:Hb,e:Hb,f:Qb,g:Lb,G:Ob,H:Xb,I:Xb,j:Vb,L:Zb,m:Yb,M:Gb,p:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.p=s.get(r[0].toLowerCase()),e+r[0].length):-1},q:jb,Q:Jb,s:tx,S:Wb,u:Db,U:Bb,V:Fb,w:$b,W:qb,x:function(t,n,r){return A(t,e,n,r)},X:function(t,n,e){return A(t,r,n,e)},y:Lb,Y:Ob,Z:Ub,"%":Kb};function w(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,f=t.length;for(e instanceof Date||(e=new Date(+e));++a<f;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Eb[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function M(t,n){return function(e){var r,i,o=bb(1900,void 0,1);if(A(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=mb(bb(o.y,0,1))).getUTCDay(),r=i>4||0===i?Vm.ceil(r):Vm(r),r=Tm.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=_b(bb(o.y,0,1))).getDay(),r=i>4||0===i?Pm.ceil(r):Pm(r),r=Mm.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?mb(bb(o.y,0,1)).getUTCDay():_b(bb(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,mb(o)):_b(o)}}function A(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=x[i in Eb?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return m.x=w(e,m),m.X=w(r,m),m.c=w(n,m),b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),{format:function(t){var n=w(t+="",m);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}var wb,Mb,Ab,Tb,Sb,Eb={"-":"",_:" ",0:"0"},Nb=/^\s*\d+/,kb=/^%/,Cb=/[\\^$*+?|[\]().{}]/g;function Pb(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function zb(t){return t.replace(Cb,"\\$&")}function Ib(t){return new RegExp("^(?:"+t.map(zb).join("|")+")","i")}function Rb(t){return new Map(t.map((t,n)=>[t.toLowerCase(),n]))}function $b(t,n,e){var r=Nb.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Db(t,n,e){var r=Nb.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Bb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Fb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function qb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ob(t,n,e){var r=Nb.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Lb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Ub(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function jb(t,n,e){var r=Nb.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Yb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Hb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Vb(t,n,e){var r=Nb.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Xb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Gb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Wb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Zb(t,n,e){var r=Nb.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Qb(t,n,e){var r=Nb.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Kb(t,n,e){var r=kb.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Jb(t,n,e){var r=Nb.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function tx(t,n,e){var r=Nb.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function nx(t,n){return Pb(t.getDate(),n,2)}function ex(t,n){return Pb(t.getHours(),n,2)}function rx(t,n){return Pb(t.getHours()%12||12,n,2)}function ix(t,n){return Pb(1+Mm.count(fb(t),t),n,3)}function ox(t,n){return Pb(t.getMilliseconds(),n,3)}function ux(t,n){return ox(t,n)+"000"}function ax(t,n){return Pb(t.getMonth()+1,n,2)}function cx(t,n){return Pb(t.getMinutes(),n,2)}function fx(t,n){return Pb(t.getSeconds(),n,2)}function sx(t){var n=t.getDay();return 0===n?7:n}function lx(t,n){return Pb(Cm.count(fb(t)-1,t),n,2)}function hx(t){var n=t.getDay();return n>=4||0===n?Rm(t):Rm.ceil(t)}function dx(t,n){return t=hx(t),Pb(Rm.count(fb(t),t)+(4===fb(t).getDay()),n,2)}function px(t){return t.getDay()}function gx(t,n){return Pb(Pm.count(fb(t)-1,t),n,2)}function vx(t,n){return Pb(t.getFullYear()%100,n,2)}function yx(t,n){return Pb((t=hx(t)).getFullYear()%100,n,2)}function _x(t,n){return Pb(t.getFullYear()%1e4,n,4)}function mx(t,n){var e=t.getDay();return Pb((t=e>=4||0===e?Rm(t):Rm.ceil(t)).getFullYear()%1e4,n,4)}function bx(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Pb(n/60|0,"0",2)+Pb(n%60,"0",2)}function xx(t,n){return Pb(t.getUTCDate(),n,2)}function wx(t,n){return Pb(t.getUTCHours(),n,2)}function Mx(t,n){return Pb(t.getUTCHours()%12||12,n,2)}function Ax(t,n){return Pb(1+Tm.count(lb(t),t),n,3)}function Tx(t,n){return Pb(t.getUTCMilliseconds(),n,3)}function Sx(t,n){return Tx(t,n)+"000"}function Ex(t,n){return Pb(t.getUTCMonth()+1,n,2)}function Nx(t,n){return Pb(t.getUTCMinutes(),n,2)}function kx(t,n){return Pb(t.getUTCSeconds(),n,2)}function Cx(t){var n=t.getUTCDay();return 0===n?7:n}function Px(t,n){return Pb(Hm.count(lb(t)-1,t),n,2)}function zx(t){var n=t.getUTCDay();return n>=4||0===n?Wm(t):Wm.ceil(t)}function Ix(t,n){return t=zx(t),Pb(Wm.count(lb(t),t)+(4===lb(t).getUTCDay()),n,2)}function Rx(t){return t.getUTCDay()}function $x(t,n){return Pb(Vm.count(lb(t)-1,t),n,2)}function Dx(t,n){return Pb(t.getUTCFullYear()%100,n,2)}function Bx(t,n){return Pb((t=zx(t)).getUTCFullYear()%100,n,2)}function Fx(t,n){return Pb(t.getUTCFullYear()%1e4,n,4)}function qx(t,n){var e=t.getUTCDay();return Pb((t=e>=4||0===e?Wm(t):Wm.ceil(t)).getUTCFullYear()%1e4,n,4)}function Ox(){return"+0000"}function Lx(){return"%"}function Ux(t){return+t}function jx(t){return Math.floor(+t/1e3)}function Yx(t){return wb=xb(t),Mb=wb.format,Ab=wb.parse,Tb=wb.utcFormat,Sb=wb.utcParse,wb}function Hx(t){return new Date(t)}function Vx(t){return t instanceof Date?+t:+new Date(+t)}function Xx(t,n,e,r,i,o,u,a,c,f){var s=__(),l=s.invert,h=s.domain,d=f(".%L"),p=f(":%S"),g=f("%I:%M"),v=f("%I %p"),y=f("%a %d"),_=f("%b %d"),m=f("%B"),b=f("%Y");function x(t){return(c(t)<t?d:a(t)<t?p:u(t)<t?g:o(t)<t?v:r(t)<t?i(t)<t?y:_:e(t)<t?m:b)(t)}return s.invert=function(t){return new Date(l(t))},s.domain=function(t){return arguments.length?h(Array.from(t,Vx)):h().map(Hx)},s.ticks=function(n){var e=h();return t(e[0],e[e.length-1],null==n?10:n)},s.tickFormat=function(t,n){return null==n?x:f(n)},s.nice=function(t){var e=h();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?h(B_(e,t)):s},s.copy=function(){return v_(s,Xx(t,n,e,r,i,o,u,a,c,f))},s}function Gx(){return r_.apply(Xx(vb,yb,fb,ob,Cm,Mm,mm,gm,dm,Mb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wx(){return r_.apply(Xx(pb,gb,lb,ab,Hm,Tm,xm,ym,dm,Tb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zx(){var t,n,e,r,i,o=0,u=1,a=h_,c=!1;function f(n){return null==n||isNaN(n=+n)?i:a(0===e?.5:(n=(r(n)-t)*e,c?Math.max(0,Math.min(1,n)):n))}function s(t){return function(n){var e,r;return arguments.length?([e,r]=n,a=t(e,r),f):[a(0),a(1)]}}return f.domain=function(i){return arguments.length?([o,u]=i,t=r(o=+o),n=r(u=+u),e=t===n?0:1/(n-t),f):[o,u]},f.clamp=function(t){return arguments.length?(c=!!t,f):c},f.interpolator=function(t){return arguments.length?(a=t,f):a},f.range=s(Xr),f.rangeRound=s(gy),f.unknown=function(t){return arguments.length?(i=t,f):i},function(i){return r=i,t=i(o),n=i(u),e=t===n?0:1/(n-t),f}}function Qx(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Kx(){var t=R_(Zx()(h_));return t.copy=function(){return Qx(t,Kx())},i_.apply(t,arguments)}function Jx(){var t=Y_(Zx()).domain([1,10]);return t.copy=function(){return Qx(t,Jx()).base(t.base())},i_.apply(t,arguments)}function tw(){var t=G_(Zx());return t.copy=function(){return Qx(t,tw()).constant(t.constant())},i_.apply(t,arguments)}function nw(){var t=J_(Zx());return t.copy=function(){return Qx(t,nw()).exponent(t.exponent())},i_.apply(t,arguments)}function ew(){return nw.apply(null,arguments).exponent(.5)}function rw(){var t=[],n=h_;function e(e){if(null!=e&&!isNaN(e=+e))return n((p(t,e,1)-1)/(t.length-1))}return e.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let e of n)null==e||isNaN(e=+e)||t.push(e);return t.sort(i),e},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},e.quantiles=function(n){return Array.from({length:n+1},(e,r)=>Mt(t,r/n))},e.copy=function(){return rw(n).domain(t)},i_.apply(e,arguments)}function iw(){var t,n,e,r,i,o,u,a=0,c=.5,f=1,s=1,l=h_,h=!1;function d(t){return isNaN(t=+t)?u:(t=.5+((t=+o(t))-n)*(s*t<s*n?r:i),l(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(n){var e,r,i;return arguments.length?([e,r,i]=n,l=Ny(t,[e,r,i]),d):[l(0),l(.5),l(1)]}}return d.domain=function(u){return arguments.length?([a,c,f]=u,t=o(a=+a),n=o(c=+c),e=o(f=+f),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),s=n<t?-1:1,d):[a,c,f]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(l=t,d):l},d.range=p(Xr),d.rangeRound=p(gy),d.unknown=function(t){return arguments.length?(u=t,d):u},function(u){return o=u,t=u(a),n=u(c),e=u(f),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),s=n<t?-1:1,d}}function ow(){var t=R_(iw()(h_));return t.copy=function(){return Qx(t,ow())},i_.apply(t,arguments)}function uw(){var t=Y_(iw()).domain([.1,1,10]);return t.copy=function(){return Qx(t,uw()).base(t.base())},i_.apply(t,arguments)}function aw(){var t=G_(iw());return t.copy=function(){return Qx(t,aw()).constant(t.constant())},i_.apply(t,arguments)}function cw(){var t=J_(iw());return t.copy=function(){return Qx(t,cw()).exponent(t.exponent())},i_.apply(t,arguments)}function fw(){return cw.apply(null,arguments).exponent(.5)}Yx({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var sw=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e},lw=sw("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),hw=sw("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),dw=sw("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),pw=sw("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),gw=sw("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),vw=sw("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),yw=sw("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),_w=sw("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),mw=sw("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),bw=sw("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),xw=t=>$r(t[t.length-1]),ww=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(sw),Mw=xw(ww),Aw=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(sw),Tw=xw(Aw),Sw=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(sw),Ew=xw(Sw),Nw=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(sw),kw=xw(Nw),Cw=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(sw),Pw=xw(Cw),zw=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(sw),Iw=xw(zw),Rw=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(sw),$w=xw(Rw),Dw=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(sw),Bw=xw(Dw),Fw=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(sw),qw=xw(Fw),Ow=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(sw),Lw=xw(Ow),Uw=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(sw),jw=xw(Uw),Yw=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(sw),Hw=xw(Yw),Vw=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(sw),Xw=xw(Vw),Gw=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(sw),Ww=xw(Gw),Zw=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(sw),Qw=xw(Zw),Kw=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(sw),Jw=xw(Kw),tM=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(sw),nM=xw(tM),eM=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(sw),rM=xw(eM),iM=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(sw),oM=xw(iM),uM=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(sw),aM=xw(uM),cM=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(sw),fM=xw(cM),sM=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(sw),lM=xw(sM),hM=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(sw),dM=xw(hM),pM=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(sw),gM=xw(pM),vM=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(sw),yM=xw(vM),_M=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(sw),mM=xw(_M),bM=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(sw),xM=xw(bM),wM=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},MM=Ey(nc(300,.5,0),nc(-240,.5,1)),AM=Ey(nc(-100,.75,.35),nc(80,1.5,.8)),TM=Ey(nc(260,.75,.35),nc(80,1.5,.8)),SM=nc(),EM=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return SM.h=360*t-100,SM.s=1.5-1.5*n,SM.l=.8-.9*n,SM+""},NM=lr(),kM=Math.PI/3,CM=2*Math.PI/3,PM=function(t){var n;return t=(.5-t)*Math.PI,NM.r=255*(n=Math.sin(t))*n,NM.g=255*(n=Math.sin(t+kM))*n,NM.b=255*(n=Math.sin(t+CM))*n,NM+""},zM=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"};function IM(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var RM=IM(sw("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),$M=IM(sw("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),DM=IM(sw("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),BM=IM(sw("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),FM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qM=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),FM.hasOwnProperty(n)?{space:FM[n],local:t}:t};function OM(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===e&&"http://www.w3.org/1999/xhtml"===n.documentElement.namespaceURI?n.createElement(t):n.createElementNS(e,t)}}function LM(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var UM=function(t){var n=qM(t);return(n.local?LM:OM)(n)};function jM(){}var YM=function(t){return null==t?jM:function(){return this.querySelector(t)}};function HM(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function VM(){return[]}var XM=function(t){return null==t?VM:function(){return this.querySelectorAll(t)}};var GM=function(t){return function(){return this.matches(t)}};function WM(t){return function(n){return n.matches(t)}}var ZM=Array.prototype.find;function QM(){return this.firstElementChild}var KM=Array.prototype.filter;function JM(){return Array.from(this.children)}var tA=function(t){return new Array(t.length)};function nA(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}nA.prototype={constructor:nA,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var eA=function(t){return function(){return t}};function rA(t,n,e,r,i,o){for(var u,a=0,c=n.length,f=o.length;a<f;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new nA(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function iA(t,n,e,r,i,o,u){var a,c,f,s=new Map,l=n.length,h=o.length,d=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(d[a]=f=u.call(c,c.__data__,a,n)+"",s.has(f)?i[a]=c:s.set(f,c));for(a=0;a<h;++a)f=u.call(t,o[a],a,o)+"",(c=s.get(f))?(r[a]=c,c.__data__=o[a],s.delete(f)):e[a]=new nA(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&s.get(d[a])===c&&(i[a]=c)}function oA(t){return t.__data__}function uA(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function aA(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function cA(t){return function(){this.removeAttribute(t)}}function fA(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sA(t,n){return function(){this.setAttribute(t,n)}}function lA(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function hA(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function dA(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var pA=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function gA(t){return function(){this.style.removeProperty(t)}}function vA(t,n,e){return function(){this.style.setProperty(t,n,e)}}function yA(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function _A(t,n){return t.style.getPropertyValue(n)||pA(t).getComputedStyle(t,null).getPropertyValue(n)}function mA(t){return function(){delete this[t]}}function bA(t,n){return function(){this[t]=n}}function xA(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function wA(t){return t.trim().split(/^|\s+/)}function MA(t){return t.classList||new AA(t)}function AA(t){this._node=t,this._names=wA(t.getAttribute("class")||"")}function TA(t,n){for(var e=MA(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function SA(t,n){for(var e=MA(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function EA(t){return function(){TA(this,t)}}function NA(t){return function(){SA(this,t)}}function kA(t,n){return function(){(n.apply(this,arguments)?TA:SA)(this,t)}}AA.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function CA(){this.textContent=""}function PA(t){return function(){this.textContent=t}}function zA(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function IA(){this.innerHTML=""}function RA(t){return function(){this.innerHTML=t}}function $A(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function DA(){this.nextSibling&&this.parentNode.appendChild(this)}function BA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function FA(){return null}function qA(){var t=this.parentNode;t&&t.removeChild(this)}function OA(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function LA(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function UA(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function jA(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function YA(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function HA(t,n,e){var r=pA(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function VA(t,n){return function(){return HA(this,t,n)}}function XA(t,n){return function(){return HA(this,t,n.apply(this,arguments))}}var GA=[null];function WA(t,n){this._groups=t,this._parents=n}function ZA(){return new WA([[document.documentElement]],GA)}WA.prototype=ZA.prototype={constructor:WA,select:function(t){"function"!=typeof t&&(t=YM(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,f=r[i]=new Array(c),s=0;s<c;++s)(o=a[s])&&(u=t.call(o,o.__data__,s,a))&&("__data__"in o&&(u.__data__=o.__data__),f[s]=u);return new WA(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return HM(t.apply(this,arguments))}}(t):XM(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,f=0;f<c;++f)(u=a[f])&&(r.push(t.call(u,u.__data__,f,a)),i.push(u));return new WA(r,i)},selectChild:function(t){return this.select(null==t?QM:function(t){return function(){return ZM.call(this.children,t)}}("function"==typeof t?t:WM(t)))},selectChildren:function(t){return this.selectAll(null==t?JM:function(t){return function(){return KM.call(this.children,t)}}("function"==typeof t?t:WM(t)))},filter:function(t){"function"!=typeof t&&(t=GM(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],f=0;f<a;++f)(o=u[f])&&t.call(o,o.__data__,f,u)&&c.push(o);return new WA(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,oA);var e=n?iA:rA,r=this._parents,i=this._groups;"function"!=typeof t&&(t=eA(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),f=0;f<o;++f){var s=r[f],l=i[f],h=l.length,d=uA(t.call(s,s&&s.__data__,f,r)),p=d.length,g=a[f]=new Array(p),v=u[f]=new Array(p),y=c[f]=new Array(h);e(s,l,g,v,y,d,n);for(var _,m,b=0,x=0;b<p;++b)if(_=g[b]){for(b>=x&&(x=b+1);!(m=v[x])&&++x<p;);_._next=m||null}}return(u=new WA(u,r))._enter=a,u._exit=c,u},enter:function(){return new WA(this._enter||this._groups.map(tA),this._parents)},exit:function(){return new WA(this._exit||this._groups.map(tA),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,u=Math.min(i,o),a=new Array(i),c=0;c<u;++c)for(var f,s=e[c],l=r[c],h=s.length,d=a[c]=new Array(h),p=0;p<h;++p)(f=s[p]||l[p])&&(d[p]=f);for(;c<i;++c)a[c]=e[c];return new WA(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=aA);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,f=i[o]=new Array(c),s=0;s<c;++s)(u=a[s])&&(f[s]=u);f.sort(n)}return new WA(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=qM(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?fA:cA:"function"==typeof n?e.local?dA:hA:e.local?lA:sA)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?gA:"function"==typeof n?yA:vA)(t,n,null==e?"":e)):_A(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?mA:"function"==typeof n?xA:bA)(t,n)):this.node()[t]},classed:function(t,n){var e=wA(t+"");if(arguments.length<2){for(var r=MA(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?kA:n?EA:NA)(e,n))},text:function(t){return arguments.length?this.each(null==t?CA:("function"==typeof t?zA:PA)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?IA:("function"==typeof t?$A:RA)(t)):this.node().innerHTML},raise:function(){return this.each(DA)},lower:function(){return this.each(BA)},append:function(t){var n="function"==typeof t?t:UM(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:UM(t),r=null==n?FA:"function"==typeof n?n:YM(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(qA)},clone:function(t){return this.select(t?LA:OA)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=UA(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?YA:jA,r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,f=0,s=a.length;f<s;++f)for(r=0,c=a[f];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?XA:VA)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};var QA=ZA,KA=function(t){return"string"==typeof t?new WA([[document.querySelector(t)]],[document.documentElement]):new WA([[t]],GA)},JA=function(t){return KA(UM(t).call(document.documentElement))},tT=0;function nT(){return new eT}function eT(){this._="@"+(++tT).toString(36)}eT.prototype=nT.prototype={constructor:eT,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var rT=function(t){let n;for(;n=t.sourceEvent;)t=n;return t},iT=function(t,n){if(t=rT(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]},oT=function(t,n){return t.target&&(t=rT(t),void 0===n&&(n=t.currentTarget),t=t.touches||[t]),Array.from(t,t=>iT(t,n))},uT=function(t){return"string"==typeof t?new WA([document.querySelectorAll(t)],[document.documentElement]):new WA([HM(t)],GA)},aT=function(t){return function(){return t}};const cT=Math.abs,fT=Math.atan2,sT=Math.cos,lT=Math.max,hT=Math.min,dT=Math.sin,pT=Math.sqrt,gT=Math.PI,vT=gT/2,yT=2*gT;function _T(t){return t>1?0:t<-1?gT:Math.acos(t)}function mT(t){return t>=1?vT:t<=-1?-vT:Math.asin(t)}function bT(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError("invalid digits: "+e);n=t}return t},()=>new ba(n)}function xT(t){return t.innerRadius}function wT(t){return t.outerRadius}function MT(t){return t.startAngle}function AT(t){return t.endAngle}function TT(t){return t&&t.padAngle}function ST(t,n,e,r,i,o,u,a){var c=e-t,f=r-n,s=u-i,l=a-o,h=l*c-s*f;if(!(h*h<1e-12))return[t+(h=(s*(n-o)-l*(t-i))/h)*c,n+h*f]}function ET(t,n,e,r,i,o,u){var a=t-e,c=n-r,f=(u?o:-o)/pT(a*a+c*c),s=f*c,l=-f*a,h=t+s,d=n+l,p=e+s,g=r+l,v=(h+p)/2,y=(d+g)/2,_=p-h,m=g-d,b=_*_+m*m,x=i-o,w=h*g-p*d,M=(m<0?-1:1)*pT(lT(0,x*x*b-w*w)),A=(w*m-_*M)/b,T=(-w*_-m*M)/b,S=(w*m+_*M)/b,E=(-w*_+m*M)/b,N=A-v,k=T-y,C=S-v,P=E-y;return N*N+k*k>C*C+P*P&&(A=S,T=E),{cx:A,cy:T,x01:-s,y01:-l,x11:A*(i/x-1),y11:T*(i/x-1)}}var NT=function(){var t=xT,n=wT,e=aT(0),r=null,i=MT,o=AT,u=TT,a=null,c=bT(f);function f(){var f,s,l=+t.apply(this,arguments),h=+n.apply(this,arguments),d=i.apply(this,arguments)-vT,p=o.apply(this,arguments)-vT,g=cT(p-d),v=p>d;if(a||(a=f=c()),h<l&&(s=h,h=l,l=s),h>1e-12)if(g>yT-1e-12)a.moveTo(h*sT(d),h*dT(d)),a.arc(0,0,h,d,p,!v),l>1e-12&&(a.moveTo(l*sT(p),l*dT(p)),a.arc(0,0,l,p,d,v));else{var y,_,m=d,b=p,x=d,w=p,M=g,A=g,T=u.apply(this,arguments)/2,S=T>1e-12&&(r?+r.apply(this,arguments):pT(l*l+h*h)),E=hT(cT(h-l)/2,+e.apply(this,arguments)),N=E,k=E;if(S>1e-12){var C=mT(S/l*dT(T)),P=mT(S/h*dT(T));(M-=2*C)>1e-12?(x+=C*=v?1:-1,w-=C):(M=0,x=w=(d+p)/2),(A-=2*P)>1e-12?(m+=P*=v?1:-1,b-=P):(A=0,m=b=(d+p)/2)}var z=h*sT(m),I=h*dT(m),R=l*sT(w),$=l*dT(w);if(E>1e-12){var D,B=h*sT(b),F=h*dT(b),q=l*sT(x),O=l*dT(x);if(g<gT)if(D=ST(z,I,q,O,B,F,R,$)){var L=z-D[0],U=I-D[1],j=B-D[0],Y=F-D[1],H=1/dT(_T((L*j+U*Y)/(pT(L*L+U*U)*pT(j*j+Y*Y)))/2),V=pT(D[0]*D[0]+D[1]*D[1]);N=hT(E,(l-V)/(H-1)),k=hT(E,(h-V)/(H+1))}else N=k=0}A>1e-12?k>1e-12?(y=ET(q,O,z,I,h,k,v),_=ET(B,F,R,$,h,k,v),a.moveTo(y.cx+y.x01,y.cy+y.y01),k<E?a.arc(y.cx,y.cy,k,fT(y.y01,y.x01),fT(_.y01,_.x01),!v):(a.arc(y.cx,y.cy,k,fT(y.y01,y.x01),fT(y.y11,y.x11),!v),a.arc(0,0,h,fT(y.cy+y.y11,y.cx+y.x11),fT(_.cy+_.y11,_.cx+_.x11),!v),a.arc(_.cx,_.cy,k,fT(_.y11,_.x11),fT(_.y01,_.x01),!v))):(a.moveTo(z,I),a.arc(0,0,h,m,b,!v)):a.moveTo(z,I),l>1e-12&&M>1e-12?N>1e-12?(y=ET(R,$,B,F,l,-N,v),_=ET(z,I,q,O,l,-N,v),a.lineTo(y.cx+y.x01,y.cy+y.y01),N<E?a.arc(y.cx,y.cy,N,fT(y.y01,y.x01),fT(_.y01,_.x01),!v):(a.arc(y.cx,y.cy,N,fT(y.y01,y.x01),fT(y.y11,y.x11),!v),a.arc(0,0,l,fT(y.cy+y.y11,y.cx+y.x11),fT(_.cy+_.y11,_.cx+_.x11),v),a.arc(_.cx,_.cy,N,fT(_.y11,_.x11),fT(_.y01,_.x01),!v))):a.arc(0,0,l,w,x,v):a.lineTo(R,$)}else a.moveTo(0,0);if(a.closePath(),f)return a=null,f+""||null}return f.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-gT/2;return[sT(r)*e,dT(r)*e]},f.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:aT(+n),f):t},f.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:aT(+t),f):n},f.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:aT(+t),f):e},f.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:aT(+t),f):r},f.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:aT(+t),f):i},f.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:aT(+t),f):o},f.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:aT(+t),f):u},f.context=function(t){return arguments.length?(a=null==t?null:t,f):a},f},kT=Array.prototype.slice,CT=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)};function PT(t){this._context=t}PT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var zT=function(t){return new PT(t)};function IT(t){return t[0]}function RT(t){return t[1]}var $T=function(t,n){var e=aT(!0),r=null,i=zT,o=null,u=bT(a);function a(a){var c,f,s,l=(a=CT(a)).length,h=!1;for(null==r&&(o=i(s=u())),c=0;c<=l;++c)!(c<l&&e(f=a[c],c,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,a),+n(f,c,a));if(s)return o=null,s+""||null}return t="function"==typeof t?t:void 0===t?IT:aT(t),n="function"==typeof n?n:void 0===n?RT:aT(n),a.x=function(n){return arguments.length?(t="function"==typeof n?n:aT(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:aT(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:aT(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a},DT=function(t,n,e){var r=null,i=aT(!0),o=null,u=zT,a=null,c=bT(f);function f(f){var s,l,h,d,p,g=(f=CT(f)).length,v=!1,y=new Array(g),_=new Array(g);for(null==o&&(a=u(p=c())),s=0;s<=g;++s){if(!(s<g&&i(d=f[s],s,f))===v)if(v=!v)l=s,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=s-1;h>=l;--h)a.point(y[h],_[h]);a.lineEnd(),a.areaEnd()}v&&(y[s]=+t(d,s,f),_[s]=+n(d,s,f),a.point(r?+r(d,s,f):y[s],e?+e(d,s,f):_[s]))}if(p)return a=null,p+""||null}function s(){return $T().defined(i).curve(u).context(o)}return t="function"==typeof t?t:void 0===t?IT:aT(+t),n="function"==typeof n?n:aT(void 0===n?0:+n),e="function"==typeof e?e:void 0===e?RT:aT(+e),f.x=function(n){return arguments.length?(t="function"==typeof n?n:aT(+n),r=null,f):t},f.x0=function(n){return arguments.length?(t="function"==typeof n?n:aT(+n),f):t},f.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:aT(+t),f):r},f.y=function(t){return arguments.length?(n="function"==typeof t?t:aT(+t),e=null,f):n},f.y0=function(t){return arguments.length?(n="function"==typeof t?t:aT(+t),f):n},f.y1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:aT(+t),f):e},f.lineX0=f.lineY0=function(){return s().x(t).y(n)},f.lineY1=function(){return s().x(t).y(e)},f.lineX1=function(){return s().x(r).y(n)},f.defined=function(t){return arguments.length?(i="function"==typeof t?t:aT(!!t),f):i},f.curve=function(t){return arguments.length?(u=t,null!=o&&(a=u(o)),f):u},f.context=function(t){return arguments.length?(null==t?o=a=null:a=u(o=t),f):o},f},BT=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},FT=function(t){return t},qT=function(){var t=FT,n=BT,e=null,r=aT(0),i=aT(yT),o=aT(0);function u(u){var a,c,f,s,l,h=(u=CT(u)).length,d=0,p=new Array(h),g=new Array(h),v=+r.apply(this,arguments),y=Math.min(yT,Math.max(-yT,i.apply(this,arguments)-v)),_=Math.min(Math.abs(y)/h,o.apply(this,arguments)),m=_*(y<0?-1:1);for(a=0;a<h;++a)(l=g[p[a]=a]=+t(u[a],a,u))>0&&(d+=l);for(null!=n?p.sort((function(t,e){return n(g[t],g[e])})):null!=e&&p.sort((function(t,n){return e(u[t],u[n])})),a=0,f=d?(y-h*m)/d:0;a<h;++a,v=s)c=p[a],s=v+((l=g[c])>0?l*f:0)+m,g[c]={data:u[c],index:a,value:l,startAngle:v,endAngle:s,padAngle:_};return g}return u.value=function(n){return arguments.length?(t="function"==typeof n?n:aT(+n),u):t},u.sortValues=function(t){return arguments.length?(n=t,e=null,u):n},u.sort=function(t){return arguments.length?(e=t,n=null,u):e},u.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:aT(+t),u):r},u.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:aT(+t),u):i},u.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:aT(+t),u):o},u},OT=UT(zT);function LT(t){this._curve=t}function UT(t){function n(n){return new LT(t(n))}return n._curve=t,n}function jT(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(UT(t)):n()._curve},t}LT.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var YT=function(){return jT($T().curve(OT))},HT=function(){var t=DT().curve(OT),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return jT(e())},delete t.lineX0,t.lineEndAngle=function(){return jT(r())},delete t.lineX1,t.lineInnerRadius=function(){return jT(i())},delete t.lineY0,t.lineOuterRadius=function(){return jT(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(UT(t)):n()._curve},t},VT=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]};class XT{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n)}this._x0=t,this._y0=n}}class GT{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,0===this._point)this._point=1;else{const e=VT(this._x0,this._y0),r=VT(this._x0,this._y0=(this._y0+n)/2),i=VT(t,this._y0),o=VT(t,n);this._context.moveTo(...e),this._context.bezierCurveTo(...r,...i,...o)}this._x0=t,this._y0=n}}function WT(t){return new XT(t,!0)}function ZT(t){return new XT(t,!1)}function QT(t){return new GT(t)}function KT(t){return t.source}function JT(t){return t.target}function tS(t){let n=KT,e=JT,r=IT,i=RT,o=null,u=null,a=bT(c);function c(){let c;const f=kT.call(arguments),s=n.apply(this,f),l=e.apply(this,f);if(null==o&&(u=t(c=a())),u.lineStart(),f[0]=s,u.point(+r.apply(this,f),+i.apply(this,f)),f[0]=l,u.point(+r.apply(this,f),+i.apply(this,f)),u.lineEnd(),c)return u=null,c+""||null}return c.source=function(t){return arguments.length?(n=t,c):n},c.target=function(t){return arguments.length?(e=t,c):e},c.x=function(t){return arguments.length?(r="function"==typeof t?t:aT(+t),c):r},c.y=function(t){return arguments.length?(i="function"==typeof t?t:aT(+t),c):i},c.context=function(n){return arguments.length?(null==n?o=u=null:u=t(o=n),c):o},c}function nS(){return tS(WT)}function eS(){return tS(ZT)}function rS(){const t=tS(QT);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const iS=pT(3);var oS={draw(t,n){const e=.59436*pT(n+hT(n/28,.75)),r=e/2,i=r*iS;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},uS={draw(t,n){const e=pT(n/gT);t.moveTo(e,0),t.arc(0,0,e,0,yT)}},aS={draw(t,n){const e=pT(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}};const cS=pT(1/3),fS=2*cS;var sS={draw(t,n){const e=pT(n/fS),r=e*cS;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},lS={draw(t,n){const e=.62625*pT(n);t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},hS={draw(t,n){const e=.87559*pT(n-hT(n/7,2));t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},dS={draw(t,n){const e=pT(n),r=-e/2;t.rect(r,r,e,e)}},pS={draw(t,n){const e=.4431*pT(n);t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}};const gS=dT(gT/10)/dT(7*gT/10),vS=dT(yT/10)*gS,yS=-sT(yT/10)*gS;var _S={draw(t,n){const e=pT(.8908130915292852*n),r=vS*e,i=yS*e;t.moveTo(0,-e),t.lineTo(r,i);for(let n=1;n<5;++n){const o=yT*n/5,u=sT(o),a=dT(o);t.lineTo(a*e,-u*e),t.lineTo(u*r-a*i,a*r+u*i)}t.closePath()}};const mS=pT(3);var bS={draw(t,n){const e=-pT(n/(3*mS));t.moveTo(0,2*e),t.lineTo(-mS*e,-e),t.lineTo(mS*e,-e),t.closePath()}};const xS=pT(3);var wS={draw(t,n){const e=.6824*pT(n),r=e/2,i=e*xS/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};const MS=pT(3)/2,AS=1/pT(12),TS=3*(AS/2+1);var SS={draw(t,n){const e=pT(n/TS),r=e/2,i=e*AS,o=r,u=e*AS+e,a=-o,c=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(a,c),t.lineTo(-.5*r-MS*i,MS*r+-.5*i),t.lineTo(-.5*o-MS*u,MS*o+-.5*u),t.lineTo(-.5*a-MS*c,MS*a+-.5*c),t.lineTo(-.5*r+MS*i,-.5*i-MS*r),t.lineTo(-.5*o+MS*u,-.5*u-MS*o),t.lineTo(-.5*a+MS*c,-.5*c-MS*a),t.closePath()}},ES={draw(t,n){const e=.6189*pT(n-hT(n/6,1.7));t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}};const NS=[uS,aS,sS,dS,_S,bS,SS],kS=[uS,hS,ES,wS,oS,pS,lS];function CS(t,n){let e=null,r=bT(i);function i(){let i;if(e||(e=i=r()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),i)return e=null,i+""||null}return t="function"==typeof t?t:aT(t||uS),n="function"==typeof n?n:aT(void 0===n?64:+n),i.type=function(n){return arguments.length?(t="function"==typeof n?n:aT(n),i):t},i.size=function(t){return arguments.length?(n="function"==typeof t?t:aT(+t),i):n},i.context=function(t){return arguments.length?(e=null==t?null:t,i):e},i}var PS=function(){};function zS(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function IS(t){this._context=t}IS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zS(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var RS=function(t){return new IS(t)};function $S(t){this._context=t}$S.prototype={areaStart:PS,areaEnd:PS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:zS(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var DS=function(t){return new $S(t)};function BS(t){this._context=t}BS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:zS(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var FS=function(t){return new BS(t)};function qS(t,n){this._basis=new IS(t),this._beta=n}qS.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var OS=function t(n){function e(t){return 1===n?new IS(t):new qS(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function LS(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function US(t,n){this._context=t,this._k=(1-n)/6}US.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:LS(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:LS(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var jS=function t(n){function e(t){return new US(t,n)}return e.tension=function(n){return t(+n)},e}(0);function YS(t,n){this._context=t,this._k=(1-n)/6}YS.prototype={areaStart:PS,areaEnd:PS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:LS(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var HS=function t(n){function e(t){return new YS(t,n)}return e.tension=function(n){return t(+n)},e}(0);function VS(t,n){this._context=t,this._k=(1-n)/6}VS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:LS(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var XS=function t(n){function e(t){return new VS(t,n)}return e.tension=function(n){return t(+n)},e}(0);function GS(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>1e-12){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>1e-12){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*f+t._x1*t._l23_2a-n*t._l12_2a)/s,u=(u*f+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function WS(t,n){this._context=t,this._alpha=n}WS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:GS(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var ZS=function t(n){function e(t){return n?new WS(t,n):new US(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function QS(t,n){this._context=t,this._alpha=n}QS.prototype={areaStart:PS,areaEnd:PS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:GS(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var KS=function t(n){function e(t){return n?new QS(t,n):new YS(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function JS(t,n){this._context=t,this._alpha=n}JS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:GS(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var tE=function t(n){function e(t){return n?new JS(t,n):new VS(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function nE(t){this._context=t}nE.prototype={areaStart:PS,areaEnd:PS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};var eE=function(t){return new nE(t)};function rE(t){return t<0?-1:1}function iE(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(rE(o)+rE(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function oE(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function uE(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function aE(t){this._context=t}function cE(t){this._context=new fE(t)}function fE(t){this._context=t}function sE(t){return new aE(t)}function lE(t){return new cE(t)}function hE(t){this._context=t}function dE(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}aE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uE(this,this._t0,oE(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,uE(this,oE(this,e=iE(this,t,n)),e);break;default:uE(this,this._t0,e=iE(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(cE.prototype=Object.create(aE.prototype)).point=function(t,n){aE.prototype.point.call(this,n,t)},fE.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},hE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=dE(t),i=dE(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var pE=function(t){return new hE(t)};function gE(t,n){this._context=t,this._t=n}gE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var vE=function(t){return new gE(t,.5)};function yE(t){return new gE(t,0)}function _E(t){return new gE(t,1)}var mE=function(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]},bE=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e};function xE(t,n){return t[n]}function wE(t){const n=[];return n.key=t,n}var ME=function(){var t=aT([]),n=bE,e=mE,r=xE;function i(i){var o,u,a=Array.from(t.apply(this,arguments),wE),c=a.length,f=-1;for(const t of i)for(o=0,++f;o<c;++o)(a[o][f]=[0,+r(t,a[o].key,f,i)]).data=t;for(o=0,u=CT(n(a));o<c;++o)a[u[o]].index=o;return e(a,u),a}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:aT(Array.from(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:aT(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?bE:"function"==typeof t?t:aT(Array.from(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?mE:t,i):e},i},AE=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,u=t[0].length;o<u;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}mE(t,n)}},TE=function(t,n){if((a=t.length)>0)for(var e,r,i,o,u,a,c=0,f=t[n[0]].length;c<f;++c)for(o=u=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=u,r[0]=u+=i):(r[0]=0,r[1]=i)},SE=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var u=0,a=0;u<e;++u)a+=t[u][r][1]||0;i[r][1]+=i[r][0]=-a/2}mE(t,n)}},EE=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,u=1;u<r;++u){for(var a=0,c=0,f=0;a<i;++a){for(var s=t[n[a]],l=s[u][1]||0,h=(l-(s[u-1][1]||0))/2,d=0;d<a;++d){var p=t[n[d]];h+=(p[u][1]||0)-(p[u-1][1]||0)}c+=l,f+=h*l}e[u-1][1]+=e[u-1][0]=o,c&&(o-=f/c)}e[u-1][1]+=e[u-1][0]=o,mE(t,n)}},NE=function(t){var n=t.map(kE);return bE(t).sort((function(t,e){return n[t]-n[e]}))};function kE(t){for(var n,e=-1,r=0,i=t.length,o=-1/0;++e<i;)(n=+t[e][1])>o&&(o=n,r=e);return r}var CE=function(t){var n=t.map(PE);return bE(t).sort((function(t,e){return n[t]-n[e]}))};function PE(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}var zE=function(t){return CE(t).reverse()},IE=function(t){var n,e,r=t.length,i=t.map(PE),o=NE(t),u=0,a=0,c=[],f=[];for(n=0;n<r;++n)e=o[n],u<a?(u+=i[e],c.push(e)):(a+=i[e],f.push(e));return f.reverse().concat(c)},RE=function(t){return bE(t).reverse()};var $E=Date.prototype.toISOString?function(t){return t.toISOString()}:Tb("%Y-%m-%dT%H:%M:%S.%LZ");var DE=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:Sb("%Y-%m-%dT%H:%M:%S.%LZ"),BE=function(t,n,e){var r=new Mo,i=n;return null==n?(r.restart(t,n,e),r):(r._restart=r.restart,r.restart=function(t,n,e){n=+n,e=null==e?xo():+e,r._restart((function o(u){u+=i,r._restart(o,i+=n,e),t(u)}),n,e)},r.restart(t,n,e),r)},FE=Tn("start","end","cancel","interrupt"),qE=[],OE=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(c){var f,s,l,h;if(1!==e.state)return a();for(f in i)if((h=i[f]).name===e.name){if(3===h.state)return ko(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(ko((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(c))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),f=0,s=-1;f<l;++f)(h=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=5,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Ao((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:FE,tween:qE,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function LE(t,n){var e=jE(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function UE(t,n){var e=jE(t,n);if(e.state>3)throw new Error("too late; already running");return e}function jE(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var YE=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}};function HE(t,n){var e,r;return function(){var i=UE(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}function VE(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=UE(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,f=i.length;c<f;++c)if(i[c].name===n){i[c]=a;break}c===f&&i.push(a)}o.tween=i}}function XE(t,n,e){var r=t._id;return t.each((function(){var t=UE(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return jE(t,r).value[n]}}var GE=function(t,n){var e;return("number"==typeof n?Ur:n instanceof ar?Ir:(e=ar(n))?(n=e,Ir):Vr)(t,n)};function WE(t){return function(){this.removeAttribute(t)}}function ZE(t){return function(){this.removeAttributeNS(t.space,t.local)}}function QE(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}}function KE(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}function JE(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return(u=this.getAttribute(t))===(a=c+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttribute(t)}}function tN(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return(u=this.getAttributeNS(t.space,t.local))===(a=c+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttributeNS(t.space,t.local)}}function nN(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function eN(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function rN(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&eN(t,i)),e}return i._value=n,i}function iN(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&nN(t,i)),e}return i._value=n,i}function oN(t,n){return function(){LE(this,t).delay=+n.apply(this,arguments)}}function uN(t,n){return n=+n,function(){LE(this,t).delay=n}}function aN(t,n){return function(){UE(this,t).duration=+n.apply(this,arguments)}}function cN(t,n){return n=+n,function(){UE(this,t).duration=n}}function fN(t,n){if("function"!=typeof n)throw new Error;return function(){UE(this,t).ease=n}}function sN(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?LE:UE;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}var lN=QA.prototype.constructor;function hN(t){return function(){this.style.removeProperty(t)}}function dN(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function pN(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&dN(t,o,e)),r}return o._value=n,o}function gN(t){return function(n){this.textContent=t.call(this,n)}}function vN(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&gN(r)),n}return r._value=t,r}var yN=0;function _N(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function mN(t){return QA().transition(t)}function bN(){return++yN}var xN=QA.prototype;_N.prototype=mN.prototype={constructor:_N,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=YM(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,f=r[u],s=f.length,l=o[u]=new Array(s),h=0;h<s;++h)(a=f[h])&&(c=t.call(a,a.__data__,h,f))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,OE(l[h],n,e,h,l,jE(a,e)));return new _N(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=XM(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,f=r[a],s=f.length,l=0;l<s;++l)if(c=f[l]){for(var h,d=t.call(c,c.__data__,l,f),p=jE(c,e),g=0,v=d.length;g<v;++g)(h=d[g])&&OE(h,n,e,g,d,p);o.push(d),u.push(c)}return new _N(o,u,n,e)},selectChild:xN.selectChild,selectChildren:xN.selectChildren,filter:function(t){"function"!=typeof t&&(t=GM(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],f=0;f<a;++f)(o=u[f])&&t.call(o,o.__data__,f,u)&&c.push(o);return new _N(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,f=n[a],s=e[a],l=f.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=f[d]||s[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new _N(u,this._parents,this._name,this._id)},selection:function(){return new lN(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=bN(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,f=0;f<c;++f)if(u=a[f]){var s=jE(u,n);OE(u,t,e,f,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new _N(r,this._parents,t,e)},call:xN.call,nodes:xN.nodes,node:xN.node,size:xN.size,empty:xN.empty,each:xN.each,on:function(t,n){var e=this._id;return arguments.length<2?jE(this.node(),e).on.on(t):this.each(sN(e,t,n))},attr:function(t,n){var e=qM(t),r="transform"===e?jo:GE;return this.attrTween(t,"function"==typeof n?(e.local?tN:JE)(e,r,XE(this,"attr."+t,n)):null==n?(e.local?ZE:WE)(e):(e.local?KE:QE)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=qM(t);return this.tween(e,(r.local?rN:iN)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Uo:GE;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=_A(this,t),u=(this.style.removeProperty(t),_A(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,hN(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var u=_A(this,t),a=e(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=_A(this,t)),u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a))}}(t,r,XE(this,"style."+t,n))).each(function(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var c=UE(this,t),f=c.on,s=null==c.value[u]?o||(o=hN(n)):void 0;f===e&&i===s||(r=(e=f).copy()).on(a,i=s),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var u=_A(this,t);return u===o?null:u===r?i:i=n(r=u,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,pN(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(XE(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,vN(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=jE(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?HE:VE)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?oN:uN)(n,t)):jE(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?aN:cN)(n,t)):jE(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(fN(n,t)):jE(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;UE(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,u){var a={value:u},c={value:function(){0==--i&&o()}};e.each((function(){var e=UE(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:xN[Symbol.iterator]};var wN={time:null,delay:0,duration:250,ease:wu};function MN(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}QA.prototype.interrupt=function(t){return this.each((function(){YE(this,t)}))},QA.prototype.transition=function(t){var n,e;t instanceof _N?(n=t._id,t=t._name):(n=bN(),(e=wN).time=xo(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,f=0;f<c;++f)(u=a[f])&&OE(u,t,n,f,a,e||MN(u,n));return new _N(r,this._parents,t,n)};var AN=[null],TN=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>1&&e.name===n)return new _N([[t]],AN,n,+r);return null};function SN(){}var EN=function(t){return null==t?SN:function(){return this.querySelector(t)}};function NN(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function kN(){return[]}var CN=function(t){return null==t?kN:function(){return this.querySelectorAll(t)}};var PN=function(t){return function(){return this.matches(t)}};function zN(t){return function(n){return n.matches(t)}}var IN=Array.prototype.find;function RN(){return this.firstElementChild}var $N=Array.prototype.filter;function DN(){return Array.from(this.children)}var BN=function(t){return new Array(t.length)};function FN(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}FN.prototype={constructor:FN,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var qN=function(t){return function(){return t}};function ON(t,n,e,r,i,o){for(var u,a=0,c=n.length,f=o.length;a<f;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new FN(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function LN(t,n,e,r,i,o,u){var a,c,f,s=new Map,l=n.length,h=o.length,d=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(d[a]=f=u.call(c,c.__data__,a,n)+"",s.has(f)?i[a]=c:s.set(f,c));for(a=0;a<h;++a)f=u.call(t,o[a],a,o)+"",(c=s.get(f))?(r[a]=c,c.__data__=o[a],s.delete(f)):e[a]=new FN(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&s.get(d[a])===c&&(i[a]=c)}function UN(t){return t.__data__}function jN(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function YN(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var HN={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},VN=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),HN.hasOwnProperty(n)?{space:HN[n],local:t}:t};function XN(t){return function(){this.removeAttribute(t)}}function GN(t){return function(){this.removeAttributeNS(t.space,t.local)}}function WN(t,n){return function(){this.setAttribute(t,n)}}function ZN(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function QN(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function KN(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var JN=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function tk(t){return function(){this.style.removeProperty(t)}}function nk(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ek(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function rk(t,n){return t.style.getPropertyValue(n)||JN(t).getComputedStyle(t,null).getPropertyValue(n)}function ik(t){return function(){delete this[t]}}function ok(t,n){return function(){this[t]=n}}function uk(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function ak(t){return t.trim().split(/^|\s+/)}function ck(t){return t.classList||new fk(t)}function fk(t){this._node=t,this._names=ak(t.getAttribute("class")||"")}function sk(t,n){for(var e=ck(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function lk(t,n){for(var e=ck(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function hk(t){return function(){sk(this,t)}}function dk(t){return function(){lk(this,t)}}function pk(t,n){return function(){(n.apply(this,arguments)?sk:lk)(this,t)}}fk.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function gk(){this.textContent=""}function vk(t){return function(){this.textContent=t}}function yk(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function _k(){this.innerHTML=""}function mk(t){return function(){this.innerHTML=t}}function bk(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function xk(){this.nextSibling&&this.parentNode.appendChild(this)}function wk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mk(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===e&&"http://www.w3.org/1999/xhtml"===n.documentElement.namespaceURI?n.createElement(t):n.createElementNS(e,t)}}function Ak(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Tk=function(t){var n=VN(t);return(n.local?Ak:Mk)(n)};function Sk(){return null}function Ek(){var t=this.parentNode;t&&t.removeChild(this)}function Nk(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function kk(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ck(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Pk(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function zk(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Ik(t,n,e){var r=JN(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Rk(t,n){return function(){return Ik(this,t,n)}}function $k(t,n){return function(){return Ik(this,t,n.apply(this,arguments))}}var Dk=[null];function Bk(t,n){this._groups=t,this._parents=n}function Fk(){return new Bk([[document.documentElement]],Dk)}Bk.prototype=Fk.prototype={constructor:Bk,select:function(t){"function"!=typeof t&&(t=EN(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,f=r[i]=new Array(c),s=0;s<c;++s)(o=a[s])&&(u=t.call(o,o.__data__,s,a))&&("__data__"in o&&(u.__data__=o.__data__),f[s]=u);return new Bk(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return NN(t.apply(this,arguments))}}(t):CN(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,f=0;f<c;++f)(u=a[f])&&(r.push(t.call(u,u.__data__,f,a)),i.push(u));return new Bk(r,i)},selectChild:function(t){return this.select(null==t?RN:function(t){return function(){return IN.call(this.children,t)}}("function"==typeof t?t:zN(t)))},selectChildren:function(t){return this.selectAll(null==t?DN:function(t){return function(){return $N.call(this.children,t)}}("function"==typeof t?t:zN(t)))},filter:function(t){"function"!=typeof t&&(t=PN(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],f=0;f<a;++f)(o=u[f])&&t.call(o,o.__data__,f,u)&&c.push(o);return new Bk(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,UN);var e=n?LN:ON,r=this._parents,i=this._groups;"function"!=typeof t&&(t=qN(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),f=0;f<o;++f){var s=r[f],l=i[f],h=l.length,d=jN(t.call(s,s&&s.__data__,f,r)),p=d.length,g=a[f]=new Array(p),v=u[f]=new Array(p),y=c[f]=new Array(h);e(s,l,g,v,y,d,n);for(var _,m,b=0,x=0;b<p;++b)if(_=g[b]){for(b>=x&&(x=b+1);!(m=v[x])&&++x<p;);_._next=m||null}}return(u=new Bk(u,r))._enter=a,u._exit=c,u},enter:function(){return new Bk(this._enter||this._groups.map(BN),this._parents)},exit:function(){return new Bk(this._exit||this._groups.map(BN),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,u=Math.min(i,o),a=new Array(i),c=0;c<u;++c)for(var f,s=e[c],l=r[c],h=s.length,d=a[c]=new Array(h),p=0;p<h;++p)(f=s[p]||l[p])&&(d[p]=f);for(;c<i;++c)a[c]=e[c];return new Bk(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=YN);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,f=i[o]=new Array(c),s=0;s<c;++s)(u=a[s])&&(f[s]=u);f.sort(n)}return new Bk(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=VN(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?GN:XN:"function"==typeof n?e.local?KN:QN:e.local?ZN:WN)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?tk:"function"==typeof n?ek:nk)(t,n,null==e?"":e)):rk(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?ik:"function"==typeof n?uk:ok)(t,n)):this.node()[t]},classed:function(t,n){var e=ak(t+"");if(arguments.length<2){for(var r=ck(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?pk:n?hk:dk)(e,n))},text:function(t){return arguments.length?this.each(null==t?gk:("function"==typeof t?yk:vk)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?_k:("function"==typeof t?bk:mk)(t)):this.node().innerHTML},raise:function(){return this.each(xk)},lower:function(){return this.each(wk)},append:function(t){var n="function"==typeof t?t:Tk(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Tk(t),r=null==n?Sk:"function"==typeof n?n:EN(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ek)},clone:function(t){return this.select(t?kk:Nk)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Ck(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?zk:Pk,r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,f=0,s=a.length;f<s;++f)for(r=0,c=a[f];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?$k:Rk)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};var qk=Fk,Ok=function(t){return"string"==typeof t?new Bk([[document.querySelector(t)]],[document.documentElement]):new Bk([[t]],Dk)},Lk=function(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]},Uk=Tn("start","end","cancel","interrupt"),jk=[],Yk=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(c){var f,s,l,h;if(1!==e.state)return a();for(f in i)if((h=i[f]).name===e.name){if(3===h.state)return ko(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(ko((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(c))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),f=0,s=-1;f<l;++f)(h=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=5,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Ao((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Uk,tween:jk,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Hk(t,n){var e=Xk(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Vk(t,n){var e=Xk(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Xk(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Gk=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}};function Wk(t,n){var e,r;return function(){var i=Vk(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}function Zk(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Vk(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,f=i.length;c<f;++c)if(i[c].name===n){i[c]=a;break}c===f&&i.push(a)}o.tween=i}}function Qk(t,n,e){var r=t._id;return t.each((function(){var t=Vk(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Xk(t,r).value[n]}}var Kk=function(t,n){var e;return("number"==typeof n?Ur:n instanceof ar?Ir:(e=ar(n))?(n=e,Ir):Vr)(t,n)};function Jk(t){return function(){this.removeAttribute(t)}}function tC(t){return function(){this.removeAttributeNS(t.space,t.local)}}function nC(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}}function eC(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}function rC(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return(u=this.getAttribute(t))===(a=c+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttribute(t)}}function iC(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return(u=this.getAttributeNS(t.space,t.local))===(a=c+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttributeNS(t.space,t.local)}}function oC(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function uC(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function aC(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&uC(t,i)),e}return i._value=n,i}function cC(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&oC(t,i)),e}return i._value=n,i}function fC(t,n){return function(){Hk(this,t).delay=+n.apply(this,arguments)}}function sC(t,n){return n=+n,function(){Hk(this,t).delay=n}}function lC(t,n){return function(){Vk(this,t).duration=+n.apply(this,arguments)}}function hC(t,n){return n=+n,function(){Vk(this,t).duration=n}}function dC(t,n){if("function"!=typeof n)throw new Error;return function(){Vk(this,t).ease=n}}function pC(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Hk:Vk;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}var gC=qk.prototype.constructor;function vC(t){return function(){this.style.removeProperty(t)}}function yC(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function _C(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&yC(t,o,e)),r}return o._value=n,o}function mC(t){return function(n){this.textContent=t.call(this,n)}}function bC(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&mC(r)),n}return r._value=t,r}var xC=0;function wC(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function MC(){return++xC}var AC=qk.prototype;wC.prototype=function(t){return qk().transition(t)}.prototype={constructor:wC,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=EN(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,f=r[u],s=f.length,l=o[u]=new Array(s),h=0;h<s;++h)(a=f[h])&&(c=t.call(a,a.__data__,h,f))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,Yk(l[h],n,e,h,l,Xk(a,e)));return new wC(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=CN(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,f=r[a],s=f.length,l=0;l<s;++l)if(c=f[l]){for(var h,d=t.call(c,c.__data__,l,f),p=Xk(c,e),g=0,v=d.length;g<v;++g)(h=d[g])&&Yk(h,n,e,g,d,p);o.push(d),u.push(c)}return new wC(o,u,n,e)},selectChild:AC.selectChild,selectChildren:AC.selectChildren,filter:function(t){"function"!=typeof t&&(t=PN(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],f=0;f<a;++f)(o=u[f])&&t.call(o,o.__data__,f,u)&&c.push(o);return new wC(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,f=n[a],s=e[a],l=f.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=f[d]||s[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new wC(u,this._parents,this._name,this._id)},selection:function(){return new gC(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=MC(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,f=0;f<c;++f)if(u=a[f]){var s=Xk(u,n);Yk(u,t,e,f,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new wC(r,this._parents,t,e)},call:AC.call,nodes:AC.nodes,node:AC.node,size:AC.size,empty:AC.empty,each:AC.each,on:function(t,n){var e=this._id;return arguments.length<2?Xk(this.node(),e).on.on(t):this.each(pC(e,t,n))},attr:function(t,n){var e=VN(t),r="transform"===e?jo:Kk;return this.attrTween(t,"function"==typeof n?(e.local?iC:rC)(e,r,Qk(this,"attr."+t,n)):null==n?(e.local?tC:Jk)(e):(e.local?eC:nC)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=VN(t);return this.tween(e,(r.local?aC:cC)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Uo:Kk;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=rk(this,t),u=(this.style.removeProperty(t),rk(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,vC(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var u=rk(this,t),a=e(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=rk(this,t)),u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a))}}(t,r,Qk(this,"style."+t,n))).each(function(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var c=Vk(this,t),f=c.on,s=null==c.value[u]?o||(o=vC(n)):void 0;f===e&&i===s||(r=(e=f).copy()).on(a,i=s),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var u=rk(this,t);return u===o?null:u===r?i:i=n(r=u,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,_C(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Qk(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,bC(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Xk(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Wk:Zk)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?fC:sC)(n,t)):Xk(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?lC:hC)(n,t)):Xk(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(dC(n,t)):Xk(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Vk(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,u){var a={value:u},c={value:function(){0==--i&&o()}};e.each((function(){var e=Vk(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:AC[Symbol.iterator]};var TC={time:null,delay:0,duration:250,ease:wu};function SC(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}qk.prototype.interrupt=function(t){return this.each((function(){Gk(this,t)}))},qk.prototype.transition=function(t){var n,e;t instanceof wC?(n=t._id,t=t._name):(n=MC(),(e=TC).time=xo(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,f=0;f<c;++f)(u=a[f])&&Yk(u,t,n,f,a,e||SC(u,n));return new wC(r,this._parents,t,n)};var EC=t=>()=>t;function NC(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function kC(t,n,e){this.k=t,this.x=n,this.y=e}kC.prototype={constructor:kC,scale:function(t){return 1===t?this:new kC(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new kC(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var CC=new kC(1,0,0);function PC(t){for(;!t.__zoom;)if(!(t=t.parentNode))return CC;return t.__zoom}function zC(t){t.stopImmediatePropagation()}PC.prototype=kC.prototype;var IC=function(t){t.preventDefault(),t.stopImmediatePropagation()};function RC(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function $C(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function DC(){return this.__zoom||CC}function BC(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function FC(){return navigator.maxTouchPoints||"ontouchstart"in this}function qC(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}var OC=function(){var t,n,e,r=RC,i=$C,o=qC,u=BC,a=FC,c=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],s=250,l=yy,h=Tn("start","zoom","end"),d=0,p=10;function g(t){t.property("__zoom",DC).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",A).filter(a).on("touchstart.zoom",T).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,n){return(n=Math.max(c[0],Math.min(c[1],n)))===t.k?t:new kC(n,t.x,t.y)}function y(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new kC(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function m(t,n,e,r){t.on("start.zoom",(function(){b(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,u=b(t,o).event(r),a=i.apply(t,o),c=null==e?_(a):"function"==typeof e?e.apply(t,o):e,f=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),s=t.__zoom,h="function"==typeof n?n.apply(t,o):n,d=l(s.invert(c).concat(f/s.k),h.invert(c).concat(f/h.k));return function(t){if(1===t)t=h;else{var n=d(t),e=f/n[2];t=new kC(e,c[0]-n[0]*e,c[1]-n[1]*e)}u.zoom(null,t)}}))}function b(t,n,e){return!e&&t.__zooming||new x(t,n)}function x(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,n),this.taps=0}function w(t,...n){if(r.apply(this,arguments)){var e=b(this,n).event(t),i=this.__zoom,a=Math.max(c[0],Math.min(c[1],i.k*Math.pow(2,u.apply(this,arguments)))),s=Lk(t);if(e.wheel)e.mouse[0][0]===s[0]&&e.mouse[0][1]===s[1]||(e.mouse[1]=i.invert(e.mouse[0]=s)),clearTimeout(e.wheel);else{if(i.k===a)return;e.mouse=[s,i.invert(s)],Gk(this),e.start()}IC(t),e.wheel=setTimeout(l,150),e.zoom("mouse",o(y(v(i,a),e.mouse[0],e.mouse[1]),e.extent,f))}function l(){e.wheel=null,e.end()}}function M(t,...n){if(!e&&r.apply(this,arguments)){var i=t.currentTarget,u=b(this,n,!0).event(t),a=Ok(t.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",p,!0),c=Lk(t,i),s=t.clientX,l=t.clientY;je(t.view),zC(t),u.mouse=[c,this.__zoom.invert(c)],Gk(this),u.start()}function h(t){if(IC(t),!u.moved){var n=t.clientX-s,e=t.clientY-l;u.moved=n*n+e*e>d}u.event(t).zoom("mouse",o(y(u.that.__zoom,u.mouse[0]=Lk(t,i),u.mouse[1]),u.extent,f))}function p(t){a.on("mousemove.zoom mouseup.zoom",null),Ye(t.view,u.moved),IC(t),u.event(t).end()}}function A(t,...n){if(r.apply(this,arguments)){var e=this.__zoom,u=Lk(t.changedTouches?t.changedTouches[0]:t,this),a=e.invert(u),c=e.k*(t.shiftKey?.5:2),l=o(y(v(e,c),u,a),i.apply(this,n),f);IC(t),s>0?Ok(this).transition().duration(s).call(m,l,u,t):Ok(this).call(g.transform,l,u,t)}}function T(e,...i){if(r.apply(this,arguments)){var o,u,a,c,f=e.touches,s=f.length,l=b(this,i,e.changedTouches.length===s).event(e);for(zC(e),u=0;u<s;++u)a=f[u],c=[c=Lk(a,this),this.__zoom.invert(c),a.identifier],l.touch0?l.touch1||l.touch0[2]===c[2]||(l.touch1=c,l.taps=0):(l.touch0=c,o=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(l.taps<2&&(n=c[0],t=setTimeout((function(){t=null}),500)),Gk(this),l.start())}}function S(t,...n){if(this.__zooming){var e,r,i,u,a=b(this,n).event(t),c=t.changedTouches,s=c.length;for(IC(t),e=0;e<s;++e)r=c[e],i=Lk(r,this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var l=a.touch0[0],h=a.touch0[1],d=a.touch1[0],p=a.touch1[1],g=(g=d[0]-l[0])*g+(g=d[1]-l[1])*g,_=(_=p[0]-h[0])*_+(_=p[1]-h[1])*_;r=v(r,Math.sqrt(g/_)),i=[(l[0]+d[0])/2,(l[1]+d[1])/2],u=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],u=a.touch0[1]}a.zoom("touch",o(y(r,i,u),a.extent,f))}}function E(t,...r){if(this.__zooming){var i,o,u=b(this,r).event(t),a=t.changedTouches,c=a.length;for(zC(t),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),i=0;i<c;++i)o=a[i],u.touch0&&u.touch0[2]===o.identifier?delete u.touch0:u.touch1&&u.touch1[2]===o.identifier&&delete u.touch1;if(u.touch1&&!u.touch0&&(u.touch0=u.touch1,delete u.touch1),u.touch0)u.touch0[1]=this.__zoom.invert(u.touch0[0]);else if(u.end(),2===u.taps&&(o=Lk(o,this),Math.hypot(n[0]-o[0],n[1]-o[1])<p)){var f=Ok(this).on("dblclick.zoom");f&&f.apply(this,arguments)}}}return g.transform=function(t,n,e,r){var i=t.selection?t.selection():t;i.property("__zoom",DC),t!==i?m(t,n,e,r):i.interrupt().each((function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},g.scaleBy=function(t,n,e,r){g.scaleTo(t,(function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e}),e,r)},g.scaleTo=function(t,n,e,r){g.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,u=null==e?_(t):"function"==typeof e?e.apply(this,arguments):e,a=r.invert(u),c="function"==typeof n?n.apply(this,arguments):n;return o(y(v(r,c),u,a),t,f)}),e,r)},g.translateBy=function(t,n,e,r){g.transform(t,(function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),i.apply(this,arguments),f)}),null,r)},g.translateTo=function(t,n,e,r,u){g.transform(t,(function(){var t=i.apply(this,arguments),u=this.__zoom,a=null==r?_(t):"function"==typeof r?r.apply(this,arguments):r;return o(CC.translate(a[0],a[1]).scale(u.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,f)}),r,u)},x.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=Ok(this.that).datum();h.call(t,this.that,new NC(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:h}),n)}},g.wheelDelta=function(t){return arguments.length?(u="function"==typeof t?t:EC(+t),g):u},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:EC(!!t),g):r},g.touchable=function(t){return arguments.length?(a="function"==typeof t?t:EC(!!t),g):a},g.extent=function(t){return arguments.length?(i="function"==typeof t?t:EC([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):i},g.scaleExtent=function(t){return arguments.length?(c[0]=+t[0],c[1]=+t[1],g):[c[0],c[1]]},g.translateExtent=function(t){return arguments.length?(f[0][0]=+t[0][0],f[1][0]=+t[1][0],f[0][1]=+t[0][1],f[1][1]=+t[1][1],g):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},g.constrain=function(t){return arguments.length?(o=t,g):o},g.duration=function(t){return arguments.length?(s=+t,g):s},g.interpolate=function(t){return arguments.length?(l=t,g):l},g.on=function(){var t=h.on.apply(h,arguments);return t===h?g:t},g.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,g):Math.sqrt(d)},g.tapDistance=function(t){return arguments.length?(p=+t,g):p},g};e(7);looker.plugins.visualizations.add({id:"viz-bar_image-marketplace",label:"Gráfico de Barras com logo",options:{title_graphic:{type:"string",label:"Title"},title_font_size:{type:"string",label:"Title font size"},default_icon:{type:"string",label:"Title Icon <i>",default:""},measure_title:{type:"string",label:"Measure title",default:""},dimension_title:{type:"string",label:"Dimension title",default:""},first_dimension:{type:"string",label:"Dimension values",default:""},second_dimension:{type:"string",label:"Dimension color",default:""},third_dimension:{type:"string",label:"Dimension with base64 image",default:""},color_not_selected:{type:"array",display:"color",label:"Color when not selected",default:"#dedede"},side_margin:{type:"string",label:"Left and right margin of the chart",default:"40",display:"select",values:[{0:"0"},{10:"10"},{20:"20"},{30:"30"},{40:"40"},{50:"50"},{60:"60"},{70:"70"},{80:"80"},{90:"90"},{100:"100"},{120:"120"},{140:"140"},{160:"160"},{180:"180"},{200:"200"}]},chart_type:{type:"string",label:"Chart type",default:"bar",display:"select",values:[{Bar:"bar"},{"Simple Bar":"bar_simple"},{Pie:"pie"},{Donut:"donut"},{"Donut Toggle":"donut_toggle"},{Banner:"banner"},{Insights:"insights"}]},font_size_percent:{type:"string",label:"Percentage font size",default:"11"},stroke_width:{type:"string",label:"Stroke width",display:"select",default:"0",values:[{0:"0"},{1:"1"},{2:"3"},{3:"3"},{4:"4"},{5:"5"},{6:"6"},{7:"7"},{8:"8"},{9:"9"},{10:"10"}]},number_format:{type:"string",label:"Number format",display:"select",default:"normal",values:[{Percent:"percent"},{Normal:"normal"}]}},create:function(t,n){var e=t.appendChild(document.createElement("div"));e.id="chart";const r=document.createElement("style");r.innerHTML="\n    html:{\n      height:110%;\n    }\n    body{\n      overflow: hidden !important;\n    }\n    .bar:hover {\n      border: 1px solid #333\n    }\n    react:hover{\n      border: 1px solid #333;\n      cursor:pointer;\n    }\n    .x.axis>.tick> line {\n      stroke-opacity: 1;\n    }\n    .arc path {\n      stroke: #fff;\n    }\n\n    \n    polyline {\n      opacity: .3;\n      stroke: black;\n      stroke-width: 1px;\n      fill: none;\n    }\n\n    .labels text {\n      font-size: 12px;\n    }\n    \n    ",document.head.appendChild(r);var i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.crossorigin="anonymous",i.referrerpolicy="no-referrer",document.head.appendChild(i),i.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css";var o=document.createElement("link");o.rel="preconnect",document.head.appendChild(o),o.href="https://fonts.googleapis.com";var u=document.createElement("link");u.rel="preconnect",u.crossorigin="anonymous",document.head.appendChild(u),u.href="https://fonts.gstatic.com";var a=document.createElement("link");a.type="text/css",a.rel="stylesheet",document.head.appendChild(a),a.href="https://fonts.googleapis.com/css2?family=Josefin+Sans&family=Quicksand:wght@300;700&family=Roboto&display=swap";var c=document.createElement("script");return c.crossorigin="anonymous",document.head.appendChild(c),c.src="https://kit.fontawesome.com/9e8face2b6.js",e},updateAsync:function(t,n,e,i,o,u){var a=null==e.side_margin?1:e.side_margin,c={top:170,right:a,bottom:-10,left:a},f=n.clientHeight-c.top-c.bottom,s=e.default_icon+" "+e.title_graphic,l=e.default_icon,h=e.title_graphic;const d={numberFormat:e.number_format,iconInsights:l,titleInsights:h,barNotSelected:null==e.color_not_selected?"#dedede":e.color_not_selected,titleGraphic:s,vis:this,d3:r,data:t,queryResponse:i,config:e,element:n,details:o,width:n.clientWidth-c.left-c.right,height:f,margin:c,sideMargin:a,fontSizePercent:e.font_size_percent,strokeWidth:e.stroke_width,dimensionTitle:e.dimension_title,measureTitle:e.measure_title};switch(KA("#chart").remove(),n.appendChild(document.createElement("div")).id="chart",e.chart_type){case"bar":!function(t){var n=t.d3,e=t.width,r=t.margin,i=t.height,o=t.data,u=t.barNotSelected,a=t.queryResponse,c=t.titleGraphic,f=t.details,s=n.select("#chart").attr("style","overflow:hidden").html(`<h3 style="position:absolute; margin-left:10px;"><span style="font-family: 'Quicksand', sans-serif; font-weight: normal;">${c}</span></h3>`).append("svg").attr("width",e+r.left+r.right).attr("height",i+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")"),l=n.scaleBand().range([0,e]).padding(.1),h=n.scaleLinear().range([i,0]),d=n.axisBottom(l),p=(n.axisLeft(h),s.append("g").attr("transform","translate(0,"+i+")"));s.append("g");try{f.crossfilters.length>0&&(o=o.filter((function(t){return f.crossfilters[0].values.includes(t[a.fields.dimensions[0].name].value)?t.color.value=t.color.value:t.color.value=u})))}catch(t){}var g=[];o.forEach((function(t){g.push({measure_count:t[a.fields.measures[0].name].value,dimension_values:t[a.fields.dimensions[0].name].value,style:t[a.fields.dimensions[1].name].value,image_base64:t[a.fields.dimensions[2].name].value})})),l.domain(g.map((function(t){return t.dimension_values}))),h.domain([0,n.max(g,(function(t){return t.measure_count}))]);var v=s.selectAll(".bar").data(g).enter().append("rect").attr("class","bar").attr("rx","7").attr("ry","7").attr("fill",(function(t){return t.style})).attr("x",(function(t){return l(t.dimension_values)})).attr("width",l.bandwidth()).attr("y",(function(t){return h(t.measure_count)})).attr("height",(function(t){return i-h(t.measure_count)})).on("mouseover",(function(){n.select(this).attr("fill",(function(t){return t.style})),n.select(this).style("cursor","pointer"),n.select(this).style("stroke-width","6"),n.select(this).style("stroke",(function(t){return t.style})),n.select(this).style("stroke-opacity","0.5")})).on("mouseout",(function(){n.select(this).attr("fill",(function(t){return t.style})),n.select(this).style("stroke-width","0"),n.select(this).style("stroke","none"),n.select(this).style("stroke-opacity","0")})).attr("transform","translate(0,-80)"),y=Array();v.on("click",(function(t){try{y[a.fields.dimensions[0].name]={field:a.fields.dimensions[0].name,value:t.target.__data__.dimension_values};var n={event:t,row:y};LookerCharts.Utils.toggleCrossfilter(n)}catch(t){console.log(t)}})),p.call(d),s.selectAll(".tick").data(g).append("g").html((function(t){var n=29;return e>390&&e<=550?n=23:e>=330&&e<=390?n=17:e>220&&e<=330?n=11:e<=220&&(n=7),String(t.image_base64).replace("<image ",`<image class="image_logo" transform="translate(-${n},-70)" `)})),s.selectAll(".image_logo").attr("width",(function(t){var n=58;return e>390&&e<=550?n=45:e>330&&e<=390?n=35:e>220&&e<=330?n=21:e<=220&&(n=14),n})),s.selectAll(".tick").data(g).append("text").text((function(t){return Intl.NumberFormat("pt-BR").format(t.measure_count)})).attr("fill",(function(t){return t.style})).attr("cx","29").attr("cy","29").attr("r","30").attr("transform",(function(t){return`translate(0,-${i-h(t.measure_count)+95})`})),n.selectAll("path.line").remove(),v.exit().remove()}(d);break;case"pie":!function(t){var n=t.d3,e=t.width,r=t.margin,i=t.height,o=t.data,u=(t.barNotSelected,t.queryResponse);t.titleGraphic,t.details,console.log("innerRadius",90);var a=parseInt(e)+parseInt(r.left)+parseInt(r.right)-50,c=parseInt(i)+parseInt(r.top)+parseInt(r.bottom),f=[],s=n.pie().value((function(t){return t.measure_count}));console.log("width",e),console.log("height",i),Array(),o.forEach((function(t){f.push({measure_count:t[u.fields.measures[0].name].value,dimension_values:t[u.fields.dimensions[0].name].value})}));var l=n.select("#chart").append("svg").attr("preserveAspectRatio","xMaxYMax meet").attr("width",parseInt(e)+parseInt(r.left)+parseInt(r.right)).attr("height",parseInt(i)+parseInt(r.top)+parseInt(r.bottom)).append("g").attr("transform","translate("+(a+50)+","+c+"100)");l.append("g").attr("class","slices"),l.append("g").attr("class","labels"),l.append("g").attr("class","lines"),s=n.pie().sort(null).value((function(t){return t.measure_count}));var h=n.arc().outerRadius(90).innerRadius(0),d=n.arc().outerRadius(90).innerRadius(112.5),p=n.arc().innerRadius(123.75).outerRadius(123.75),g=n.arc().innerRadius(100).outerRadius(100);l.attr("transform","translate("+e/2+","+i/2+")");var v=function(t){return t.data.dimension_values},y=n.scaleOrdinal().domain(["M","F","O","N"]).range(["#FD8A64","#1EC370","#6A52FA","#20B9FC"]),_=l.select(".slices").selectAll("path.slice").data(s(f),v);_.enter().insert("path").style("fill",(function(t){return y(t.data.dimension_values)})).attr("class","slice").merge(_).transition().duration(600).attrTween("d",(function(t){this._current=this._current||t;var e=n.interpolate(this._current,t);return this._current=e(0),function(t){return h(e(t))}})),_.exit().remove();var m=l.select(".labels").selectAll("text").data(s(f),v);function b(t){return t.startAngle+(t.endAngle-t.startAngle)/2}m.enter().append("text").attr("dy",".35em").text((function(t){console.log(n.format(".3f")(t.data.measure_count));return parseFloat((t.endAngle-t.startAngle)/(2*Math.PI)*100).toFixed(0)+"%"})).merge(m).transition().duration(600).attrTween("transform",(function(t){this._current=this._current||t;var e=n.interpolate(this._current,t);return this._current=e(0),function(t){var n=e(t),r=p.centroid(n);return r[0]=125*(b(n)<Math.PI?1:-1),"translate("+r+")"}})).styleTween("text-anchor",(function(t){this._current=this._current||t;var e=n.interpolate(this._current,t);return this._current=e(0),function(t){return b(e(t))<Math.PI?"start":"end"}})),m.exit().remove();var x=l.select(".lines").selectAll("polyline").data(s(f),v);x.enter().append("polyline").merge(x).transition().duration(600).attrTween("points",(function(t){this._current=this._current||t;var e=n.interpolate(this._current,t);return this._current=e(0),function(t){var n=e(t),r=p.centroid(n);return r[0]=118.75*(b(n)<Math.PI?1:-1),[d.centroid(n),p.centroid(n),r]}})),x.exit().remove();var w=l.selectAll(".circles").data(s(f));(w=w.enter().append("circle").attr("class","circles").attr("r",3).attr("fill","#999").merge(w)).transition().duration(600).attrTween("transform",(function(t){this._current=this._current||t;var e=n.interpolate(this._current,t);return this._current=e(0),function(t){var n=e(t);return p.centroid(n)[0]=118.75*(b(n)<Math.PI?1:-1),"translate("+g.centroid(n)+")"}})),w.exit().remove()}(d);break;case"donut":!function(t){var n=t.d3,e=t.width,r=t.margin,i=t.height,o=t.data,u=t.barNotSelected,a=t.queryResponse,c=t.titleGraphic,f=t.details,s=(t.fontSizePercent,t.strokeWidth),l=t.dimensionTitle,h=t.measureTitle,d="'Quicksand', sans-serif",p=parseInt(e)+parseInt(r.left)+parseInt(r.right)-135,g=parseInt(i)+parseInt(r.top)+parseInt(r.bottom-20)-100,v=(s=t.strokeWidth,[]),y=n.pie().value((function(t){return t.measure_count}));console.log("width",e),console.log("height",i);var _=Array();_=["#FD8A64","#1EC370","#6A52FA","#20B9FC"];try{if(f.crossfilters.length>0){var m=-1;o=o.filter((function(t){return m++,f.crossfilters[0].values.includes(t[a.fields.dimensions[0].name].value)?_[m]=_[m]:_[m]=u[0]}))}}catch(t){}if(console.log("var data após o filtro",o),console.log("details",f),o.forEach((function(t){v.push({measure_count:t[a.fields.measures[0].name].value,dimension_values:t[a.fields.dimensions[0].name].value})})),n.scaleOrdinal().domain(v).range(_),0==n.select("#toolTip").size())var b=n.select("body").append("div").attr("id","toolTip");else b=n.select("#toolTip");n.select("#chart").attr("style","overflow:hidden").html(`<h3 style="position:absolute; margin-left:10px;margin-top:8px;">\n                        <span style="font-family: ${d}; font-weight:normal ;\n                       ">     \n                        ${c}\n                        </span>\n                        </h3>`);var x=n.scaleOrdinal().range(_),w=(n.scaleSequential(n.interpolate("purple","orange")).domain([1,4]),(y=n.pie().sort((t,n)=>t>n?50:-100).value((function(t){return t.measure_count})))(v),n.select("#chart"));w.append("span").data(y(v)).attr("fill","#333").text((function(t){return String(parseFloat((t.endAngle-t.startAngle)/(2*Math.PI)*100).toFixed(0))+"%"})).attr("style",`margin-left:13px; \n       margin-top:80px;\n       position:absolute; \n       font-family: ${d};\n       font-weight: bold; \n       font-size: 28;\n       px; color: #333;`),w.append("span").data(y(v)).text((function(t){return t.data.dimension_values})).attr("style",`margin-left:13px; margin-top: 100px; position:absolute; font-family: ${d}; font-weight:normal ;font-size:12px`);var M=n.select("#chart").append("svg").attr("preserveAspectRatio","xMaxYMax meet").attr("width",parseInt(e)+parseInt(r.left)+parseInt(r.right)).attr("height",parseInt(i+40)+parseInt(r.top)+parseInt(r.bottom)).append("g").append("g").attr("transform","translate("+p+","+g+")");M.append("g").attr("id","slices"),M.append("g").attr("class","labels"),M.append("g").attr("class","lines"),M.append("g").attr("id","legend");var A=n.arc().outerRadius(88.2).innerRadius(0),T=n.arc().outerRadius(62).innerRadius(81),S=n.arc().innerRadius(72).outerRadius(72),E=n.arc().innerRadius(89.1).outerRadius(89.1),N=function(t){return t.data.dimension_values},k=M.select("#slices").selectAll("path.slices").data(y(v),N);k.enter().insert("path").style("fill",(function(t){return x(t.data.dimension_values)})).attr("class","slices").merge(k).transition().duration(2600).attrTween("d",(function(t){this._current=this._current||t;var e=n.interpolate(this._current,t);return this._current=e(0),function(t){return A(e(t))}})),k.exit().remove(),k.attr("transform",(function(){$+=40;const t=document.getElementById("legend").getBoundingClientRect();return`translate(${-(e/2+t.width/2)},0)`})),M.selectAll(".slices").on("mouseover",(function(t){n.select(this).style("cursor","pointer"),n.select(this).style("stroke-width",s+2),n.select(this).style("stroke","#dedede"),n.select(this).style("stroke-opacity","0.5")})),M.selectAll(".slices").on("mousemove",(function(t,n){b.style("left",t.pageX+15+"px"),b.style("top",t.pageY-50+"px");var e=Intl.NumberFormat("pt-BR").format(n.data.measure_count);b.style("display","inline-block"),b.style("position","absolute"),b.style("font-family",d),b.style("font-weight","bold"),b.style("font-size","11px"),b.style("background-color","#fff"),b.style("padding","8px"),b.style("border","1px solid #dedede"),b.html(`${l}<br><span style="font-weight: bold; color:#333" > ${n.data.dimension_values}</span><br><br>${h}<br><span style="font-weight: bold; color:#333" >${e}</span>`)})).on("mouseout",(function(t){n.select(this).style("stroke-width",s),n.select(this).style("stroke","#fff"),n.select(this).style("stroke-opacity","1"),b.style("position","absolute"),b.style("display","none")}));var C=Array();M.selectAll(".slices").on("click",(function(t){try{b.style("position","absolute"),b.style("display","none"),C[a.fields.dimensions[0].name]={field:a.fields.dimensions[0].name,value:t.target.__data__.data.dimension_values};var n={event:t,row:C};LookerCharts.Utils.toggleCrossfilter(n)}catch(t){console.log(t)}}));var P=M.select(".labels").selectAll("text").data(y(v),N);function z(t){return t.startAngle+(t.endAngle-t.startAngle)/2}P.enter().append("text").attr("dy",".35em").attr("style",`margin-left:13px; margin-top:80px;position:absolute; font-family: ${d};font-weight:bold ; font-size:18px; color:#333`).text((function(t){return parseFloat((t.endAngle-t.startAngle)/(2*Math.PI)*100).toFixed(0)+"%"})).merge(P).transition().duration(2600).attrTween("transform",(function(t){this._current=this._current||t;var e=n.interpolate(this._current,t);return this._current=e(0),function(t){var n=e(t),r=E.centroid(n);return r[0]=90*(z(n)<Math.PI?1:-1),"translate("+r+")"}})).styleTween("text-anchor",(function(t){this._current=this._current||t;var e=n.interpolate(this._current,t);return this._current=e(0),function(t){return z(e(t))<Math.PI?"start":"end"}})),P.exit().remove();var I=M.select(".lines").selectAll("polyline").data(y(v),N);I.enter().append("polyline").merge(I).transition().duration(2600).attrTween("points",(function(t){this._current=this._current||t;var e=n.interpolate(this._current,t);return this._current=e(0),function(t){var n=e(t),r=E.centroid(n);return r[0]=81*(z(n)<Math.PI?1:-1),[T.centroid(n),E.centroid(n),r]}})),I.exit().remove();var R=M.selectAll(".circles").data(y(v));(R=R.enter().append("circle").attr("class","circles").attr("r",3).attr("fill","none").merge(R)).transition().duration(2600).attrTween("transform",(function(t){this._current=this._current||t;var e=n.interpolate(this._current,t);return this._current=e(0),function(t){var n=e(t);return E.centroid(n)[0]=85.5*(z(n),Math.PI,9),"translate("+S.centroid(n)+")"}})),R.exit().remove();var $=0;const D=M.selectAll("#legend"),B=D.selectAll("g").data(v).enter().append("g");B.append("circle").attr("fill",(function(t){return x(t.dimension_values)})).attr("cx",5).attr("cy",5).attr("r",5).attr("width",10).attr("height",10),B.append("text").style("font-family",""+d).style("font-weight","bold").style("font-size","13px").attr("x",17.5).attr("y",10).text((function(t){return t.dimension_values})),B.attr("transform",(function(t,n){return`translate(${$+=100},120)`})),D.attr("transform",(function(){$+=50;const t=document.getElementById("legend").getBoundingClientRect();return`translate(${-(e/2+t.width/2)},0)`}))}(d);break;case"donut_toggle":!function(t){var n=!0,e=S,r=function(){return console.log(n),e=n?S:E,n=!n,e},i=t.d3,o=t.width,u=t.margin,a=t.height,c=t.data,f=t.barNotSelected,s=t.queryResponse,l=t.titleGraphic,h=t.details,d=(t.fontSizePercent,t.strokeWidth),p=t.dimensionTitle,g=t.measureTitle,v="'Quicksand', sans-serif",y=parseInt(o)+parseInt(u.left)+parseInt(u.right)-135,_=parseInt(a)+parseInt(u.top)+parseInt(u.bottom-20)-100,m=(d=t.strokeWidth,[]),b=i.pie().value((function(t){return t.measure_count}));console.log("width",o),console.log("height",a);var x=Array();x=["#FD8A64","#1EC370","#6A52FA","#20B9FC"];try{if(h.crossfilters.length>0){var w=-1;c=c.filter((function(t){return w++,h.crossfilters[0].values.includes(t[s.fields.dimensions[0].name].value)?x[w]=x[w]:x[w]=f[0]}))}}catch(t){}if(console.log("var data após o filtro",c),console.log("details",h),c.forEach((function(t){m.push({measure_count:t[s.fields.measures[0].name].value,dimension_values:t[s.fields.dimensions[0].name].value})})),i.scaleOrdinal().domain(m).range(x),0==i.select("#toolTip").size())var M=i.select("body").append("div").attr("id","toolTip");else M=i.select("#toolTip");i.select("#chart").attr("style","overflow:hidden").html(`<h3 style="position:absolute; margin-left:10px;margin-top:8px;">\n                        <span style="font-family: ${v}; font-weight:normal ;\n                       ">     \n                        ${l}\n                        </span>\n                        </h3>`);var A=i.scaleOrdinal().range(x),T=(i.scaleSequential(i.interpolate("purple","orange")).domain([1,4]),(b=i.pie().sort((t,n)=>t>n?50:-100).value((function(t){return t.measure_count})))(m),i.select("#chart"));(T=i.select("#chart")).append("span").data(b(m)).attr("fill","#333").text((function(t){return String(parseFloat((t.endAngle-t.startAngle)/(2*Math.PI)*100).toFixed(0))+"%"})).attr("style",`margin-left:13px; margin-top:80px;position:absolute; font-family: ${v};font-weight:bold ; font-size:18px; color:#333`),T.append("span").data(b(m)).text((function(t){return t.data.dimension_values})).attr("style",`margin-left:13px; margin-top:100px;position:absolute; font-family: ${v};font-weight:normal ;font-size:12px`),T.append("span").data(b(m)).html((function(t){return'<i class="fa-solid fa-chart-simple"></i>'})).attr("style",`color:#dedede;margin-left:13px; margin-top:120px;position:absolute; font-family: ${v};font-weight:normal ;font-size:12px`).attr("id","toggleChart"),T.select("#toggleChart").on("click",(function(t){try{r()}catch(t){console.log(t)}}));var S=function(){var t=i.select("#chart").append("svg").attr("preserveAspectRatio","xMaxYMax meet").attr("width",parseInt(o)+parseInt(u.left)+parseInt(u.right)).attr("height",parseInt(a+40)+parseInt(u.top)+parseInt(u.bottom)).append("g").append("g").attr("transform","translate("+y+","+_+")");t.append("g").attr("id","slices"),t.append("g").attr("class","labels"),t.append("g").attr("class","lines"),t.append("g").attr("id","legend");var n=i.arc().outerRadius(88.2).innerRadius(0),e=i.arc().outerRadius(62).innerRadius(81),r=i.arc().innerRadius(72).outerRadius(72),c=i.arc().innerRadius(89.1).outerRadius(89.1),f=function(t){return t.data.dimension_values},l=t.select("#slices").selectAll("path.slices").data(b(m),f);l.enter().insert("path").style("fill",(function(t){return A(t.data.dimension_values)})).attr("class","slices").merge(l).transition().duration(2600).attrTween("d",(function(t){this._current=this._current||t;var e=i.interpolate(this._current,t);return this._current=e(0),function(t){return n(e(t))}})),l.exit().remove(),l.attr("transform",(function(){E+=40;const t=document.getElementById("legend").getBoundingClientRect();return`translate(${-(o/2+t.width/2)},0)`})),t.selectAll(".slices").on("mouseover",(function(t){i.select(this).style("cursor","pointer"),i.select(this).style("stroke-width",d+2),i.select(this).style("stroke","#dedede"),i.select(this).style("stroke-opacity","0.5")})),t.selectAll(".slices").on("mousemove",(function(t,n){M.style("left",t.pageX+15+"px"),M.style("top",t.pageY-50+"px");var e=Intl.NumberFormat("pt-BR").format(n.data.measure_count);M.style("display","inline-block"),M.style("position","absolute"),M.style("font-family",v),M.style("font-weight","bold"),M.style("font-size","11px"),M.style("background-color","#fff"),M.style("padding","8px"),M.style("border","1px solid #dedede"),M.html(`${p}<br><span style="font-weight: bold; color:#333" > ${n.data.dimension_values}</span><br><br>${g}<br><span style="font-weight: bold; color:#333" >${e}</span>`)})).on("mouseout",(function(t){i.select(this).style("stroke-width",d),i.select(this).style("stroke","#fff"),i.select(this).style("stroke-opacity","1"),M.style("position","absolute"),M.style("display","none")}));var h=Array();t.selectAll(".slices").on("click",(function(t){try{M.style("position","absolute"),M.style("display","none"),h[s.fields.dimensions[0].name]={field:s.fields.dimensions[0].name,value:t.target.__data__.data.dimension_values};var n={event:t,row:h};LookerCharts.Utils.toggleCrossfilter(n)}catch(t){console.log(t)}}));var x=t.select(".labels").selectAll("text").data(b(m),f);function w(t){return t.startAngle+(t.endAngle-t.startAngle)/2}x.enter().append("text").attr("dy",".35em").attr("style",`margin-left:13px; margin-top:80px;position:absolute; font-family: ${v};font-weight:bold ; font-size:18px; color:#333`).text((function(t){return parseFloat((t.endAngle-t.startAngle)/(2*Math.PI)*100).toFixed(0)+"%"})).merge(x).transition().duration(2600).attrTween("transform",(function(t){this._current=this._current||t;var n=i.interpolate(this._current,t);return this._current=n(0),function(t){var e=n(t),r=c.centroid(e);return r[0]=90*(w(e)<Math.PI?1:-1),"translate("+r+")"}})).styleTween("text-anchor",(function(t){this._current=this._current||t;var n=i.interpolate(this._current,t);return this._current=n(0),function(t){return w(n(t))<Math.PI?"start":"end"}})),x.exit().remove();var T=t.select(".lines").selectAll("polyline").data(b(m),f);T.enter().append("polyline").merge(T).transition().duration(2600).attrTween("points",(function(t){this._current=this._current||t;var n=i.interpolate(this._current,t);return this._current=n(0),function(t){var r=n(t),i=c.centroid(r);return i[0]=81*(w(r)<Math.PI?1:-1),[e.centroid(r),c.centroid(r),i]}})),T.exit().remove();var S=t.selectAll(".circles").data(b(m));(S=S.enter().append("circle").attr("class","circles").attr("r",3).attr("fill","none").merge(S)).transition().duration(2600).attrTween("transform",(function(t){this._current=this._current||t;var n=i.interpolate(this._current,t);return this._current=n(0),function(t){var e=n(t);return c.centroid(e)[0]=85.5*(w(e),Math.PI,9),"translate("+r.centroid(e)+")"}})),S.exit().remove();var E=0;const N=t.selectAll("#legend"),k=N.selectAll("g").data(m).enter().append("g");k.append("circle").attr("fill",(function(t){return A(t.dimension_values)})).attr("cx",5).attr("cy",5).attr("r",5).attr("width",10).attr("height",10),k.append("text").style("font-family",""+v).style("font-weight","bold").style("font-size","13px").attr("x",17.5).attr("y",10).text((function(t){return t.dimension_values}));return k.attr("transform",(function(t,n){return`translate(${E+=100},120)`})),N.attr("transform",(function(){E+=50;const t=document.getElementById("legend").getBoundingClientRect();return`translate(${-(o/2+t.width/2)},0)`})),t},E=function(){i.scaleLinear()(100);var t=i.scaleBand().domain(i.range(dataset.length)).rangeRound([0,o]).paddingInner(.05),n=i.scaleLinear().domain([0,i.max(dataset)]).range([0,a]),e=i.select("body").append("svg").attr("width",o).attr("height",a);return e.selectAll("rect").data(m).enter().append("rect").attr("x",(function(n,e){return t(e)})).attr("y",(function(t){return a-n(t)})).attr("width",t.bandwidth()).attr("height",(function(t){return n(t.dimension_values)})).attr("fill","#6A52FA"),e.selectAll("text").data(m).enter().append("text").text((function(t){return t.dimension_values})).attr("x",(function(n,e){return t(e)+t.bandwidth()/2})).attr("y",(function(t){return a-n(t.dimension_values)+14})).attr("font-family","sans-serif").attr("font-size","11px").attr("fill","white").attr("text-anchor","middle"),e}}(d);break;case"banner":!function(t){var n=t.d3,e=t.width,r=t.margin,i=t.height,o=t.data,u=t.barNotSelected,a=t.queryResponse,c=t.titleGraphic,f=t.details,s=(t.fontSizePercent,t.strokeWidth,t.dimensionTitle,t.measureTitle,parseInt(e),parseInt(r.left),parseInt(r.right),parseInt(i),parseInt(r.top),parseInt(r.bottom-20),t.strokeWidth,[]);n.pie().value((function(t){return t.measure_count})),console.log("width",e),console.log("height",i);var l=Array();l=["#FD8A64","#1EC370","#6A52FA","#20B9FC"];try{if(f.crossfilters.length>0){var h=-1;o=o.filter((function(t){return h++,f.crossfilters[0].values.includes(t[a.fields.dimensions[0].name].value)?l[h]=l[h]:l[h]=u[0]}))}}catch(t){}if(console.log("var data após o filtro",o),console.log("details",f),o.forEach((function(t){s.push({measure_count:t[a.fields.measures[0].name].value,dimension_values:t[a.fields.dimensions[0].name].value})})),0==n.select("#toolTip").size())n.select("body").append("div").attr("id","toolTip");else n.select("#toolTip");n.select("#chart").attr("style","overflow:hidden").html(`<h3 style="\n    font-weight: bold;\n    font-size: 88px;\n    color:white; \n    position:absolute; \n    margin-left:70px;\n    margin-top:120px;\n   ">\n    <span style="font-family: 'Quicksand', sans-serif; font-weight:normal ;\n    ">     \n    ${c}\n    </span>\n    </h3>`);var d=n.select("#chart");n.select("body").attr("style","background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background: linear-gradient(210.38deg, #2573E9 -23.6%, rgba(47, 187, 236, 0) 62.05%), linear-gradient(149.62deg, #2573E9 -34.04%, #C006DE 147.39%);"),n.select("html").attr("style","height:110%"),d.append("div").attr("style","position:absolute; float:right; ").html('<svg id="svg-logo" width="562" height="512" viewBox="0 0 562 512" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M281.001 117.633C217.761 117.633 167.05 168.941 167.05 231.584C167.05 294.227 217.761 345.535 281.001 345.535C344.241 345.535 395.549 294.227 395.549 231.584C394.952 168.344 344.241 117.633 281.001 117.633ZM281.001 117.633C217.761 117.633 167.05 168.941 167.05 231.584C167.05 294.227 217.761 345.535 281.001 345.535C344.241 345.535 395.549 294.227 395.549 231.584C394.952 168.344 344.241 117.633 281.001 117.633ZM472.499 364.04C411.645 370.603 344.229 371.796 280.989 371.796C217.749 371.796 150.333 370.603 89.4797 364.04C72.1782 362.25 62.6325 358.074 60.2461 338.983C56.6665 303.783 56.6665 267.987 56.6665 231.594C56.6665 195.201 56.6665 158.809 60.2461 124.206C62.0359 105.114 71.5816 100.938 89.4797 99.1484C150.333 92.5858 217.749 91.3926 280.989 91.3926C344.229 91.3926 411.645 92.5858 472.499 99.1484C490.397 100.938 499.943 105.114 501.732 124.206C505.312 159.405 505.312 195.201 505.312 231.594C505.312 267.987 505.312 303.783 501.732 338.983C499.346 357.477 489.8 362.25 472.499 364.04ZM281 -50C125.883 -50 0 76.4798 0 231C0 385.52 125.883 512 281 512C436.117 512 562 385.52 562 231C562 76.4798 436.117 -50 281 -50ZM281.001 117.633C217.761 117.633 167.05 168.941 167.05 231.584C167.05 294.227 217.761 345.535 281.001 345.535C344.241 345.535 395.549 294.227 395.549 231.584C394.952 168.344 344.241 117.633 281.001 117.633Z" fill="white"/>\n    </svg>    '),n.select("#svg-logo").attr("transform",(function(){return`translate(${e/1.65},-70)`}))}(d);break;case"bar_simple":!function(t){var n=t.d3,e=t.width,r=t.margin,i=t.height,o=t.data,u=t.barNotSelected,a=t.queryResponse,c=t.titleGraphic,f=t.details,s=(t.fontSizePercent,t.strokeWidth,t.dimensionTitle,t.measureTitle,"'Quicksand', sans-serif"),l=(parseInt(e),parseInt(r.left),parseInt(r.right),parseInt(i),parseInt(r.top),parseInt(r.bottom-20),t.strokeWidth,[]),h=n.pie().value((function(t){return t.measure_count}));console.log("width",e),console.log("height",i);var d=Array();d=["#FD8A64","#1EC370","#6A52FA","#20B9FC"];try{if(f.crossfilters.length>0){var p=-1;o=o.filter((function(t){return p++,f.crossfilters[0].values.includes(t[a.fields.dimensions[0].name].value)?d[p]=d[p]:d[p]=u[0]}))}}catch(t){}if(console.log("var data após o filtro",o),console.log("details",f),o.forEach((function(t){l.push({measure_count:t[a.fields.measures[0].name].value,dimension_values:t[a.fields.dimensions[0].name].value})})),0==n.select("#toolTip").size())var g=n.select("body").append("div").attr("id","toolTip");else g=n.select("#toolTip");n.select("#chart").attr("style","overflow:hidden").html(`<h3 style="position:absolute; margin-left:10px;margin-top:8px;">\n                        <span style="font-family: ${s}; font-weight:normal ;\n                       ">     \n                        ${c}\n                        </span>\n                        </h3>`),n.scaleOrdinal().range(d),n.scaleSequential(n.interpolate("purple","orange")).domain([1,4]);var v=n.select("#chart");console.log("d3.max(formattedData)",n.max(l)),console.log("d3.min(formattedData)",n.min(l)),console.log("d3.min(formattedData) all",l),Object.fromEntries(Object.entries(l).sort(([,t],[,n])=>t-n));var y=l.slice().sort((t,e)=>n.descending(t.measure_count,e.measure_count));v.append("span").data(h(y)).attr("fill","#333").text((function(t){return String(parseFloat((t.endAngle-t.startAngle)/(2*Math.PI)*100).toFixed(0))+"%"})).attr("style",`margin-left:13px; margin-top:80px;position:absolute; font-family: ${s};font-weight:bold ; font-size:18px; color:#333`),v.append("span").data(h(y)).text((function(t){return t.data.dimension_values})).attr("style",`margin-left:13px; margin-top:100px;position:absolute; font-family: ${s};font-weight:normal ;font-size:12px`),v.exit().remove(),n.scaleLinear()(100);var _=n.scaleBand().range([0,e]).padding(.05),m=n.scaleLinear().range([0,i]);_.domain(n.range(l.length)),m.domain([0,n.max(l,(function(t){return t.measure_count}))]);var b=n.select("body").append("svg").attr("width",e).attr("height",i+60).attr("transform","translate(40,-150)"),x=Array();b.append("g").attr("transform","translate(0,30)").selectAll("rect").data(l).enter().append("rect").attr("class","bar").attr("rx","7").attr("ry","7").attr("x",(function(t,n){return _(n)})).attr("y",(function(t){return i-m(t.measure_count)})).attr("width",_.bandwidth()).attr("height",(function(t){return m(t.measure_count)})).attr("fill","#6A52FA").on("click",(function(t){try{g.style("position","absolute"),g.style("display","none"),x[a.fields.dimensions[0].name]={field:a.fields.dimensions[0].name,value:t.target.__data__.dimension_values};var n={event:t,row:x};LookerCharts.Utils.toggleCrossfilter(n)}catch(t){console.log(t)}})).exit().remove(),b.append("g").attr("transform","translate(0,30)").selectAll("text").data(l).enter().append("text").text((function(t){return Intl.NumberFormat("pt-BR").format(t.measure_count)})).attr("x",(function(t,n){return _(n)+_.bandwidth()/2})).attr("y",(function(t){return i-m(t.measure_count)-14})).attr("font-family",s).attr("font-weight","bold").attr("font-size","11px").attr("text-anchor","middle").exit().remove(),b.append("g").attr("transform","translate(0,45)").selectAll("text").data(l).enter().append("text").text((function(t){return t.dimension_values})).attr("x",(function(t,n){return _(n)+_.bandwidth()/2})).attr("y",i).attr("font-family",s).attr("font-weight","bold").attr("font-size","11px").attr("text-anchor","middle").exit().remove()}(d);break;case"insights":!function(t){var n=t.d3,e=t.width,r=t.margin,i=t.height,o=t.data,u=(t.barNotSelected,t.queryResponse),a=(t.titleGraphic,t.details),c=(t.fontSizePercent,t.strokeWidth,t.dimensionTitle,t.measureTitle,t.iconInsights),f=t.titleInsights,s=t.numberFormat,l="'Quicksand', sans-serif",h=(parseInt(e),parseInt(r.left),parseInt(r.right),parseInt(i),parseInt(r.top),parseInt(r.bottom-20),t.strokeWidth,[]);if(n.pie().value((function(t){return t.measure_count})),console.log("width",e),console.log("height",i),Array(),console.log("var data após o filtro",o),console.log("details",a),o.forEach((function(t){h.push({measure_count:t[u.fields.measures[0].name].value})})),0==n.select("#toolTip").size())n.select("body").append("div").attr("id","toolTip");else n.select("#toolTip");n.select("#chart").attr("style","overflow:hidden").html(`<h3 style="position:absolute; margin-left:13px;margin-top:8px;">\n                        <span style="color:#8038FB;font-size:48px; font-family: ${l}; font-weight:normal ;\n                       ">     \n                        ${c}\n                        </span>\n                        </h3>`);var d=n.select("#chart");d.append("span").attr("fill","#333").text(f).attr("style",`margin-left:13px; \n      margin-top:80px;\n      position:absolute; \n      font-family: ${l};\n      font-weight: normal ; \n      font-size:17px; \n      color:#333`),d.append("span").data(h).attr("fill","#333").text((function(t){if("percent"==s){var n=parseFloat(t.measure_count).toFixed(2);return n=String(n).replace(".",","),console.log("percentage",n),n+"%"}return Intl.NumberFormat("pt-BR").format(t.measure_count)})).attr("style",`margin-left:13px; margin-top:110px;position:absolute; font-family: ${l};font-weight:bold ; font-size:38px; color:#333`)}(d)}u()}})}])}));